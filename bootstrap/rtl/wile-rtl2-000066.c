// Generated by wile, the extremely stable scheming genius compiler

#include "wile-rtl1.h"
#include "wile-rtl2.h"

// declarations

extern lval var_argv;
extern lval var_cmd_name;
extern lval var_stdin;
extern lval var_stdout;
extern lval var_stderr;
extern lval var_pi;
extern lval var_euler_gamma;
extern lval var_show_sign;
extern lval var_int_base;
extern lval var_flt_base;
extern lval var_flt_precision;
#include "wile-rtl2.h"
static lval fn_1(lptr*, lptr, const char*);	// (type-mismatch v c)
static lval var_2 = LVI_STRING_NOCPY("%c");		// r-chr
static lval var_3 = LVI_STRING_NOCPY("%v");		// r-obj
static lval var_4 = LVI_STRING_NOCPY("%[0-9]*%");		// r-pct
static lval var_5 = LVI_STRING_NOCPY("%[lrm]?[0-9]*s");		// r-str
static lval var_6 = LVI_STRING_NOCPY("%[lrm]?[ +]?[0-9]*[bodx]");		// r-exact
static lval var_7 = LVI_STRING_NOCPY("%[lrm]?[ +]?[0-9]*(.[0-9]*)?[fe]");		// r-float
static lval var_8 = LVI_BOOL(false);		// regex-all
static lval fn_9(lptr*, lptr, const char*);	// (split-format-string fstr)
static lval fn_10(lptr*, lptr, const char*);	// (align-str width align str)
static lval fn_11(lptr*, lptr, const char*);	// (disp-obj val)
static lval fn_12(lptr*, lptr, const char*);	// (printf-helper fstr . vals)
static lval fn_249(lptr*, lptr, const char*);
static lval fn_282(lptr*, lptr, const char*);
static lval fn_530(lptr*, lptr, const char*);
static lval fn_545(lptr*, lptr, const char*);
static lval fn_567(lptr*, lptr, const char*);

// definitions

// @@@ (type-mismatch v c) @@@ bld-rtl-dir/wile-rtl2-000066.scm:21 @@@ fn_1 @@@
static lval fn_1(lptr* var_13, lptr var_14, const char* cloc)
{
lval var_16;
var_16 = LVI_STRING("*printf type/value mismatch: got ");
lval var_17;
{
lval var_18[8];
var_18[0] = var_14[0];
// bld-rtl-dir/wile-rtl2-000066.scm:23
var_17 = wile_typeof(NULL, var_18, "bld-rtl-dir/wile-rtl2-000066.scm:23");
}
lval var_19;
var_19 = LVI_STRING(var_17.v.str);
lval var_20;
var_20 = LVI_STRING(" object for %");
lval var_21;
{
lval var_23[1];
var_23[0] = var_14[1];
var_21 = wile_gen_list(1, var_23, NULL);
}
{
lval var_22[8];
var_22[0] = var_21;
// bld-rtl-dir/wile-rtl2-000066.scm:25
var_21 = wile_char2string(NULL, var_22, "bld-rtl-dir/wile-rtl2-000066.scm:25");
}
lval var_24;
var_24 = LVI_STRING(" specifier");
lval var_25;
{
lval var_27[5];
var_27[0] = var_16;
var_27[1] = var_19;
var_27[2] = var_20;
var_27[3] = var_21;
var_27[4] = var_24;
var_25 = wile_gen_list(5, var_27, NULL);
}
{
lval var_26[8];
var_26[0] = var_25;
// bld-rtl-dir/wile-rtl2-000066.scm:22
var_25 = wile_string_append(NULL, var_26, "bld-rtl-dir/wile-rtl2-000066.scm:22");
}
return var_25;
}
// end of function fn_1

// @@@ (split-format-string fstr) @@@ bld-rtl-dir/wile-rtl2-000066.scm:46 @@@ fn_9 @@@
static lval fn_9(lptr* var_28, lptr var_29, const char* cloc)
{
lval var_31;
lval var_32;
{
lval var_33[8];
var_33[0] = var_29[0];
// bld-rtl-dir/wile-rtl2-000066.scm:47
var_32 = wile_string2list(NULL, var_33, "bld-rtl-dir/wile-rtl2-000066.scm:47");
}
var_31 = var_32;
lval var_34;
lval var_35;
var_35 = LVI_CHAR(48);
lval var_36;
var_36 = LVI_INT((unsigned char) var_35.v.chr);
var_34 = var_36;
lval var_37;
lval var_38;
var_38 = LVI_CHAR(108);
var_37 = var_38;
lval var_39;
lval var_40;
var_40 = LVI_STRING("");
var_39 = var_40;
lval var_41;
lval var_42;
var_42 = LVI_INT(0);
var_41 = var_42;
lval var_43;
lval var_44;
var_44 = LVI_BOOL(false);
var_43 = var_44;
lval var_45;
lval var_46;
var_46 = LVI_BOOL(false);
var_45 = var_46;
lval var_48;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_48 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_49;
var_49 = LVI_CHAR(37);
lval var_50;
var_50 = LVI_BOOL(var_48.v.chr == var_49.v.chr);
if (LV_IS_FALSE(var_50)) {
lval var_51;
var_51 = LVI_STRING("*printf error: malformed format string ");
lval var_52;
{
lval var_54[2];
var_54[0] = var_51;
var_54[1] = var_29[0];
var_52 = wile_gen_list(2, var_54, NULL);
}
{
lval var_53[8];
var_53[0] = var_52;
// bld-rtl-dir/wile-rtl2-000066.scm:56
var_52 = wile_string_append(NULL, var_53, "bld-rtl-dir/wile-rtl2-000066.scm:56");
}
lval var_55;
{
lval var_56[1];
var_56[0] = var_52;
var_55 = wile_gen_list(1, var_56, NULL);
}
if (var_55.vt == LV_PAIR && (var_55.v.pair.cdr == NULL || var_55.v.pair.cdr->vt == LV_NIL)) {
var_55 = (var_55.v.pair.car ? *(var_55.v.pair.car) : LVI_NIL());
}
cachalot->errval = new_lv(LV_NIL);
*(cachalot->errval) = var_55;
cachalot->l_whence = 0;
cachalot->c_whence = LISP_WHENCE;
longjmp(cachalot->cenv, 1);
} else {
lval var_57;
if (var_31.vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_57 = (var_31.v.pair.cdr ? *(var_31.v.pair.cdr) : LVI_NIL());
var_31 = var_57;
}
lval var_59;
var_59 = LVI_BOOL(false);
do {
lval var_60;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_60 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_61;
var_61 = LVI_CHAR(108);
lval var_62;
var_62 = LVI_BOOL(var_60.v.chr == var_61.v.chr);
var_59 = var_62;
if (!LV_IS_FALSE(var_59)) { break; }
lval var_63;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_63 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_64;
var_64 = LVI_CHAR(114);
lval var_65;
var_65 = LVI_BOOL(var_63.v.chr == var_64.v.chr);
var_59 = var_65;
if (!LV_IS_FALSE(var_59)) { break; }
lval var_66;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_66 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_67;
var_67 = LVI_CHAR(109);
lval var_68;
var_68 = LVI_BOOL(var_66.v.chr == var_67.v.chr);
var_59 = var_68;
if (!LV_IS_FALSE(var_59)) { break; }
} while (0);
if (LV_IS_FALSE(var_59)) {
(void)
 LVI_BOOL(false);
} else {
lval var_70;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_70 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
var_37 = var_70;
lval var_71;
if (var_31.vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_71 = (var_31.v.pair.cdr ? *(var_31.v.pair.cdr) : LVI_NIL());
var_31 = var_71;
}
lval var_73;
var_73 = LVI_BOOL(false);
do {
lval var_74;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_74 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_75;
var_75 = LVI_CHAR(32);
lval var_76;
var_76 = LVI_BOOL(var_74.v.chr == var_75.v.chr);
var_73 = var_76;
if (!LV_IS_FALSE(var_73)) { break; }
lval var_77;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_77 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_78;
var_78 = LVI_CHAR(43);
lval var_79;
var_79 = LVI_BOOL(var_77.v.chr == var_78.v.chr);
var_73 = var_79;
if (!LV_IS_FALSE(var_73)) { break; }
} while (0);
if (LV_IS_FALSE(var_73)) {
(void)
 LVI_BOOL(false);
} else {
lval var_81;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_81 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_82;
{
lval var_84[1];
var_84[0] = var_81;
var_82 = wile_gen_list(1, var_84, NULL);
}
{
lval var_83[8];
var_83[0] = var_82;
// bld-rtl-dir/wile-rtl2-000066.scm:63
var_82 = wile_char2string(NULL, var_83, "bld-rtl-dir/wile-rtl2-000066.scm:63");
}
var_39 = var_82;
lval var_85;
if (var_31.vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_85 = (var_31.v.pair.cdr ? *(var_31.v.pair.cdr) : LVI_NIL());
var_31 = var_85;
}
lval var_86;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_86 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_87;
var_87 = LVI_CHAR(48);
lval var_88;
var_88 = LVI_BOOL(var_86.v.chr == var_87.v.chr);
var_43 = var_88;
lval var_90;
lval var_91;
lval var_92;
var_92 = LVI_INT(0);
var_90 = var_92;
lptr var_93 = new_lv(VT_UNINIT);
var_93->v.pair.car = &(var_90); //  symbol.3
do {
lval var_94;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_94 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_95;
var_95 = LVI_BOOL(isdigit(var_94.v.chr));
lval var_96;
var_96 = LVI_BOOL(LV_IS_FALSE(var_95));
if (!LV_IS_FALSE(var_96)) {
break;
}
lval var_97;
var_97 = LVI_INT(10);
lval var_98;
var_98 = LVI_INT(var_97.v.iv * var_41.v.iv);
lval var_99;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_99 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_100;
var_100 = LVI_INT((unsigned char) var_99.v.chr);
lval var_101;
var_101 = LVI_INT(var_100.v.iv - var_34.v.iv);
lval var_102;
var_102 = LVI_INT(var_98.v.iv + var_101.v.iv);
var_41 = var_102;
lval var_103;
if (var_31.vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_103 = (var_31.v.pair.cdr ? *(var_31.v.pair.cdr) : LVI_NIL());
var_31 = var_103;
lval var_104;
var_104 = LVI_INT(1);
lval var_105;
var_105 = LVI_INT(var_90.v.iv + var_104.v.iv);
var_91 = var_105;
var_90 = var_91;
} while (1);
*var_93 = var_90;
lval var_107;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_107 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_108;
var_108 = LVI_CHAR(46);
lval var_109;
var_109 = LVI_BOOL(var_107.v.chr == var_108.v.chr);
if (LV_IS_FALSE(var_109)) {
(void)
 LVI_BOOL(false);
} else {
lval var_111;
if (var_31.vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_111 = (var_31.v.pair.cdr ? *(var_31.v.pair.cdr) : LVI_NIL());
var_31 = var_111;
lval var_112;
var_112 = LVI_INT(0);
var_45 = var_112;
lval var_114;
lval var_115;
lval var_116;
var_116 = LVI_INT(0);
var_114 = var_116;
lptr var_117 = new_lv(VT_UNINIT);
var_117->v.pair.car = &(var_114); //  symbol.4
do {
lval var_118;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_118 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_119;
var_119 = LVI_BOOL(isdigit(var_118.v.chr));
lval var_120;
var_120 = LVI_BOOL(LV_IS_FALSE(var_119));
if (!LV_IS_FALSE(var_120)) {
break;
}
lval var_121;
var_121 = LVI_INT(10);
lval var_122;
var_122 = LVI_INT(var_121.v.iv * var_45.v.iv);
lval var_123;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_123 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_124;
var_124 = LVI_INT((unsigned char) var_123.v.chr);
lval var_125;
var_125 = LVI_INT(var_124.v.iv - var_34.v.iv);
lval var_126;
var_126 = LVI_INT(var_122.v.iv + var_125.v.iv);
var_45 = var_126;
lval var_127;
if (var_31.vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_127 = (var_31.v.pair.cdr ? *(var_31.v.pair.cdr) : LVI_NIL());
var_31 = var_127;
lval var_128;
var_128 = LVI_INT(1);
lval var_129;
var_129 = LVI_INT(var_114.v.iv + var_128.v.iv);
var_115 = var_129;
var_114 = var_115;
} while (1);
*var_117 = var_114;
}
lval var_131;
var_131 = LVI_BOOL(true);
do {
lval var_132;
if (var_31.vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_132 = (var_31.v.pair.cdr ? *(var_31.v.pair.cdr) : LVI_NIL());
lval var_133;
var_133 = LVI_BOOL(var_132.vt == LV_NIL);
var_131 = var_133;
if (LV_IS_FALSE(var_131)) { break; }
lval var_134;
var_134 = LVI_BOOL(false);
do {
lval var_135;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_135 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_136;
var_136 = LVI_CHAR(37);
lval var_137;
var_137 = LVI_BOOL(var_135.v.chr == var_136.v.chr);
var_134 = var_137;
if (!LV_IS_FALSE(var_134)) { break; }
lval var_138;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_138 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_139;
var_139 = LVI_CHAR(115);
lval var_140;
var_140 = LVI_BOOL(var_138.v.chr == var_139.v.chr);
var_134 = var_140;
if (!LV_IS_FALSE(var_134)) { break; }
lval var_141;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_141 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_142;
var_142 = LVI_CHAR(99);
lval var_143;
var_143 = LVI_BOOL(var_141.v.chr == var_142.v.chr);
var_134 = var_143;
if (!LV_IS_FALSE(var_134)) { break; }
lval var_144;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_144 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_145;
var_145 = LVI_CHAR(118);
lval var_146;
var_146 = LVI_BOOL(var_144.v.chr == var_145.v.chr);
var_134 = var_146;
if (!LV_IS_FALSE(var_134)) { break; }
lval var_147;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_147 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_148;
var_148 = LVI_CHAR(98);
lval var_149;
var_149 = LVI_BOOL(var_147.v.chr == var_148.v.chr);
var_134 = var_149;
if (!LV_IS_FALSE(var_134)) { break; }
lval var_150;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_150 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_151;
var_151 = LVI_CHAR(111);
lval var_152;
var_152 = LVI_BOOL(var_150.v.chr == var_151.v.chr);
var_134 = var_152;
if (!LV_IS_FALSE(var_134)) { break; }
lval var_153;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_153 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_154;
var_154 = LVI_CHAR(100);
lval var_155;
var_155 = LVI_BOOL(var_153.v.chr == var_154.v.chr);
var_134 = var_155;
if (!LV_IS_FALSE(var_134)) { break; }
lval var_156;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_156 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_157;
var_157 = LVI_CHAR(120);
lval var_158;
var_158 = LVI_BOOL(var_156.v.chr == var_157.v.chr);
var_134 = var_158;
if (!LV_IS_FALSE(var_134)) { break; }
lval var_159;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_159 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_160;
var_160 = LVI_CHAR(102);
lval var_161;
var_161 = LVI_BOOL(var_159.v.chr == var_160.v.chr);
var_134 = var_161;
if (!LV_IS_FALSE(var_134)) { break; }
lval var_162;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_162 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_163;
var_163 = LVI_CHAR(101);
lval var_164;
var_164 = LVI_BOOL(var_162.v.chr == var_163.v.chr);
var_134 = var_164;
if (!LV_IS_FALSE(var_134)) { break; }
} while (0);
var_131 = var_134;
if (LV_IS_FALSE(var_131)) { break; }
} while (0);
if (LV_IS_FALSE(var_131)) {
lval var_165;
var_165 = LVI_STRING("*printf error: malformed format string ");
lval var_166;
{
lval var_168[2];
var_168[0] = var_165;
var_168[1] = var_29[0];
var_166 = wile_gen_list(2, var_168, NULL);
}
{
lval var_167[8];
var_167[0] = var_166;
// bld-rtl-dir/wile-rtl2-000066.scm:86
var_166 = wile_string_append(NULL, var_167, "bld-rtl-dir/wile-rtl2-000066.scm:86");
}
lval var_169;
{
lval var_170[1];
var_170[0] = var_166;
var_169 = wile_gen_list(1, var_170, NULL);
}
if (var_169.vt == LV_PAIR && (var_169.v.pair.cdr == NULL || var_169.v.pair.cdr->vt == LV_NIL)) {
var_169 = (var_169.v.pair.car ? *(var_169.v.pair.car) : LVI_NIL());
}
cachalot->errval = new_lv(LV_NIL);
*(cachalot->errval) = var_169;
cachalot->l_whence = 0;
cachalot->c_whence = LISP_WHENCE;
longjmp(cachalot->cenv, 1);
} else {
(void)
 LVI_BOOL(false);
}
lval var_173;
var_173 = LVI_BOOL(true);
do {
lval var_174;
var_174 = LVI_STRING("+");
lval var_175;
var_175 = LVI_BOOL(strcmp(var_39.v.str, var_174.v.str) == 0);
var_173 = var_175;
if (LV_IS_FALSE(var_173)) { break; }
lval var_176;
var_176 = LVI_BOOL(false);
do {
lval var_177;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_177 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_178;
var_178 = LVI_CHAR(98);
lval var_179;
var_179 = LVI_BOOL(var_177.v.chr == var_178.v.chr);
var_176 = var_179;
if (!LV_IS_FALSE(var_176)) { break; }
lval var_180;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_180 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_181;
var_181 = LVI_CHAR(111);
lval var_182;
var_182 = LVI_BOOL(var_180.v.chr == var_181.v.chr);
var_176 = var_182;
if (!LV_IS_FALSE(var_176)) { break; }
lval var_183;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_183 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_184;
var_184 = LVI_CHAR(120);
lval var_185;
var_185 = LVI_BOOL(var_183.v.chr == var_184.v.chr);
var_176 = var_185;
if (!LV_IS_FALSE(var_176)) { break; }
} while (0);
var_173 = var_176;
if (LV_IS_FALSE(var_173)) { break; }
} while (0);
if (LV_IS_FALSE(var_173)) {
(void)
 LVI_BOOL(false);
} else {
lval var_187;
var_187 = LVI_STRING(" ");
var_39 = var_187;
}
lval var_188;
if (var_31.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_188 = (var_31.v.pair.car ? *(var_31.v.pair.car) : LVI_NIL());
lval var_189;
{
lval var_190[6];
var_190[0] = var_188;
var_190[1] = var_41;
var_190[2] = var_37;
var_190[3] = var_39;
var_190[4] = var_45;
var_190[5] = var_43;
var_189 = wile_gen_list(6, var_190, NULL);
}
return var_189;
}
// end of function fn_9

// @@@ string-pad-right @@@ bld-rtl-dir/wile-rtl2-000066.scm:96 @@@ fn_195 @@@
static lval fn_195(lptr* var_196, lptr var_197, const char* cloc)
{
lval var_199;
{
lval var_200[8];
var_200[0] = var_197[0];
var_200[1] = var_197[1];
var_200[2] = var_197[2];
// bld-rtl-dir/wile-rtl2-000066.scm:96
var_199 = wile_string_pad_right(NULL, var_200, "bld-rtl-dir/wile-rtl2-000066.scm:96");
}
return var_199;
}
// end of prim fn_195

// @@@ string-pad-center @@@ bld-rtl-dir/wile-rtl2-000066.scm:97 @@@ fn_201 @@@
static lval fn_201(lptr* var_202, lptr var_203, const char* cloc)
{
lval var_205;
{
lval var_206[8];
var_206[0] = var_203[0];
var_206[1] = var_203[1];
var_206[2] = var_203[2];
// bld-rtl-dir/wile-rtl2-000066.scm:97
var_205 = wile_string_pad_center(NULL, var_206, "bld-rtl-dir/wile-rtl2-000066.scm:97");
}
return var_205;
}
// end of prim fn_201

// @@@ string-pad-left @@@ bld-rtl-dir/wile-rtl2-000066.scm:98 @@@ fn_207 @@@
static lval fn_207(lptr* var_208, lptr var_209, const char* cloc)
{
lval var_211;
{
lval var_212[8];
var_212[0] = var_209[0];
var_212[1] = var_209[1];
var_212[2] = var_209[2];
// bld-rtl-dir/wile-rtl2-000066.scm:98
var_211 = wile_string_pad_left(NULL, var_212, "bld-rtl-dir/wile-rtl2-000066.scm:98");
}
return var_211;
}
// end of prim fn_207

// @@@ (align-str width align str) @@@ bld-rtl-dir/wile-rtl2-000066.scm:94 @@@ fn_10 @@@
static lval fn_10(lptr* var_191, lptr var_192, const char* cloc)
{
lval var_194;
if (var_192[1].vt != LV_CHAR) {
wile_exception("case", LISP_WHENCE, "case-value type does not match case type");
}
switch (var_192[1].v.chr) {
case 108:
{
var_194 = LVI_PROC(fn_195,NULL,3);
break;
}
case 109:
{
var_194 = LVI_PROC(fn_201,NULL,3);
break;
}
case 114:
{
var_194 = LVI_PROC(fn_207,NULL,3);
break;
}
default:
{
lval var_213;
var_213 = LVI_STRING("*printf error: malformed alignment");
lval var_214;
{
lval var_215[1];
var_215[0] = var_213;
var_214 = wile_gen_list(1, var_215, NULL);
}
if (var_214.vt == LV_PAIR && (var_214.v.pair.cdr == NULL || var_214.v.pair.cdr->vt == LV_NIL)) {
var_214 = (var_214.v.pair.car ? *(var_214.v.pair.car) : LVI_NIL());
}
cachalot->errval = new_lv(LV_NIL);
*(cachalot->errval) = var_214;
cachalot->l_whence = 0;
cachalot->c_whence = LISP_WHENCE;
longjmp(cachalot->cenv, 1);
var_194 = var_214;
break;
}
}
lval var_216;
var_216 = LVI_CHAR(32);
lval var_217;
{
lval var_218[3];
var_218[0] = var_192[2];
var_218[1] = var_216;
var_218[2] = var_192[0];
var_217 = wile_gen_list(3, var_218, NULL);
}
lval var_219;
{
lval var_220[2];
var_220[0] = var_194;
var_220[1] = var_217;
var_219 = wile_gen_list(2, var_220, NULL);
}
var_219 = wile_apply_function(&(var_219), LISP_WHENCE);
return var_219;
}
// end of function fn_10

// @@@ lambda (p a) @@@ bld-rtl-dir/wile-rtl2-000066.scm:116 @@@ fn_249 @@@
static lval fn_249(lptr* var_250, lptr var_251, const char* cloc)
{
lbl_252:;
lval var_253;
lval var_254;
if (var_251[0].vt == LV_FILE_PORT || var_251[0].vt == LV_PIPE_PORT || var_251[0].vt == LV_SOCK_PORT) {
int c = fgetc(var_251[0].v.fp);
var_254 = ((c == EOF) ? LVI_BOOL(false) : LVI_CHAR(c));
} else {
WILE_EX("read-char", "input is not a port");
}
var_253 = var_254;
lval var_255;
if (LV_IS_FALSE(var_253)) {
{
lval var_257[8];
var_257[0] = var_251[0];
// bld-rtl-dir/wile-rtl2-000066.scm:122
(void)
 wile_closeport(NULL, var_257, "bld-rtl-dir/wile-rtl2-000066.scm:122");
}
lval var_258;
{
lval var_259[8];
var_259[0] = var_251[1];
// bld-rtl-dir/wile-rtl2-000066.scm:123
var_258 = wile_list_reverse(NULL, var_259, "bld-rtl-dir/wile-rtl2-000066.scm:123");
}
lval var_260;
{
lval var_262[1];
var_262[0] = var_258;
var_260 = wile_gen_list(1, var_262, NULL);
}
{
lval var_261[8];
var_261[0] = var_260;
// bld-rtl-dir/wile-rtl2-000066.scm:123
var_260 = wile_char2string(NULL, var_261, "bld-rtl-dir/wile-rtl2-000066.scm:123");
}
var_255 = var_260;
} else {
lval var_263;
{
lptr p1 = NULL, p2 = NULL;
if (var_253.vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_253;
}
if (var_251[1].vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = var_251[1];
}
var_263 = LVI_PAIR(p1, p2);
}
lval var_266[8];
var_266[0] = var_251[0];
var_266[1] = var_263;
var_251[0] = var_266[0];
var_251[1] = var_266[1];
// bld-rtl-dir/wile-rtl2-000066.scm:120
goto lbl_252;	// selfie
}
return var_255;
}
// end of lambda fn_249

// @@@ (disp-obj val) @@@ bld-rtl-dir/wile-rtl2-000066.scm:106 @@@ fn_11 @@@
static lval fn_11(lptr* var_221, lptr var_222, const char* cloc)
{
lval var_224;
lval var_225;
var_225 = LVI_STRING("WILE_SCRATCH_DIRECTORY");
lval var_226;
{
char* ev = getenv(var_225.v.str);
var_226 = (ev ? LVI_STRING(ev) : LVI_BOOL(false));
}
var_224 = var_226;
lval var_227;
lval var_228;
var_228 = LVI_STRING("sprintf-scratch.XXXXXX");
var_227 = var_228;
lval var_229;
lval var_230;
if (LV_IS_FALSE(var_224)) {
var_230 = var_227;
} else {
lval var_231;
var_231 = LVI_STRING("/");
lval var_232;
{
lval var_234[3];
var_234[0] = var_224;
var_234[1] = var_231;
var_234[2] = var_227;
var_232 = wile_gen_list(3, var_234, NULL);
}
{
lval var_233[8];
var_233[0] = var_232;
// bld-rtl-dir/wile-rtl2-000066.scm:109
var_232 = wile_string_append(NULL, var_233, "bld-rtl-dir/wile-rtl2-000066.scm:109");
}
var_230 = var_232;
}
var_229 = var_230;
lval var_235;
lval var_236;
{
lval var_237[8];
var_237[0] = var_229;
// bld-rtl-dir/wile-rtl2-000066.scm:110
var_236 = wile_temp_file(NULL, var_237, "bld-rtl-dir/wile-rtl2-000066.scm:110");
}
var_235 = var_236;
lval var_238;
lval var_239;
if (var_235.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_239 = (var_235.v.pair.car ? *(var_235.v.pair.car) : LVI_NIL());
var_238 = var_239;
lval var_240;
lval var_241;
var_241 = LVI_STRING("cadr");
lval var_242;
{
char* cp = strchr(var_241.v.str, 'r');
var_242 = var_235;
while (*(--cp) != 'c') {
if (var_242.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_242 = (var_242.v.pair.car ? *(var_242.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_242 = (var_242.v.pair.cdr ? *(var_242.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_241.v.str);
}
}
}
var_240 = var_242;
(void)
 LVI_BOOL(unlink(var_240.v.str) == 0);
if (var_238.vt == LV_FILE_PORT || var_238.vt == LV_PIPE_PORT || var_238.vt == LV_SOCK_PORT) {
wile_print_lisp_val(&(var_222[0]), var_238.v.fp, LISP_WHENCE);
(void)
 var_222[0];
} else {
WILE_EX("display", "expects a scheme value and a port");
}
lval var_245;
var_245 = LVI_INT(0);
lval var_246;
var_246 = LVI_SYMBOL("start");
{
lval var_248[8];
var_248[0] = var_238;
var_248[1] = var_245;
var_248[2] = var_246;
// bld-rtl-dir/wile-rtl2-000066.scm:115
(void)
 wile_setfilepos3(NULL, var_248, "bld-rtl-dir/wile-rtl2-000066.scm:115");
}
MK_CLOS(var_250,0);
lval var_267;
var_267 = LVI_NIL();
lval var_268;
lval var_269[8];
var_269[0] = var_238;
var_269[1] = var_267;
// bld-rtl-dir/wile-rtl2-000066.scm:116
var_268 = fn_249(var_250, var_269, "bld-rtl-dir/wile-rtl2-000066.scm:116");
return var_268;
}
// end of function fn_11

// @@@ - @@@ bld-rtl-dir/wile-rtl2-000066.scm:207 @@@ fn_478 @@@
static lval fn_478(lptr* var_479, lptr var_480, const char* cloc)
{
lval var_482;
var_482 = var_480[0];
{
lval var_483[8];
var_483[0] = var_482;
// bld-rtl-dir/wile-rtl2-000066.scm:207
var_482 = wile_subtract(NULL, var_483, "bld-rtl-dir/wile-rtl2-000066.scm:207");
}
return var_482;
}
// end of prim fn_478

// @@@ + @@@ bld-rtl-dir/wile-rtl2-000066.scm:207 @@@ fn_484 @@@
static lval fn_484(lptr* var_485, lptr var_486, const char* cloc)
{
lval var_488;
var_488 = var_486[0];
{
lval var_489[8];
var_489[0] = var_488;
// bld-rtl-dir/wile-rtl2-000066.scm:207
var_488 = wile_add(NULL, var_489, "bld-rtl-dir/wile-rtl2-000066.scm:207");
}
return var_488;
}
// end of prim fn_484

// @@@ lambda (acc fstr vs) @@@ bld-rtl-dir/wile-rtl2-000066.scm:134 @@@ fn_282 @@@
static lval fn_282(lptr* var_283, lptr var_284, const char* cloc)
{
lbl_285:;
lval var_286;
lval var_287;
{
lval var_288[8];
var_288[0] = var_8;
var_288[1] = var_284[1];
// bld-rtl-dir/wile-rtl2-000066.scm:137
var_287 = wile_regex_match(NULL, var_288, "bld-rtl-dir/wile-rtl2-000066.scm:137");
}
var_286 = var_287;
lval var_289;
if (LV_IS_FALSE(var_286)) {
lval var_290;
lval var_291;
var_291 = LVI_CHAR(37);
lval var_292;
if (var_284[1].vt != LV_STRING || var_291.vt != LV_CHAR) {
WILE_EX("string-find-first-char", "expects a string and a character input");
}
{
char* pos = strchr(var_284[1].v.str, var_291.v.chr);
if (pos) {
var_292 = LVI_INT(pos - var_284[1].v.str);
} else {
var_292 = LVI_BOOL(false);
}
}
var_290 = var_292;
if (LV_IS_FALSE(var_290)) {
(void)
 LVI_BOOL(false);
} else {
lval var_295;
var_295 = LVI_STRING("*printf error: unknown format directive ");
lval var_296;
if (var_284[1].vt != LV_STRING) {
WILE_EX("string-copy", "expects a string input");
}
{
size_t len = strlen(var_284[1].v.str);
if (var_290.v.iv < 0 || (size_t) var_290.v.iv >= len) {
WILE_EX("string-copy", "start index is out of range");
}
var_296 = LVI_STRING(var_284[1].v.str + var_290.v.iv);
}
lval var_297;
{
lval var_299[2];
var_299[0] = var_295;
var_299[1] = var_296;
var_297 = wile_gen_list(2, var_299, NULL);
}
{
lval var_298[8];
var_298[0] = var_297;
// bld-rtl-dir/wile-rtl2-000066.scm:218
var_297 = wile_string_append(NULL, var_298, "bld-rtl-dir/wile-rtl2-000066.scm:218");
}
lval var_300;
{
lval var_301[1];
var_301[0] = var_297;
var_300 = wile_gen_list(1, var_301, NULL);
}
if (var_300.vt == LV_PAIR && (var_300.v.pair.cdr == NULL || var_300.v.pair.cdr->vt == LV_NIL)) {
var_300 = (var_300.v.pair.car ? *(var_300.v.pair.car) : LVI_NIL());
}
cachalot->errval = new_lv(LV_NIL);
*(cachalot->errval) = var_300;
cachalot->l_whence = 0;
cachalot->c_whence = LISP_WHENCE;
longjmp(cachalot->cenv, 1);
}
lval var_303;
var_303 = LVI_BOOL(var_284[2].vt == LV_NIL);
if (LV_IS_FALSE(var_303)) {
lval var_304;
var_304 = LVI_STRING("*printf error: excess arguments");
lval var_305;
{
lval var_306[1];
var_306[0] = var_304;
var_305 = wile_gen_list(1, var_306, NULL);
}
if (var_305.vt == LV_PAIR && (var_305.v.pair.cdr == NULL || var_305.v.pair.cdr->vt == LV_NIL)) {
var_305 = (var_305.v.pair.car ? *(var_305.v.pair.car) : LVI_NIL());
}
cachalot->errval = new_lv(LV_NIL);
*(cachalot->errval) = var_305;
cachalot->l_whence = 0;
cachalot->c_whence = LISP_WHENCE;
longjmp(cachalot->cenv, 1);
} else {
(void)
 LVI_BOOL(false);
}
lval var_308;
{
lptr p1 = NULL, p2 = NULL;
if (var_284[1].vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_284[1];
}
if (var_284[0].vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = var_284[0];
}
var_308 = LVI_PAIR(p1, p2);
}
var_289 = var_308;
} else {
lval var_309;
lval var_310;
var_310 = LVI_STRING("cadr");
lval var_311;
{
char* cp = strchr(var_310.v.str, 'r');
var_311 = var_286;
while (*(--cp) != 'c') {
if (var_311.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_311 = (var_311.v.pair.car ? *(var_311.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_311 = (var_311.v.pair.cdr ? *(var_311.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_310.v.str);
}
}
}
var_309 = var_311;
lval var_312;
lval var_313;
var_313 = LVI_STRING("caddr");
lval var_314;
{
char* cp = strchr(var_313.v.str, 'r');
var_314 = var_286;
while (*(--cp) != 'c') {
if (var_314.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_314 = (var_314.v.pair.car ? *(var_314.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_314 = (var_314.v.pair.cdr ? *(var_314.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_313.v.str);
}
}
}
var_312 = var_314;
lval var_315;
lval var_316;
lval var_317[8];
var_317[0] = var_309;
// bld-rtl-dir/wile-rtl2-000066.scm:141
var_316 = fn_9(NULL, var_317, "bld-rtl-dir/wile-rtl2-000066.scm:141");
var_315 = var_316;
lval var_319;
lval var_320;
if (var_315.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_320 = (var_315.v.pair.car ? *(var_315.v.pair.car) : LVI_NIL());
var_319 = var_320;
lval var_321;
lval var_322;
var_322 = LVI_STRING("cadr");
lval var_323;
{
char* cp = strchr(var_322.v.str, 'r');
var_323 = var_315;
while (*(--cp) != 'c') {
if (var_323.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_323 = (var_323.v.pair.car ? *(var_323.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_323 = (var_323.v.pair.cdr ? *(var_323.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_322.v.str);
}
}
}
var_321 = var_323;
lval var_324;
lval var_325;
var_325 = LVI_STRING("caddr");
lval var_326;
{
char* cp = strchr(var_325.v.str, 'r');
var_326 = var_315;
while (*(--cp) != 'c') {
if (var_326.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_326 = (var_326.v.pair.car ? *(var_326.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_326 = (var_326.v.pair.cdr ? *(var_326.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_325.v.str);
}
}
}
var_324 = var_326;
lval var_327;
lval var_328;
var_328 = LVI_INT(3);
lval var_329;
{
lval var_330[8];
var_330[0] = var_315;
var_330[1] = var_328;
// bld-rtl-dir/wile-rtl2-000066.scm:145
var_329 = wile_list_ref(NULL, var_330, "bld-rtl-dir/wile-rtl2-000066.scm:145");
}
var_327 = var_329;
lval var_331;
lval var_332;
var_332 = LVI_INT(4);
lval var_333;
{
lval var_334[8];
var_334[0] = var_315;
var_334[1] = var_332;
// bld-rtl-dir/wile-rtl2-000066.scm:146
var_333 = wile_list_ref(NULL, var_334, "bld-rtl-dir/wile-rtl2-000066.scm:146");
}
var_331 = var_333;
lval var_336;
var_336 = LVI_INT(5);
{
lval var_338[8];
var_338[0] = var_315;
var_338[1] = var_336;
// bld-rtl-dir/wile-rtl2-000066.scm:147
(void)
 wile_list_ref(NULL, var_338, "bld-rtl-dir/wile-rtl2-000066.scm:147");
}
lval var_339;
if (var_286.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_339 = (var_286.v.pair.car ? *(var_286.v.pair.car) : LVI_NIL());
lval var_340;
{
lptr p1 = NULL, p2 = NULL;
if (var_339.vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_339;
}
if (var_284[0].vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = var_284[0];
}
var_340 = LVI_PAIR(p1, p2);
}
var_284[0] = var_340;
lval var_341;
lval var_342;
var_342 = LVI_CHAR(37);
lval var_343;
var_343 = LVI_BOOL(var_319.v.chr == var_342.v.chr);
if (LV_IS_FALSE(var_343)) {
lval var_345;
var_345 = LVI_BOOL(var_284[2].vt == LV_NIL);
if (LV_IS_FALSE(var_345)) {
(void)
 LVI_BOOL(false);
} else {
lval var_347;
var_347 = LVI_STRING("*printf error: not enough arguments");
lval var_348;
{
lval var_349[1];
var_349[0] = var_347;
var_348 = wile_gen_list(1, var_349, NULL);
}
if (var_348.vt == LV_PAIR && (var_348.v.pair.cdr == NULL || var_348.v.pair.cdr->vt == LV_NIL)) {
var_348 = (var_348.v.pair.car ? *(var_348.v.pair.car) : LVI_NIL());
}
cachalot->errval = new_lv(LV_NIL);
*(cachalot->errval) = var_348;
cachalot->l_whence = 0;
cachalot->c_whence = LISP_WHENCE;
longjmp(cachalot->cenv, 1);
}
lval var_350;
lval var_351;
if (var_284[2].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_351 = (var_284[2].v.pair.car ? *(var_284[2].v.pair.car) : LVI_NIL());
var_350 = var_351;
lval var_352;
do {
lval var_353;
var_353 = LVI_CHAR(99);
lval var_354;
var_354 = LVI_BOOL(var_319.v.chr == var_353.v.chr);
if (!LV_IS_FALSE(var_354)) {
lval var_355;
do {
lval var_356;
var_356 = LVI_BOOL(var_350.vt == LV_CHAR);
if (!LV_IS_FALSE(var_356)) {
lval var_357;
{
lptr p1 = NULL, p2 = NULL;
if (var_350.vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_350;
}
if (var_284[0].vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = var_284[0];
}
var_357 = LVI_PAIR(p1, p2);
}
lval var_358;
if (var_284[2].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_358 = (var_284[2].v.pair.cdr ? *(var_284[2].v.pair.cdr) : LVI_NIL());
lval var_361[8];
var_361[0] = var_357;
var_361[1] = var_312;
var_361[2] = var_358;
var_284[0] = var_361[0];
var_284[1] = var_361[1];
var_284[2] = var_361[2];
// bld-rtl-dir/wile-rtl2-000066.scm:157
goto lbl_285;	// selfie
}
lval var_362;
var_362 = LVI_CHAR(99);
lval var_363;
lval var_364[8];
var_364[0] = var_350;
var_364[1] = var_362;
// bld-rtl-dir/wile-rtl2-000066.scm:158
var_363 = fn_1(NULL, var_364, "bld-rtl-dir/wile-rtl2-000066.scm:158");
lval var_366;
{
lval var_367[1];
var_367[0] = var_363;
var_366 = wile_gen_list(1, var_367, NULL);
}
if (var_366.vt == LV_PAIR && (var_366.v.pair.cdr == NULL || var_366.v.pair.cdr->vt == LV_NIL)) {
var_366 = (var_366.v.pair.car ? *(var_366.v.pair.car) : LVI_NIL());
}
cachalot->errval = new_lv(LV_NIL);
*(cachalot->errval) = var_366;
cachalot->l_whence = 0;
cachalot->c_whence = LISP_WHENCE;
longjmp(cachalot->cenv, 1);
var_355 = var_366;
} while (0);
var_352 = var_355;
break;
}
lval var_368;
var_368 = LVI_CHAR(118);
lval var_369;
var_369 = LVI_BOOL(var_319.v.chr == var_368.v.chr);
if (!LV_IS_FALSE(var_369)) {
lval var_370;
lval var_371;
var_371 = LVI_BOOL(false);
do {
lval var_372;
var_372 = LVI_BOOL(var_350.vt == LV_STRING);
var_371 = var_372;
if (!LV_IS_FALSE(var_371)) { break; }
lval var_373;
var_373 = LVI_BOOL(var_350.vt == LV_CHAR);
var_371 = var_373;
if (!LV_IS_FALSE(var_371)) { break; }
} while (0);
if (LV_IS_FALSE(var_371)) {
lval var_374;
lval var_375[8];
var_375[0] = var_350;
// bld-rtl-dir/wile-rtl2-000066.scm:163
var_374 = fn_11(NULL, var_375, "bld-rtl-dir/wile-rtl2-000066.scm:163");
var_370 = var_374;
} else {
var_370 = var_350;
}
lval var_377;
{
lptr p1 = NULL, p2 = NULL;
if (var_370.vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_370;
}
if (var_284[0].vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = var_284[0];
}
var_377 = LVI_PAIR(p1, p2);
}
lval var_378;
if (var_284[2].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_378 = (var_284[2].v.pair.cdr ? *(var_284[2].v.pair.cdr) : LVI_NIL());
lval var_381[8];
var_381[0] = var_377;
var_381[1] = var_312;
var_381[2] = var_378;
var_284[0] = var_381[0];
var_284[1] = var_381[1];
var_284[2] = var_381[2];
// bld-rtl-dir/wile-rtl2-000066.scm:160
goto lbl_285;	// selfie
}
lval var_382;
var_382 = LVI_CHAR(115);
lval var_383;
var_383 = LVI_BOOL(var_319.v.chr == var_382.v.chr);
if (!LV_IS_FALSE(var_383)) {
lval var_384;
do {
lval var_385;
var_385 = LVI_BOOL(var_350.vt == LV_STRING);
if (!LV_IS_FALSE(var_385)) {
lval var_386;
lval var_387[8];
var_387[0] = var_321;
var_387[1] = var_324;
var_387[2] = var_350;
// bld-rtl-dir/wile-rtl2-000066.scm:168
var_386 = fn_10(NULL, var_387, "bld-rtl-dir/wile-rtl2-000066.scm:168");
lval var_389;
{
lptr p1 = NULL, p2 = NULL;
if (var_386.vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_386;
}
if (var_284[0].vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = var_284[0];
}
var_389 = LVI_PAIR(p1, p2);
}
lval var_390;
if (var_284[2].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_390 = (var_284[2].v.pair.cdr ? *(var_284[2].v.pair.cdr) : LVI_NIL());
lval var_393[8];
var_393[0] = var_389;
var_393[1] = var_312;
var_393[2] = var_390;
var_284[0] = var_393[0];
var_284[1] = var_393[1];
var_284[2] = var_393[2];
// bld-rtl-dir/wile-rtl2-000066.scm:168
goto lbl_285;	// selfie
}
lval var_394;
var_394 = LVI_BOOL(var_350.vt == LV_CHAR);
if (!LV_IS_FALSE(var_394)) {
lval var_395;
{
lval var_397[1];
var_397[0] = var_350;
var_395 = wile_gen_list(1, var_397, NULL);
}
{
lval var_396[8];
var_396[0] = var_395;
// bld-rtl-dir/wile-rtl2-000066.scm:174
var_395 = wile_char2string(NULL, var_396, "bld-rtl-dir/wile-rtl2-000066.scm:174");
}
lval var_398;
lval var_399[8];
var_399[0] = var_321;
var_399[1] = var_324;
var_399[2] = var_395;
// bld-rtl-dir/wile-rtl2-000066.scm:172
var_398 = fn_10(NULL, var_399, "bld-rtl-dir/wile-rtl2-000066.scm:172");
lval var_401;
{
lptr p1 = NULL, p2 = NULL;
if (var_398.vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_398;
}
if (var_284[0].vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = var_284[0];
}
var_401 = LVI_PAIR(p1, p2);
}
lval var_402;
if (var_284[2].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_402 = (var_284[2].v.pair.cdr ? *(var_284[2].v.pair.cdr) : LVI_NIL());
lval var_405[8];
var_405[0] = var_401;
var_405[1] = var_312;
var_405[2] = var_402;
var_284[0] = var_405[0];
var_284[1] = var_405[1];
var_284[2] = var_405[2];
// bld-rtl-dir/wile-rtl2-000066.scm:172
goto lbl_285;	// selfie
}
lval var_406;
var_406 = LVI_BOOL(var_350.vt == LV_SYMBOL);
if (!LV_IS_FALSE(var_406)) {
lval var_407;
var_407 = LVI_STRING(var_350.v.str);
lval var_408;
lval var_409[8];
var_409[0] = var_321;
var_409[1] = var_324;
var_409[2] = var_407;
// bld-rtl-dir/wile-rtl2-000066.scm:179
var_408 = fn_10(NULL, var_409, "bld-rtl-dir/wile-rtl2-000066.scm:179");
lval var_411;
{
lptr p1 = NULL, p2 = NULL;
if (var_408.vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_408;
}
if (var_284[0].vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = var_284[0];
}
var_411 = LVI_PAIR(p1, p2);
}
lval var_412;
if (var_284[2].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_412 = (var_284[2].v.pair.cdr ? *(var_284[2].v.pair.cdr) : LVI_NIL());
lval var_415[8];
var_415[0] = var_411;
var_415[1] = var_312;
var_415[2] = var_412;
var_284[0] = var_415[0];
var_284[1] = var_415[1];
var_284[2] = var_415[2];
// bld-rtl-dir/wile-rtl2-000066.scm:179
goto lbl_285;	// selfie
}
lval var_416;
var_416 = LVI_CHAR(115);
lval var_417;
lval var_418[8];
var_418[0] = var_350;
var_418[1] = var_416;
// bld-rtl-dir/wile-rtl2-000066.scm:184
var_417 = fn_1(NULL, var_418, "bld-rtl-dir/wile-rtl2-000066.scm:184");
lval var_420;
{
lval var_421[1];
var_421[0] = var_417;
var_420 = wile_gen_list(1, var_421, NULL);
}
if (var_420.vt == LV_PAIR && (var_420.v.pair.cdr == NULL || var_420.v.pair.cdr->vt == LV_NIL)) {
var_420 = (var_420.v.pair.car ? *(var_420.v.pair.car) : LVI_NIL());
}
cachalot->errval = new_lv(LV_NIL);
*(cachalot->errval) = var_420;
cachalot->l_whence = 0;
cachalot->c_whence = LISP_WHENCE;
longjmp(cachalot->cenv, 1);
var_384 = var_420;
} while (0);
var_352 = var_384;
break;
}
lval var_422;
var_422 = LVI_BOOL(false);
do {
lval var_423;
var_423 = LVI_CHAR(98);
lval var_424;
var_424 = LVI_BOOL(var_319.v.chr == var_423.v.chr);
var_422 = var_424;
if (!LV_IS_FALSE(var_422)) { break; }
lval var_425;
var_425 = LVI_CHAR(111);
lval var_426;
var_426 = LVI_BOOL(var_319.v.chr == var_425.v.chr);
var_422 = var_426;
if (!LV_IS_FALSE(var_422)) { break; }
lval var_427;
var_427 = LVI_CHAR(100);
lval var_428;
var_428 = LVI_BOOL(var_319.v.chr == var_427.v.chr);
var_422 = var_428;
if (!LV_IS_FALSE(var_422)) { break; }
lval var_429;
var_429 = LVI_CHAR(120);
lval var_430;
var_430 = LVI_BOOL(var_319.v.chr == var_429.v.chr);
var_422 = var_430;
if (!LV_IS_FALSE(var_422)) { break; }
} while (0);
if (!LV_IS_FALSE(var_422)) {
lval var_432;
var_432 = LVI_BOOL(var_350.vt == LV_RAT || var_350.vt == LV_INT);
if (LV_IS_FALSE(var_432)) {
lval var_433;
lval var_434[8];
var_434[0] = var_350;
var_434[1] = var_319;
// bld-rtl-dir/wile-rtl2-000066.scm:190
var_433 = fn_1(NULL, var_434, "bld-rtl-dir/wile-rtl2-000066.scm:190");
lval var_436;
{
lval var_437[1];
var_437[0] = var_433;
var_436 = wile_gen_list(1, var_437, NULL);
}
if (var_436.vt == LV_PAIR && (var_436.v.pair.cdr == NULL || var_436.v.pair.cdr->vt == LV_NIL)) {
var_436 = (var_436.v.pair.car ? *(var_436.v.pair.car) : LVI_NIL());
}
cachalot->errval = new_lv(LV_NIL);
*(cachalot->errval) = var_436;
cachalot->l_whence = 0;
cachalot->c_whence = LISP_WHENCE;
longjmp(cachalot->cenv, 1);
} else {
(void)
 LVI_BOOL(false);
}
lval var_439;
lval var_440;
if (var_319.vt != LV_CHAR) {
wile_exception("case", LISP_WHENCE, "case-value type does not match case type");
}
switch (var_319.v.chr) {
case 98:
{
lval var_441;
var_441 = LVI_INT(2);
var_440 = var_441;
break;
}
case 111:
{
lval var_442;
var_442 = LVI_INT(8);
var_440 = var_442;
break;
}
case 100:
{
lval var_443;
var_443 = LVI_INT(10);
var_440 = var_443;
break;
}
case 120:
{
lval var_444;
var_444 = LVI_INT(16);
var_440 = var_444;
break;
}
default:
var_440 = LVI_BOOL(false);
}
var_439 = var_440;
lval var_445;
lval var_446;
if (var_439.vt == LV_INT) {
var_446 = wile_num2string(var_350, var_439.v.iv, INT_MIN, LISP_WHENCE);
} else {
WILE_EX("number->string", "base is not numeric");
}
var_445 = var_446;
lval var_447;
lval var_448;
lval var_449;
switch (var_350.vt) {
case LV_REAL:
var_449 = LVI_BOOL(var_350.v.rv < 0.0);
break;
case LV_RAT:
var_449 = LVI_BOOL((var_350.v.irv.num < 0 && var_350.v.irv.den >= 0) || (var_350.v.irv.num > 0 && var_350.v.irv.den < 0));
break;
case LV_INT:
var_449 = LVI_BOOL(var_350.v.iv < 0);
break;
default:
WILE_EX("negative?", "expects a real-valued number");
}
if (LV_IS_FALSE(var_449)) {
lval var_450;
{
lval var_452[2];
var_452[0] = var_327;
var_452[1] = var_445;
var_450 = wile_gen_list(2, var_452, NULL);
}
{
lval var_451[8];
var_451[0] = var_450;
// bld-rtl-dir/wile-rtl2-000066.scm:197
var_450 = wile_string_append(NULL, var_451, "bld-rtl-dir/wile-rtl2-000066.scm:197");
}
var_448 = var_450;
} else {
var_448 = var_445;
}
var_447 = var_448;
lval var_453;
lval var_454[8];
var_454[0] = var_321;
var_454[1] = var_324;
var_454[2] = var_447;
// bld-rtl-dir/wile-rtl2-000066.scm:201
var_453 = fn_10(NULL, var_454, "bld-rtl-dir/wile-rtl2-000066.scm:201");
lval var_456;
{
lptr p1 = NULL, p2 = NULL;
if (var_453.vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_453;
}
if (var_284[0].vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = var_284[0];
}
var_456 = LVI_PAIR(p1, p2);
}
lval var_457;
if (var_284[2].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_457 = (var_284[2].v.pair.cdr ? *(var_284[2].v.pair.cdr) : LVI_NIL());
lval var_460[8];
var_460[0] = var_456;
var_460[1] = var_312;
var_460[2] = var_457;
var_284[0] = var_460[0];
var_284[1] = var_460[1];
var_284[2] = var_460[2];
// bld-rtl-dir/wile-rtl2-000066.scm:201
goto lbl_285;	// selfie
}
lval var_461;
var_461 = LVI_BOOL(false);
do {
lval var_462;
var_462 = LVI_CHAR(102);
lval var_463;
var_463 = LVI_BOOL(var_319.v.chr == var_462.v.chr);
var_461 = var_463;
if (!LV_IS_FALSE(var_461)) { break; }
lval var_464;
var_464 = LVI_CHAR(101);
lval var_465;
var_465 = LVI_BOOL(var_319.v.chr == var_464.v.chr);
var_461 = var_465;
if (!LV_IS_FALSE(var_461)) { break; }
} while (0);
if (!LV_IS_FALSE(var_461)) {
lval var_467;
var_467 = LVI_BOOL(var_350.vt == LV_CMPLX || var_350.vt == LV_REAL || var_350.vt == LV_RAT || var_350.vt == LV_INT);
if (LV_IS_FALSE(var_467)) {
lval var_468;
lval var_469[8];
var_469[0] = var_350;
var_469[1] = var_319;
// bld-rtl-dir/wile-rtl2-000066.scm:206
var_468 = fn_1(NULL, var_469, "bld-rtl-dir/wile-rtl2-000066.scm:206");
lval var_471;
{
lval var_472[1];
var_472[0] = var_468;
var_471 = wile_gen_list(1, var_472, NULL);
}
if (var_471.vt == LV_PAIR && (var_471.v.pair.cdr == NULL || var_471.v.pair.cdr->vt == LV_NIL)) {
var_471 = (var_471.v.pair.car ? *(var_471.v.pair.car) : LVI_NIL());
}
cachalot->errval = new_lv(LV_NIL);
*(cachalot->errval) = var_471;
cachalot->l_whence = 0;
cachalot->c_whence = LISP_WHENCE;
longjmp(cachalot->cenv, 1);
} else {
(void)
 LVI_BOOL(false);
}
lval var_474;
lval var_475;
lval var_476;
var_476 = LVI_CHAR(102);
lval var_477;
var_477 = LVI_BOOL(var_319.v.chr == var_476.v.chr);
if (LV_IS_FALSE(var_477)) {
var_475 = LVI_PROC(fn_478,NULL,-1);
} else {
var_475 = LVI_PROC(fn_484,NULL,-1);
}
lval var_490;
if (LV_IS_FALSE(var_331)) {
lval var_491;
var_491 = LVI_INT(12);
var_490 = var_491;
} else {
var_490 = var_331;
}
lval var_492;
{
lval var_493[1];
var_493[0] = var_490;
var_492 = wile_gen_list(1, var_493, NULL);
}
lval var_494;
{
lval var_495[2];
var_495[0] = var_475;
var_495[1] = var_492;
var_494 = wile_gen_list(2, var_495, NULL);
}
var_494 = wile_apply_function(&(var_494), LISP_WHENCE);
var_474 = var_494;
lval var_496;
lval var_497;
var_497 = LVI_INT(10);
lval var_498;
if (var_497.vt == LV_INT && var_474.vt == LV_INT) {
var_498 = wile_num2string(var_350, var_497.v.iv, var_474.v.iv, LISP_WHENCE);
} else {
WILE_EX("number->string", "base or precision is not numeric");
}
var_496 = var_498;
lval var_499;
lval var_500;
lval var_501;
switch (var_350.vt) {
case LV_REAL:
var_501 = LVI_BOOL(var_350.v.rv < 0.0);
break;
case LV_RAT:
var_501 = LVI_BOOL((var_350.v.irv.num < 0 && var_350.v.irv.den >= 0) || (var_350.v.irv.num > 0 && var_350.v.irv.den < 0));
break;
case LV_INT:
var_501 = LVI_BOOL(var_350.v.iv < 0);
break;
default:
WILE_EX("negative?", "expects a real-valued number");
}
if (LV_IS_FALSE(var_501)) {
lval var_502;
{
lval var_504[2];
var_504[0] = var_327;
var_504[1] = var_496;
var_502 = wile_gen_list(2, var_504, NULL);
}
{
lval var_503[8];
var_503[0] = var_502;
// bld-rtl-dir/wile-rtl2-000066.scm:212
var_502 = wile_string_append(NULL, var_503, "bld-rtl-dir/wile-rtl2-000066.scm:212");
}
var_500 = var_502;
} else {
var_500 = var_496;
}
var_499 = var_500;
lval var_505;
lval var_506[8];
var_506[0] = var_321;
var_506[1] = var_324;
var_506[2] = var_499;
// bld-rtl-dir/wile-rtl2-000066.scm:213
var_505 = fn_10(NULL, var_506, "bld-rtl-dir/wile-rtl2-000066.scm:213");
lval var_508;
{
lptr p1 = NULL, p2 = NULL;
if (var_505.vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_505;
}
if (var_284[0].vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = var_284[0];
}
var_508 = LVI_PAIR(p1, p2);
}
lval var_509;
if (var_284[2].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_509 = (var_284[2].v.pair.cdr ? *(var_284[2].v.pair.cdr) : LVI_NIL());
lval var_512[8];
var_512[0] = var_508;
var_512[1] = var_312;
var_512[2] = var_509;
var_284[0] = var_512[0];
var_284[1] = var_512[1];
var_284[2] = var_512[2];
// bld-rtl-dir/wile-rtl2-000066.scm:213
goto lbl_285;	// selfie
}
var_352 = LVI_BOOL(false);
} while (0);
var_341 = var_352;
} else {
lval var_513;
var_513 = LVI_INT(1);
lval var_514;
{
lval var_516[2];
var_516[0] = var_321;
var_516[1] = var_513;
var_514 = wile_gen_list(2, var_516, NULL);
}
{
lval var_515[8];
var_515[0] = var_514;
// bld-rtl-dir/wile-rtl2-000066.scm:150
var_514 = wile_max(NULL, var_515, "bld-rtl-dir/wile-rtl2-000066.scm:150");
}
lval var_517;
var_517 = LVI_CHAR(37);
lval var_518;
if (var_514.vt != LV_INT || var_514.v.iv < 0) {
WILE_EX("string-create", "first input is not a non-negative integer");
}
if (var_517.vt != LV_CHAR || var_517.v.chr == '\0') {
WILE_EX("string-create", "second input is not a valid character");
}
var_518.vt = LV_STRING;
var_518.v.str = LISP_ALLOC(char, 1 + var_514.v.iv);
LISP_ASSERT(var_518.v.str != NULL);
memset(var_518.v.str, var_517.v.chr, var_514.v.iv);
var_518.v.str[var_514.v.iv] = '\0';
lval var_519;
{
lptr p1 = NULL, p2 = NULL;
if (var_518.vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_518;
}
if (var_284[0].vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = var_284[0];
}
var_519 = LVI_PAIR(p1, p2);
}
lval var_522[8];
var_522[0] = var_519;
var_522[1] = var_312;
var_522[2] = var_284[2];
var_284[0] = var_522[0];
var_284[1] = var_522[1];
var_284[2] = var_522[2];
// bld-rtl-dir/wile-rtl2-000066.scm:150
goto lbl_285;	// selfie
}
var_289 = var_341;
}
return var_289;
}
// end of lambda fn_282

// @@@ (printf-helper fstr . vals) @@@ bld-rtl-dir/wile-rtl2-000066.scm:130 @@@ fn_12 @@@
static lval fn_12(lptr* var_271, lptr var_272, const char* cloc)
{
if (LV_IS_FALSE(var_8)) {
lval var_275;
var_275 = LVI_STRING("|");
lval var_276;
{
lval var_277[6];
var_277[0] = var_4;
var_277[1] = var_2;
var_277[2] = var_3;
var_277[3] = var_5;
var_277[4] = var_6;
var_277[5] = var_7;
var_276 = wile_gen_list(6, var_277, NULL);
}
lval var_278;
{
lval var_280[1];
var_280[0] = var_276;
var_278 = wile_gen_list(1, var_280, NULL);
}
{
lval var_279[8];
var_279[0] = var_275;
var_279[1] = var_278;
// bld-rtl-dir/wile-rtl2-000066.scm:133
var_278 = wile_string_join_by(NULL, var_279, "bld-rtl-dir/wile-rtl2-000066.scm:133");
}
var_8 = var_278;
} else {
(void)
 LVI_BOOL(false);
}
MK_CLOS(var_283,0);
lval var_523;
var_523 = LVI_NIL();
lval var_524;
lval var_525[8];
var_525[0] = var_523;
var_525[1] = var_272[0];
var_525[2] = var_272[1];
// bld-rtl-dir/wile-rtl2-000066.scm:134
var_524 = fn_282(var_283, var_525, "bld-rtl-dir/wile-rtl2-000066.scm:134");
return var_524;
}
// end of function fn_12

// @@@ lambda (s) @@@ bld-rtl-dir/wile-rtl2-000066.scm:230 @@@ fn_530 @@@
static lval fn_530(lptr* var_531, lptr var_532, const char* cloc)
{
lval var_534;
if (var_532[0].vt == LV_CHAR) {
fputc(var_532[0].v.chr, stdout);
} else if (var_532[0].vt == LV_STRING) {
fputs(var_532[0].v.str, stdout);
} else {
WILE_EX("write-string", "input is not a string or char!");
}
var_534 = LVI_BOOL(true);
return var_534;
}
// end of lambda fn_530

// @@@ (printf fstr . vals) @@@ bld-rtl-dir/wile-rtl2-000066.scm:229 @@@ wile_printf @@@
lval wile_printf(lptr* var_527, lptr var_528, const char* cloc)
{
MK_CLOS(var_531,0);
lval var_535;
var_535 = LVI_PROC(fn_12,NULL,-2);
lval var_536;
{
lval var_537[3];
var_537[0] = var_535;
var_537[1] = var_528[0];
var_537[2] = var_528[1];
var_536 = wile_gen_list(3, var_537, NULL);
}
var_536 = wile_apply_function(&(var_536), LISP_WHENCE);
lval var_538;
{
lval var_539[8];
var_539[0] = var_536;
// bld-rtl-dir/wile-rtl2-000066.scm:231
var_538 = wile_list_reverse(NULL, var_539, "bld-rtl-dir/wile-rtl2-000066.scm:231");
}
lval var_540;
var_540 = LVI_NIL();
{
lval var_541[8];
var_541[0] = LVI_PROC(fn_530,var_531,1);
var_541[1] = var_538;
var_541[2] = var_540;
// bld-rtl-dir/wile-rtl2-000066.scm:230
var_540 = wile_for_each(NULL, var_541, "bld-rtl-dir/wile-rtl2-000066.scm:230");
}
return var_540;
}
// end of function wile_printf

// @@@ lambda (s) @@@ bld-rtl-dir/wile-rtl2-000066.scm:236 @@@ fn_545 @@@
static lval fn_545(lptr* var_546, lptr var_547, const char* cloc)
{
lval var_549;
{
FILE* fp;
if (V_CLOS(var_546,0).vt == LV_FILE_PORT || V_CLOS(var_546,0).vt == LV_PIPE_PORT || V_CLOS(var_546,0).vt == LV_SOCK_PORT) {
fp = V_CLOS(var_546,0).v.fp;
} else {
WILE_EX("write-string", "first input is not a port!");
}
if (var_547[0].vt == LV_CHAR) {
fputc(var_547[0].v.chr, fp);
} else if (var_547[0].vt == LV_STRING) {
fputs(var_547[0].v.str, fp);
} else {
WILE_EX("write-string", "second input is not a string or char!");
}
var_549 = LVI_BOOL(true);
}
return var_549;
}
// end of lambda fn_545

// @@@ (fprintf port fstr . vals) @@@ bld-rtl-dir/wile-rtl2-000066.scm:235 @@@ wile_fprintf @@@
lval wile_fprintf(lptr* var_542, lptr var_543, const char* cloc)
{
MK_CLOS(var_546,1);
lptr var_550 = new_lv(VT_UNINIT);
var_550->v.pair.car = &(var_543[0]);
P_CLOS(var_546,0) = var_550;
lval var_551;
var_551 = LVI_PROC(fn_12,NULL,-2);
lval var_552;
{
lval var_553[3];
var_553[0] = var_551;
var_553[1] = var_543[1];
var_553[2] = var_543[2];
var_552 = wile_gen_list(3, var_553, NULL);
}
var_552 = wile_apply_function(&(var_552), LISP_WHENCE);
lval var_554;
{
lval var_555[8];
var_555[0] = var_552;
// bld-rtl-dir/wile-rtl2-000066.scm:237
var_554 = wile_list_reverse(NULL, var_555, "bld-rtl-dir/wile-rtl2-000066.scm:237");
}
lval var_556;
var_556 = LVI_NIL();
{
lval var_557[8];
var_557[0] = LVI_PROC(fn_545,var_546,1);
var_557[1] = var_554;
var_557[2] = var_556;
// bld-rtl-dir/wile-rtl2-000066.scm:236
var_556 = wile_for_each(NULL, var_557, "bld-rtl-dir/wile-rtl2-000066.scm:236");
}
*var_550 = var_543[0];
return var_556;
}
// end of function wile_fprintf

// @@@ string-append @@@ bld-rtl-dir/wile-rtl2-000066.scm:242 @@@ fn_561 @@@
static lval fn_561(lptr* var_562, lptr var_563, const char* cloc)
{
lval var_565;
var_565 = var_563[0];
{
lval var_566[8];
var_566[0] = var_565;
// bld-rtl-dir/wile-rtl2-000066.scm:242
var_565 = wile_string_append(NULL, var_566, "bld-rtl-dir/wile-rtl2-000066.scm:242");
}
return var_565;
}
// end of prim fn_561

// @@@ lambda (v) @@@ bld-rtl-dir/wile-rtl2-000066.scm:243 @@@ fn_567 @@@
static lval fn_567(lptr* var_568, lptr var_569, const char* cloc)
{
lval var_571;
lval var_572;
var_572 = LVI_BOOL(var_569[0].vt == LV_STRING);
if (LV_IS_FALSE(var_572)) {
lval var_573;
{
lval var_575[1];
var_575[0] = var_569[0];
var_573 = wile_gen_list(1, var_575, NULL);
}
{
lval var_574[8];
var_574[0] = var_573;
// bld-rtl-dir/wile-rtl2-000066.scm:243
var_573 = wile_char2string(NULL, var_574, "bld-rtl-dir/wile-rtl2-000066.scm:243");
}
var_571 = var_573;
} else {
var_571 = var_569[0];
}
return var_571;
}
// end of lambda fn_567

// @@@ (sprintf fstr . vals) @@@ bld-rtl-dir/wile-rtl2-000066.scm:241 @@@ wile_sprintf @@@
lval wile_sprintf(lptr* var_558, lptr var_559, const char* cloc)
{
MK_CLOS(var_568,0);
lval var_576;
var_576 = LVI_PROC(fn_12,NULL,-2);
lval var_577;
{
lval var_578[3];
var_578[0] = var_576;
var_578[1] = var_559[0];
var_578[2] = var_559[1];
var_577 = wile_gen_list(3, var_578, NULL);
}
var_577 = wile_apply_function(&(var_577), LISP_WHENCE);
lval var_579;
{
lval var_580[8];
var_580[0] = var_577;
// bld-rtl-dir/wile-rtl2-000066.scm:244
var_579 = wile_list_reverse(NULL, var_580, "bld-rtl-dir/wile-rtl2-000066.scm:244");
}
lval var_581;
var_581 = LVI_NIL();
{
lval var_582[8];
var_582[0] = LVI_PROC(fn_567,var_568,1);
var_582[1] = var_579;
var_582[2] = var_581;
// bld-rtl-dir/wile-rtl2-000066.scm:243
var_581 = wile_map(NULL, var_582, "bld-rtl-dir/wile-rtl2-000066.scm:243");
}
lval var_583;
{
lval var_584[2];
var_584[0] = LVI_PROC(fn_561,NULL,-1);
var_584[1] = var_581;
var_583 = wile_gen_list(2, var_584, NULL);
}
var_583 = wile_apply_function(&(var_583), LISP_WHENCE);
return var_583;
}
// end of function wile_sprintf
