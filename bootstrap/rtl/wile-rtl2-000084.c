// Generated by wile, the extremely stable scheming genius compiler

#include "wile-rtl1.h"
#include "wile-rtl2.h"

// declarations

extern lval var_argv;
extern lval var_cmd_name;
extern lval var_stdin;
extern lval var_stdout;
extern lval var_stderr;
extern lval var_pi;
extern lval var_euler_gamma;
extern lval var_show_sign;
extern lval var_int_base;
extern lval var_flt_base;
extern lval var_flt_precision;
#include "wile-rtl2.h"
static lval fn_1(lptr*, lptr, const char*);	// (make-bbox name value)
static lval fn_2(lptr*, lptr, const char*);	// (isa-bbox? it)
static lval fn_3(lptr*, lptr, const char*);	// (get-bbox-name it)
static lval fn_4(lptr*, lptr, const char*);	// (get-bbox-value it)
static lval fn_5(lptr*, lptr, const char*);	// (set-bbox-name! it val)
static lval fn_6(lptr*, lptr, const char*);	// (set-bbox-value! it val)
static lval fn_7(lptr*, lptr, const char*);	// (ERR fmt . args)
static lval fn_8(lptr*, lptr, const char*);	// (atom? val)
static lval fn_9(lptr*, lptr, const char*);	// (special-form? val)
static lval fn_10(lptr*, lptr, const char*);	// (unique-symbols? lst)
static lval fn_11(lptr*, lptr, const char*);	// (symbol-lookup box? env sym)
static lval fn_12(lptr*, lptr, const char*);	// (eval-binding env expr)
static lval fn_13(lptr*, lptr, const char*);	// (eval-if env exprs)
static lval fn_14(lptr*, lptr, const char*);	// (eval-and init env exprs)
static lval fn_15(lptr*, lptr, const char*);	// (eval-or init env exprs)
static lval fn_16(lptr*, lptr, const char*);	// (check-let-bindings type llist)
static lval fn_17(lptr*, lptr, const char*);	// (eval-let rec? star? env exprs)
static lval fn_18(lptr*, lptr, const char*);	// (eval-qq-olist level env expr)
static lval fn_19(lptr*, lptr, const char*);	// (eval-qq level env expr)
static lval fn_20(lptr*, lptr, const char*);	// (eval-cond env expr)
static lval fn_21(lptr*, lptr, const char*);	// (eval-set! env expr)
static lval fn_22(lptr*, lptr, const char*);	// (eval-guard env expr)
static lval fn_23(lptr*, lptr, const char*);	// (eval-case env expr)
static lval fn_24(lptr*, lptr, const char*);	// (args-list dotted-list)
static lval fn_25(lptr*, lptr, const char*);	// (eval-lambda env expr)
static lval fn_26(lptr*, lptr, const char*);	// (check-syntax-do expr)
static lval fn_27(lptr*, lptr, const char*);	// (eval-do env expr)
static lval fn_171(lptr*, lptr, const char*);
static lval fn_182(lptr*, lptr, const char*);
static lval fn_247(lptr*, lptr, const char*);
static lval fn_266(lptr*, lptr, const char*);
static lval fn_285(lptr*, lptr, const char*);
static lval fn_399(lptr*, lptr, const char*);
static lval fn_462(lptr*, lptr, const char*);
static lval fn_468(lptr*, lptr, const char*);
static lval fn_532(lptr*, lptr, const char*);
static lval fn_590(lptr*, lptr, const char*);
static lval fn_637(lptr*, lptr, const char*);
static lval fn_662(lptr*, lptr, const char*);
static lval fn_868(lptr*, lptr, const char*);
static lval fn_921(lptr*, lptr, const char*);
static lval fn_984(lptr*, lptr, const char*);
static lval fn_1087(lptr*, lptr, const char*);
static lval fn_1119(lptr*, lptr, const char*);
static lval fn_1132(lptr*, lptr, const char*);
static lval fn_1142(lptr*, lptr, const char*);
static lval fn_1175(lptr*, lptr, const char*);
static lval fn_1239(lptr*, lptr, const char*);
static lval fn_1271(lptr*, lptr, const char*);
static lval fn_1439(lptr*, lptr, const char*);
static lval fn_1454(lptr*, lptr, const char*);

// definitions

// @@@ (make-bbox name value) @@@ bld-rtl-dir/wile-rtl2-000084.scm:20 @@@ fn_1 @@@
static lval fn_1(lptr* var_28, lptr var_29, const char* cloc)
{
lval var_31;
lval var_32;
var_32 = LVI_INT(3);
lval var_33;
{
size_t i, capa;
var_33.vt = LV_VECTOR;
capa = var_32.v.iv;
var_33.v.vec.capa = capa;
var_33.v.vec.arr = LISP_ALLOC(lptr, (capa > 0 ? capa : 1));
if (var_33.v.vec.arr == NULL) {
WILE_EX("vector-create", "memory allocation failed!");
}
for (i = 0; i < capa; ++i) {
var_33.v.vec.arr[i] = NULL;
}
}
var_31 = var_33;
lval var_34;
var_34 = LVI_INT(0);
lval var_35;
var_35 = LVI_SYMBOL("bbox");
{
if (var_31.vt != LV_VECTOR) {
WILE_EX("vector-set!", "input is not a vector");
}
if (var_34.vt != LV_INT || var_34.v.iv < 0 || (size_t) var_34.v.iv >= var_31.v.vec.capa) {
WILE_EX("vector-set!", "got bad index value");
}
var_31.v.vec.arr[var_34.v.iv] = new_lv(LV_NIL);
*(var_31.v.vec.arr[var_34.v.iv]) = var_35;
}
lval var_37;
var_37 = LVI_INT(1);
{
if (var_31.vt != LV_VECTOR) {
WILE_EX("vector-set!", "input is not a vector");
}
if (var_37.vt != LV_INT || var_37.v.iv < 0 || (size_t) var_37.v.iv >= var_31.v.vec.capa) {
WILE_EX("vector-set!", "got bad index value");
}
var_31.v.vec.arr[var_37.v.iv] = new_lv(LV_NIL);
*(var_31.v.vec.arr[var_37.v.iv]) = var_29[0];
}
lval var_39;
var_39 = LVI_INT(2);
{
if (var_31.vt != LV_VECTOR) {
WILE_EX("vector-set!", "input is not a vector");
}
if (var_39.vt != LV_INT || var_39.v.iv < 0 || (size_t) var_39.v.iv >= var_31.v.vec.capa) {
WILE_EX("vector-set!", "got bad index value");
}
var_31.v.vec.arr[var_39.v.iv] = new_lv(LV_NIL);
*(var_31.v.vec.arr[var_39.v.iv]) = var_29[1];
}
return var_31;
}
// end of function fn_1

// @@@ (isa-bbox? it) @@@ bld-rtl-dir/wile-rtl2-000084.scm:20 @@@ fn_2 @@@
static lval fn_2(lptr* var_41, lptr var_42, const char* cloc)
{
lval var_44;
var_44 = LVI_BOOL(true);
do {
lval var_45;
var_45 = LVI_BOOL(var_42[0].vt == LV_VECTOR);
var_44 = var_45;
if (LV_IS_FALSE(var_44)) { break; }
lval var_46;
var_46 = LVI_INT(0);
lval var_47;
{
if (var_42[0].vt != LV_VECTOR) {
WILE_EX("vector-ref", "input is not a vector");
}
if (var_46.vt != LV_INT || var_46.v.iv < 0 || (size_t) var_46.v.iv >= var_42[0].v.vec.capa) {
WILE_EX("vector-ref", "got bad index value");
}
var_47 = var_42[0].v.vec.arr[var_46.v.iv] ? *(var_42[0].v.vec.arr[var_46.v.iv]) : LVI_NIL();
}
lval var_48;
var_48 = LVI_SYMBOL("bbox");
lval var_49;
var_49 = LVI_BOOL(wile_do_eqv(&(var_47), &(var_48)));
var_44 = var_49;
if (LV_IS_FALSE(var_44)) { break; }
} while (0);
return var_44;
}
// end of function fn_2

// @@@ (get-bbox-name it) @@@ ./wrtl.sch:0 @@@ fn_3 @@@
static lval fn_3(lptr* var_50, lptr var_51, const char* cloc)
{
lval var_53;
var_53 = LVI_INT(1);
lval var_54;
{
if (var_51[0].vt != LV_VECTOR) {
WILE_EX("vector-ref", "input is not a vector");
}
if (var_53.vt != LV_INT || var_53.v.iv < 0 || (size_t) var_53.v.iv >= var_51[0].v.vec.capa) {
WILE_EX("vector-ref", "got bad index value");
}
var_54 = var_51[0].v.vec.arr[var_53.v.iv] ? *(var_51[0].v.vec.arr[var_53.v.iv]) : LVI_NIL();
}
return var_54;
}
// end of function fn_3

// @@@ (get-bbox-value it) @@@ ./wrtl.sch:0 @@@ fn_4 @@@
static lval fn_4(lptr* var_55, lptr var_56, const char* cloc)
{
lval var_58;
var_58 = LVI_INT(2);
lval var_59;
{
if (var_56[0].vt != LV_VECTOR) {
WILE_EX("vector-ref", "input is not a vector");
}
if (var_58.vt != LV_INT || var_58.v.iv < 0 || (size_t) var_58.v.iv >= var_56[0].v.vec.capa) {
WILE_EX("vector-ref", "got bad index value");
}
var_59 = var_56[0].v.vec.arr[var_58.v.iv] ? *(var_56[0].v.vec.arr[var_58.v.iv]) : LVI_NIL();
}
return var_59;
}
// end of function fn_4

// @@@ (set-bbox-name! it val) @@@ ./wrtl.sch:0 @@@ fn_5 @@@
static lval fn_5(lptr* var_60, lptr var_61, const char* cloc)
{
lval var_63;
var_63 = LVI_INT(1);
lval var_64;
{
if (var_61[0].vt != LV_VECTOR) {
WILE_EX("vector-set!", "input is not a vector");
}
if (var_63.vt != LV_INT || var_63.v.iv < 0 || (size_t) var_63.v.iv >= var_61[0].v.vec.capa) {
WILE_EX("vector-set!", "got bad index value");
}
var_61[0].v.vec.arr[var_63.v.iv] = new_lv(LV_NIL);
*(var_61[0].v.vec.arr[var_63.v.iv]) = var_61[1];
var_64 = var_61[0];
}
return var_64;
}
// end of function fn_5

// @@@ (set-bbox-value! it val) @@@ ./wrtl.sch:0 @@@ fn_6 @@@
static lval fn_6(lptr* var_65, lptr var_66, const char* cloc)
{
lval var_68;
var_68 = LVI_INT(2);
lval var_69;
{
if (var_66[0].vt != LV_VECTOR) {
WILE_EX("vector-set!", "input is not a vector");
}
if (var_68.vt != LV_INT || var_68.v.iv < 0 || (size_t) var_68.v.iv >= var_66[0].v.vec.capa) {
WILE_EX("vector-set!", "got bad index value");
}
var_66[0].v.vec.arr[var_68.v.iv] = new_lv(LV_NIL);
*(var_66[0].v.vec.arr[var_68.v.iv]) = var_66[1];
var_69 = var_66[0];
}
return var_69;
}
// end of function fn_6

// @@@ sprintf @@@ bld-rtl-dir/wile-rtl2-000084.scm:24 @@@ fn_75 @@@
static lval fn_75(lptr* var_76, lptr var_77, const char* cloc)
{
lval var_79;
var_79 = var_77[1];
{
lval var_80[8];
var_80[0] = var_77[0];
var_80[1] = var_79;
// bld-rtl-dir/wile-rtl2-000084.scm:24
var_79 = wile_sprintf(NULL, var_80, "bld-rtl-dir/wile-rtl2-000084.scm:24");
}
return var_79;
}
// end of prim fn_75

// @@@ (ERR fmt . args) @@@ bld-rtl-dir/wile-rtl2-000084.scm:22 @@@ fn_7 @@@
static lval fn_7(lptr* var_70, lptr var_71, const char* cloc)
{
{
lval var_74[8];
var_74[0] = var_stderr;
// bld-rtl-dir/wile-rtl2-000084.scm:23
(void)
 wile_flushport(NULL, var_74, "bld-rtl-dir/wile-rtl2-000084.scm:23");
}
lval var_81;
var_81 = LVI_STRING(" at ");
lval var_82;
var_82 = LVI_STRING(wile_decode_line_loc(wile_get_lisp_loc(&var_71[1])));
lval var_83;
{
lval var_85[3];
var_85[0] = var_71[0];
var_85[1] = var_81;
var_85[2] = var_82;
var_83 = wile_gen_list(3, var_85, NULL);
}
{
lval var_84[8];
var_84[0] = var_83;
// bld-rtl-dir/wile-rtl2-000084.scm:25
var_83 = wile_string_append(NULL, var_84, "bld-rtl-dir/wile-rtl2-000084.scm:25");
}
lval var_86;
{
lval var_87[3];
var_87[0] = LVI_PROC(fn_75,NULL,-2);
var_87[1] = var_83;
var_87[2] = var_71[1];
var_86 = wile_gen_list(3, var_87, NULL);
}
var_86 = wile_apply_function(&(var_86), LISP_WHENCE);
lval var_88;
{
lval var_89[1];
var_89[0] = var_86;
var_88 = wile_gen_list(1, var_89, NULL);
}
if (var_88.vt == LV_PAIR && (var_88.v.pair.cdr == NULL || var_88.v.pair.cdr->vt == LV_NIL)) {
var_88 = (var_88.v.pair.car ? *(var_88.v.pair.car) : LVI_NIL());
}
cachalot->errval = new_lv(LV_NIL);
*(cachalot->errval) = var_88;
cachalot->l_whence = 0;
cachalot->c_whence = LISP_WHENCE;
longjmp(cachalot->cenv, 1);
return var_88;
}
// end of function fn_7

// @@@ (atom? val) @@@ bld-rtl-dir/wile-rtl2-000084.scm:28 @@@ fn_8 @@@
static lval fn_8(lptr* var_90, lptr var_91, const char* cloc)
{
lval var_93;
var_93 = LVI_BOOL(false);
do {
lval var_94;
var_94 = LVI_BOOL(var_91[0].vt == LV_NIL);
var_93 = var_94;
if (!LV_IS_FALSE(var_93)) { break; }
lval var_95;
var_95 = LVI_BOOL(var_91[0].vt == LV_BOOL);
var_93 = var_95;
if (!LV_IS_FALSE(var_93)) { break; }
lval var_96;
var_96 = LVI_BOOL(var_91[0].vt == LV_CHAR);
var_93 = var_96;
if (!LV_IS_FALSE(var_93)) { break; }
lval var_97;
var_97 = LVI_BOOL(var_91[0].vt == LV_STRING);
var_93 = var_97;
if (!LV_IS_FALSE(var_93)) { break; }
lval var_98;
var_98 = LVI_BOOL(var_91[0].vt == LV_INT);
var_93 = var_98;
if (!LV_IS_FALSE(var_93)) { break; }
lval var_99;
var_99 = LVI_BOOL(var_91[0].vt == LV_RAT || var_91[0].vt == LV_INT);
var_93 = var_99;
if (!LV_IS_FALSE(var_93)) { break; }
lval var_100;
var_100 = LVI_BOOL(var_91[0].vt == LV_REAL || var_91[0].vt == LV_RAT || var_91[0].vt == LV_INT);
var_93 = var_100;
if (!LV_IS_FALSE(var_93)) { break; }
lval var_101;
var_101 = LVI_BOOL(var_91[0].vt == LV_CMPLX || var_91[0].vt == LV_REAL || var_91[0].vt == LV_RAT || var_91[0].vt == LV_INT);
var_93 = var_101;
if (!LV_IS_FALSE(var_93)) { break; }
lval var_102;
var_102 = LVI_BOOL(var_91[0].vt == LV_FILE_PORT);
var_93 = var_102;
if (!LV_IS_FALSE(var_93)) { break; }
lval var_103;
var_103 = LVI_BOOL(var_91[0].vt == LV_PIPE_PORT);
var_93 = var_103;
if (!LV_IS_FALSE(var_93)) { break; }
lval var_104;
var_104 = LVI_BOOL(var_91[0].vt == LV_SOCK_PORT);
var_93 = var_104;
if (!LV_IS_FALSE(var_93)) { break; }
lval var_105;
var_105 = LVI_BOOL(var_91[0].vt == LV_STR_PORT);
var_93 = var_105;
if (!LV_IS_FALSE(var_93)) { break; }
lval var_106;
var_106 = LVI_BOOL(var_91[0].vt == LV_SQLITE_PORT);
var_93 = var_106;
if (!LV_IS_FALSE(var_93)) { break; }
lval var_107;
var_107 = LVI_BOOL(var_91[0].vt == LV_SQLITE_STMT);
var_93 = var_107;
if (!LV_IS_FALSE(var_93)) { break; }
} while (0);
return var_93;
}
// end of function fn_8

// @@@ (special-form? val) @@@ bld-rtl-dir/wile-rtl2-000084.scm:44 @@@ fn_9 @@@
static lval fn_9(lptr* var_108, lptr var_109, const char* cloc)
{
lval var_111;
var_111 = LVI_BOOL(true);
do {
lval var_112;
var_112 = LVI_BOOL(var_109[0].vt == LV_SYMBOL);
var_111 = var_112;
if (LV_IS_FALSE(var_111)) { break; }
lval var_113;
var_113 = LVI_BOOL(false);
do {
lval var_114;
var_114 = LVI_SYMBOL("quote");
lval var_115;
var_115 = LVI_BOOL(strcmp(var_109[0].v.str, var_114.v.str) == 0);
var_113 = var_115;
if (!LV_IS_FALSE(var_113)) { break; }
lval var_116;
var_116 = LVI_SYMBOL("and");
lval var_117;
var_117 = LVI_BOOL(strcmp(var_109[0].v.str, var_116.v.str) == 0);
var_113 = var_117;
if (!LV_IS_FALSE(var_113)) { break; }
lval var_118;
var_118 = LVI_SYMBOL("begin");
lval var_119;
var_119 = LVI_BOOL(strcmp(var_109[0].v.str, var_118.v.str) == 0);
var_113 = var_119;
if (!LV_IS_FALSE(var_113)) { break; }
lval var_120;
var_120 = LVI_SYMBOL("case");
lval var_121;
var_121 = LVI_BOOL(strcmp(var_109[0].v.str, var_120.v.str) == 0);
var_113 = var_121;
if (!LV_IS_FALSE(var_113)) { break; }
lval var_122;
var_122 = LVI_SYMBOL("cond");
lval var_123;
var_123 = LVI_BOOL(strcmp(var_109[0].v.str, var_122.v.str) == 0);
var_113 = var_123;
if (!LV_IS_FALSE(var_113)) { break; }
lval var_124;
var_124 = LVI_SYMBOL("do");
lval var_125;
var_125 = LVI_BOOL(strcmp(var_109[0].v.str, var_124.v.str) == 0);
var_113 = var_125;
if (!LV_IS_FALSE(var_113)) { break; }
lval var_126;
var_126 = LVI_SYMBOL("guard");
lval var_127;
var_127 = LVI_BOOL(strcmp(var_109[0].v.str, var_126.v.str) == 0);
var_113 = var_127;
if (!LV_IS_FALSE(var_113)) { break; }
lval var_128;
var_128 = LVI_SYMBOL("if");
lval var_129;
var_129 = LVI_BOOL(strcmp(var_109[0].v.str, var_128.v.str) == 0);
var_113 = var_129;
if (!LV_IS_FALSE(var_113)) { break; }
lval var_130;
var_130 = LVI_SYMBOL("lambda");
lval var_131;
var_131 = LVI_BOOL(strcmp(var_109[0].v.str, var_130.v.str) == 0);
var_113 = var_131;
if (!LV_IS_FALSE(var_113)) { break; }
lval var_132;
var_132 = LVI_SYMBOL("let");
lval var_133;
var_133 = LVI_BOOL(strcmp(var_109[0].v.str, var_132.v.str) == 0);
var_113 = var_133;
if (!LV_IS_FALSE(var_113)) { break; }
lval var_134;
var_134 = LVI_SYMBOL("let*");
lval var_135;
var_135 = LVI_BOOL(strcmp(var_109[0].v.str, var_134.v.str) == 0);
var_113 = var_135;
if (!LV_IS_FALSE(var_113)) { break; }
lval var_136;
var_136 = LVI_SYMBOL("letrec");
lval var_137;
var_137 = LVI_BOOL(strcmp(var_109[0].v.str, var_136.v.str) == 0);
var_113 = var_137;
if (!LV_IS_FALSE(var_113)) { break; }
lval var_138;
var_138 = LVI_SYMBOL("letrec*");
lval var_139;
var_139 = LVI_BOOL(strcmp(var_109[0].v.str, var_138.v.str) == 0);
var_113 = var_139;
if (!LV_IS_FALSE(var_113)) { break; }
lval var_140;
var_140 = LVI_SYMBOL("or");
lval var_141;
var_141 = LVI_BOOL(strcmp(var_109[0].v.str, var_140.v.str) == 0);
var_113 = var_141;
if (!LV_IS_FALSE(var_113)) { break; }
lval var_142;
var_142 = LVI_SYMBOL("set!");
lval var_143;
var_143 = LVI_BOOL(strcmp(var_109[0].v.str, var_142.v.str) == 0);
var_113 = var_143;
if (!LV_IS_FALSE(var_113)) { break; }
lval var_144;
var_144 = LVI_SYMBOL("quasiquote");
lval var_145;
var_145 = LVI_BOOL(strcmp(var_109[0].v.str, var_144.v.str) == 0);
var_113 = var_145;
if (!LV_IS_FALSE(var_113)) { break; }
lval var_146;
var_146 = LVI_SYMBOL("unquote");
lval var_147;
var_147 = LVI_BOOL(strcmp(var_109[0].v.str, var_146.v.str) == 0);
var_113 = var_147;
if (!LV_IS_FALSE(var_113)) { break; }
lval var_148;
var_148 = LVI_SYMBOL("unquote-splicing");
lval var_149;
var_149 = LVI_BOOL(strcmp(var_109[0].v.str, var_148.v.str) == 0);
var_113 = var_149;
if (!LV_IS_FALSE(var_113)) { break; }
lval var_150;
var_150 = LVI_SYMBOL("pragma");
lval var_151;
var_151 = LVI_BOOL(strcmp(var_109[0].v.str, var_150.v.str) == 0);
var_113 = var_151;
if (!LV_IS_FALSE(var_113)) { break; }
} while (0);
var_111 = var_113;
if (LV_IS_FALSE(var_111)) { break; }
} while (0);
return var_111;
}
// end of function fn_9

// @@@ (define-form? expr) @@@ bld-rtl-dir/wile-rtl2-000084.scm:72 @@@ wile_eval_define_form @@@
lval wile_eval_define_form(lptr* var_152, lptr var_153, const char* cloc)
{
lval var_155;
var_155 = LVI_BOOL(true);
do {
lval var_156;
var_156 = LVI_BOOL(var_153[0].vt == LV_PAIR);
var_155 = var_156;
if (LV_IS_FALSE(var_155)) { break; }
lval var_157;
if (var_153[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_157 = (var_153[0].v.pair.car ? *(var_153[0].v.pair.car) : LVI_NIL());
lval var_158;
var_158 = LVI_BOOL(var_157.vt == LV_SYMBOL);
var_155 = var_158;
if (LV_IS_FALSE(var_155)) { break; }
lval var_159;
var_159 = LVI_BOOL(false);
do {
lval var_160;
if (var_153[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_160 = (var_153[0].v.pair.car ? *(var_153[0].v.pair.car) : LVI_NIL());
lval var_161;
var_161 = LVI_SYMBOL("define");
lval var_162;
var_162 = LVI_BOOL(strcmp(var_160.v.str, var_161.v.str) == 0);
var_159 = var_162;
if (!LV_IS_FALSE(var_159)) { break; }
lval var_163;
if (var_153[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_163 = (var_153[0].v.pair.car ? *(var_153[0].v.pair.car) : LVI_NIL());
lval var_164;
var_164 = LVI_SYMBOL("defmacro");
lval var_165;
var_165 = LVI_BOOL(strcmp(var_163.v.str, var_164.v.str) == 0);
var_159 = var_165;
if (!LV_IS_FALSE(var_159)) { break; }
} while (0);
var_155 = var_159;
if (LV_IS_FALSE(var_155)) { break; }
} while (0);
return var_155;
}
// end of function wile_eval_define_form

// @@@ lambda (c) @@@ bld-rtl-dir/wile-rtl2-000084.scm:83 @@@ fn_171 @@@
static lval fn_171(lptr* var_172, lptr var_173, const char* cloc)
{
lval var_175;
var_175 = LVI_CHAR(58);
lval var_176;
var_176 = LVI_BOOL(wile_do_eqv(&(var_173[0]), &(var_175)));
return var_176;
}
// end of lambda fn_171

// @@@ lambda (ps) @@@ bld-rtl-dir/wile-rtl2-000084.scm:85 @@@ fn_182 @@@
static lval fn_182(lptr* var_183, lptr var_184, const char* cloc)
{
lbl_185:;
lval var_186;
lval var_187;
var_187 = LVI_BOOL(var_184[0].vt == LV_NIL);
if (LV_IS_FALSE(var_187)) {
lval var_188;
lval var_189;
var_189 = LVI_STRING("/");
lval var_190;
if (var_184[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_190 = (var_184[0].v.pair.car ? *(var_184[0].v.pair.car) : LVI_NIL());
lval var_191;
{
lval var_193[2];
var_193[0] = var_190;
var_193[1] = V_CLOS(var_183,0);
var_191 = wile_gen_list(2, var_193, NULL);
}
{
lval var_192[8];
var_192[0] = var_189;
var_192[1] = var_191;
// bld-rtl-dir/wile-rtl2-000084.scm:88
var_191 = wile_string_join_by(NULL, var_192, "bld-rtl-dir/wile-rtl2-000084.scm:88");
}
var_188 = var_191;
lval var_194;
lval var_195;
var_195 = LVI_BOOL(access(var_188.v.str, F_OK) == 0);
if (LV_IS_FALSE(var_195)) {
lval var_196;
if (var_184[0].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_196 = (var_184[0].v.pair.cdr ? *(var_184[0].v.pair.cdr) : LVI_NIL());
lval var_199[8];
var_199[0] = var_196;
var_184[0] = var_199[0];
// bld-rtl-dir/wile-rtl2-000084.scm:89
goto lbl_185;	// selfie
} else {
var_194 = var_188;
}
var_186 = var_194;
} else {
lval var_200;
var_200 = LVI_BOOL(false);
var_186 = var_200;
}
return var_186;
}
// end of lambda fn_182

// @@@ (load-file-path pathy? fname) @@@ bld-rtl-dir/wile-rtl2-000084.scm:80 @@@ wile_eval_load_path @@@
lval wile_eval_load_path(lptr* var_166, lptr var_167, const char* cloc)
{
lval var_169;
if (LV_IS_FALSE(var_167[0])) {
var_169 = var_167[1];
} else {
lval var_170;
MK_CLOS(var_172,0);
lval var_177;
var_177 = LVI_STRING("WILE_LIBRARY_PATH");
lval var_178;
{
char* ev = getenv(var_177.v.str);
var_178 = (ev ? LVI_STRING(ev) : LVI_BOOL(false));
}
lval var_179;
{
lval var_180[8];
var_180[0] = LVI_PROC(fn_171,var_172,1);
var_180[1] = var_178;
// bld-rtl-dir/wile-rtl2-000084.scm:82
var_179 = wile_string_split_by(NULL, var_180, "bld-rtl-dir/wile-rtl2-000084.scm:82");
}
var_170 = var_179;
lval var_181;
MK_CLOS(var_183,1);
lptr var_201 = new_lv(VT_UNINIT);
var_201->v.pair.car = &(var_167[1]);
P_CLOS(var_183,0) = var_201;
lval var_202;
lval var_203[8];
var_203[0] = var_170;
// bld-rtl-dir/wile-rtl2-000084.scm:85
var_202 = fn_182(var_183, var_203, "bld-rtl-dir/wile-rtl2-000084.scm:85");
*var_201 = var_167[1];
var_181 = var_202;
lval var_205;
if (LV_IS_FALSE(var_181)) {
lval var_206;
var_206 = LVI_STRING("unable to find file \'");
lval var_207;
var_207 = LVI_STRING("\'");
lval var_208;
{
lval var_210[3];
var_210[0] = var_206;
var_210[1] = var_167[1];
var_210[2] = var_207;
var_208 = wile_gen_list(3, var_210, NULL);
}
{
lval var_209[8];
var_209[0] = var_208;
// bld-rtl-dir/wile-rtl2-000084.scm:92
var_208 = wile_string_append(NULL, var_209, "bld-rtl-dir/wile-rtl2-000084.scm:92");
}
lval var_211;
{
lval var_212[1];
var_212[0] = var_208;
var_211 = wile_gen_list(1, var_212, NULL);
}
if (var_211.vt == LV_PAIR && (var_211.v.pair.cdr == NULL || var_211.v.pair.cdr->vt == LV_NIL)) {
var_211 = (var_211.v.pair.car ? *(var_211.v.pair.car) : LVI_NIL());
}
cachalot->errval = new_lv(LV_NIL);
*(cachalot->errval) = var_211;
cachalot->l_whence = 0;
cachalot->c_whence = LISP_WHENCE;
longjmp(cachalot->cenv, 1);
var_205 = var_211;
} else {
var_205 = var_181;
}
var_169 = var_205;
}
return var_169;
}
// end of function wile_eval_load_path

// @@@ (load-form? expr) @@@ bld-rtl-dir/wile-rtl2-000084.scm:97 @@@ wile_eval_load_form @@@
lval wile_eval_load_form(lptr* var_213, lptr var_214, const char* cloc)
{
lval var_216;
var_216 = LVI_BOOL(true);
do {
lval var_217;
var_217 = LVI_BOOL(var_214[0].vt == LV_PAIR);
var_216 = var_217;
if (LV_IS_FALSE(var_216)) { break; }
lval var_218;
if (var_214[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_218 = (var_214[0].v.pair.car ? *(var_214[0].v.pair.car) : LVI_NIL());
lval var_219;
var_219 = LVI_BOOL(var_218.vt == LV_SYMBOL);
var_216 = var_219;
if (LV_IS_FALSE(var_216)) { break; }
lval var_220;
var_220 = LVI_BOOL(false);
do {
lval var_221;
if (var_214[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_221 = (var_214[0].v.pair.car ? *(var_214[0].v.pair.car) : LVI_NIL());
lval var_222;
var_222 = LVI_SYMBOL("load");
lval var_223;
var_223 = LVI_BOOL(strcmp(var_221.v.str, var_222.v.str) == 0);
var_220 = var_223;
if (!LV_IS_FALSE(var_220)) { break; }
lval var_224;
if (var_214[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_224 = (var_214[0].v.pair.car ? *(var_214[0].v.pair.car) : LVI_NIL());
lval var_225;
var_225 = LVI_SYMBOL("load-library");
lval var_226;
var_226 = LVI_BOOL(strcmp(var_224.v.str, var_225.v.str) == 0);
var_220 = var_226;
if (!LV_IS_FALSE(var_220)) { break; }
} while (0);
var_216 = var_220;
if (LV_IS_FALSE(var_216)) { break; }
lval var_227;
var_227 = LVI_INT(2);
lval var_228;
{
lval var_229[8];
var_229[0] = var_227;
var_229[1] = var_214[0];
// bld-rtl-dir/wile-rtl2-000084.scm:102
var_228 = wile_list_length_eq(NULL, var_229, "bld-rtl-dir/wile-rtl2-000084.scm:102");
}
var_216 = var_228;
if (LV_IS_FALSE(var_216)) { break; }
} while (0);
return var_216;
}
// end of function wile_eval_load_form

// @@@ (begin-form? expr) @@@ bld-rtl-dir/wile-rtl2-000084.scm:106 @@@ wile_eval_begin_form @@@
lval wile_eval_begin_form(lptr* var_230, lptr var_231, const char* cloc)
{
lval var_233;
var_233 = LVI_BOOL(true);
do {
lval var_234;
var_234 = LVI_BOOL(var_231[0].vt == LV_PAIR);
var_233 = var_234;
if (LV_IS_FALSE(var_233)) { break; }
lval var_235;
if (var_231[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_235 = (var_231[0].v.pair.car ? *(var_231[0].v.pair.car) : LVI_NIL());
lval var_236;
var_236 = LVI_BOOL(var_235.vt == LV_SYMBOL);
var_233 = var_236;
if (LV_IS_FALSE(var_233)) { break; }
lval var_237;
if (var_231[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_237 = (var_231[0].v.pair.car ? *(var_231[0].v.pair.car) : LVI_NIL());
lval var_238;
var_238 = LVI_SYMBOL("begin");
lval var_239;
var_239 = LVI_BOOL(strcmp(var_237.v.str, var_238.v.str) == 0);
var_233 = var_239;
if (LV_IS_FALSE(var_233)) { break; }
lval var_240;
var_240 = LVI_INT(2);
lval var_241;
{
lval var_242[8];
var_242[0] = var_240;
var_242[1] = var_231[0];
// bld-rtl-dir/wile-rtl2-000084.scm:110
var_241 = wile_list_length_ge(NULL, var_242, "bld-rtl-dir/wile-rtl2-000084.scm:110");
}
var_233 = var_241;
if (LV_IS_FALSE(var_233)) { break; }
} while (0);
return var_233;
}
// end of function wile_eval_begin_form

// @@@ lambda (ls) @@@ bld-rtl-dir/wile-rtl2-000084.scm:113 @@@ fn_247 @@@
static lval fn_247(lptr* var_248, lptr var_249, const char* cloc)
{
lbl_250:;
lval var_251;
do {
lval var_252;
var_252 = LVI_BOOL(var_249[0].vt == LV_NIL);
if (!LV_IS_FALSE(var_252)) {
lval var_253;
var_253 = LVI_BOOL(true);
var_251 = var_253;
break;
}
lval var_254;
if (var_249[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_254 = (var_249[0].v.pair.car ? *(var_249[0].v.pair.car) : LVI_NIL());
lval var_255;
var_255 = LVI_BOOL(var_254.vt == LV_SYMBOL);
if (!LV_IS_FALSE(var_255)) {
lval var_256;
if (var_249[0].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_256 = (var_249[0].v.pair.cdr ? *(var_249[0].v.pair.cdr) : LVI_NIL());
lval var_259[8];
var_259[0] = var_256;
var_249[0] = var_259[0];
// bld-rtl-dir/wile-rtl2-000084.scm:115
goto lbl_250;	// selfie
}
lval var_260;
var_260 = LVI_BOOL(false);
var_251 = var_260;
} while (0);
return var_251;
}
// end of lambda fn_247

// @@@ lambda (ss) @@@ bld-rtl-dir/wile-rtl2-000084.scm:118 @@@ fn_266 @@@
static lval fn_266(lptr* var_267, lptr var_268, const char* cloc)
{
lbl_269:;
lval var_270;
do {
lval var_271;
var_271 = LVI_BOOL(var_268[0].vt == LV_NIL);
if (!LV_IS_FALSE(var_271)) {
lval var_272;
var_272 = LVI_BOOL(true);
var_270 = var_272;
break;
}
lval var_273;
if (var_268[0].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_273 = (var_268[0].v.pair.cdr ? *(var_268[0].v.pair.cdr) : LVI_NIL());
lval var_274;
var_274 = LVI_BOOL(var_273.vt == LV_NIL);
if (!LV_IS_FALSE(var_274)) {
lval var_275;
var_275 = LVI_BOOL(true);
var_270 = var_275;
break;
}
lval var_276;
if (var_268[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_276 = (var_268[0].v.pair.car ? *(var_268[0].v.pair.car) : LVI_NIL());
lval var_277;
var_277 = LVI_STRING("cadr");
lval var_278;
{
char* cp = strchr(var_277.v.str, 'r');
var_278 = var_268[0];
while (*(--cp) != 'c') {
if (var_278.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_278 = (var_278.v.pair.car ? *(var_278.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_278 = (var_278.v.pair.cdr ? *(var_278.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_277.v.str);
}
}
}
lval var_279;
var_279 = LVI_BOOL(strcmp(var_276.v.str, var_278.v.str) == 0);
if (!LV_IS_FALSE(var_279)) {
lval var_280;
var_280 = LVI_BOOL(false);
var_270 = var_280;
break;
}
lval var_281;
if (var_268[0].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_281 = (var_268[0].v.pair.cdr ? *(var_268[0].v.pair.cdr) : LVI_NIL());
lval var_284[8];
var_284[0] = var_281;
var_268[0] = var_284[0];
// bld-rtl-dir/wile-rtl2-000084.scm:123
goto lbl_269;	// selfie
} while (0);
return var_270;
}
// end of lambda fn_266

// @@@ lambda (a b) @@@ bld-rtl-dir/wile-rtl2-000084.scm:118 @@@ fn_285 @@@
static lval fn_285(lptr* var_286, lptr var_287, const char* cloc)
{
lval var_289;
var_289 = LVI_BOOL(strcmp(var_287[0].v.str, var_287[1].v.str) < 0);
return var_289;
}
// end of lambda fn_285

// @@@ symbol->string @@@ bld-rtl-dir/wile-rtl2-000084.scm:119 @@@ fn_290 @@@
static lval fn_290(lptr* var_291, lptr var_292, const char* cloc)
{
lval var_294;
var_294 = LVI_STRING(var_292[0].v.str);
return var_294;
}
// end of prim fn_290

// @@@ (unique-symbols? lst) @@@ bld-rtl-dir/wile-rtl2-000084.scm:112 @@@ fn_10 @@@
static lval fn_10(lptr* var_243, lptr var_244, const char* cloc)
{
lval var_246;
MK_CLOS(var_248,0);
lval var_261;
lval var_262[8];
var_262[0] = var_244[0];
// bld-rtl-dir/wile-rtl2-000084.scm:113
var_261 = fn_247(var_248, var_262, "bld-rtl-dir/wile-rtl2-000084.scm:113");
var_246 = var_261;
lval var_264;
if (LV_IS_FALSE(var_246)) {
lval var_265;
var_265 = LVI_BOOL(false);
var_264 = var_265;
} else {
MK_CLOS(var_267,0);
MK_CLOS(var_286,0);
lval var_295;
var_295 = LVI_NIL();
{
lval var_296[8];
var_296[0] = LVI_PROC(fn_290,NULL,1);
var_296[1] = var_244[0];
var_296[2] = var_295;
// bld-rtl-dir/wile-rtl2-000084.scm:119
var_295 = wile_map(NULL, var_296, "bld-rtl-dir/wile-rtl2-000084.scm:119");
}
lval var_297;
{
lval var_298[8];
var_298[0] = LVI_PROC(fn_285,var_286,2);
var_298[1] = var_295;
// bld-rtl-dir/wile-rtl2-000084.scm:118
var_297 = wile_list_sort(NULL, var_298, "bld-rtl-dir/wile-rtl2-000084.scm:118");
}
lval var_299;
lval var_300[8];
var_300[0] = var_297;
// bld-rtl-dir/wile-rtl2-000084.scm:118
var_299 = fn_266(var_267, var_300, "bld-rtl-dir/wile-rtl2-000084.scm:118");
var_264 = var_299;
}
return var_264;
}
// end of function fn_10

// @@@ (symbol-lookup box? env sym) @@@ bld-rtl-dir/wile-rtl2-000084.scm:126 @@@ fn_11 @@@
static lval fn_11(lptr* var_302, lptr var_303, const char* cloc)
{
lbl_304:;
lval var_305;
do {
lval var_306;
var_306 = LVI_BOOL(var_303[1].vt == LV_NIL);
if (!LV_IS_FALSE(var_306)) {
lval var_307;
var_307 = LVI_STRING("symbol \'%s\' lookup failed!");
lval var_310[8];
var_310[0] = var_307;
lval var_311[8];
var_311[0] = var_303[2];
var_303[1] = wile_gen_list(1, var_311, NULL);
var_303[0] = var_310[0];
// bld-rtl-dir/wile-rtl2-000084.scm:128
TAIL_CALL fn_7(NULL, var_303, "bld-rtl-dir/wile-rtl2-000084.scm:128");
}
lval var_312;
if (var_303[1].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_312 = (var_303[1].v.pair.car ? *(var_303[1].v.pair.car) : LVI_NIL());
lval var_313;
lval var_314[8];
var_314[0] = var_312;
// bld-rtl-dir/wile-rtl2-000084.scm:129
var_313 = fn_3(NULL, var_314, "bld-rtl-dir/wile-rtl2-000084.scm:129");
lval var_316;
var_316 = LVI_BOOL(strcmp(var_303[2].v.str, var_313.v.str) == 0);
if (!LV_IS_FALSE(var_316)) {
lval var_317;
if (LV_IS_FALSE(var_303[0])) {
lval var_318;
if (var_303[1].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_318 = (var_303[1].v.pair.car ? *(var_303[1].v.pair.car) : LVI_NIL());
lval var_321[8];
var_321[0] = var_318;
var_303[0] = var_321[0];
// bld-rtl-dir/wile-rtl2-000084.scm:130
TAIL_CALL fn_4(NULL, var_303, "bld-rtl-dir/wile-rtl2-000084.scm:130");
} else {
lval var_322;
if (var_303[1].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_322 = (var_303[1].v.pair.car ? *(var_303[1].v.pair.car) : LVI_NIL());
var_317 = var_322;
}
var_305 = var_317;
break;
}
lval var_323;
if (var_303[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_323 = (var_303[1].v.pair.cdr ? *(var_303[1].v.pair.cdr) : LVI_NIL());
lval var_326[8];
var_326[0] = var_303[0];
var_326[1] = var_323;
var_326[2] = var_303[2];
var_303[0] = var_326[0];
var_303[1] = var_326[1];
var_303[2] = var_326[2];
// bld-rtl-dir/wile-rtl2-000084.scm:131
goto lbl_304;	// selfie
} while (0);
return var_305;
}
// end of function fn_11

// @@@ (eval-binding env expr) @@@ bld-rtl-dir/wile-rtl2-000084.scm:133 @@@ fn_12 @@@
static lval fn_12(lptr* var_327, lptr var_328, const char* cloc)
{
lval var_330;
lval var_331;
var_331 = LVI_BOOL(true);
do {
lval var_332;
var_332 = LVI_BOOL(var_328[1].vt == LV_PAIR);
var_331 = var_332;
if (LV_IS_FALSE(var_331)) { break; }
lval var_333;
if (var_328[1].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_333 = (var_328[1].v.pair.car ? *(var_328[1].v.pair.car) : LVI_NIL());
lval var_334;
var_334 = LVI_BOOL(var_333.vt == LV_SYMBOL);
var_331 = var_334;
if (LV_IS_FALSE(var_331)) { break; }
} while (0);
if (LV_IS_FALSE(var_331)) {
lval var_335;
var_335 = LVI_STRING("malformed binding expression \'%v\'");
lval var_338[8];
var_338[0] = var_335;
lval var_339[8];
var_339[0] = var_328[1];
var_328[1] = wile_gen_list(1, var_339, NULL);
var_328[0] = var_338[0];
// bld-rtl-dir/wile-rtl2-000084.scm:136
TAIL_CALL fn_7(NULL, var_328, "bld-rtl-dir/wile-rtl2-000084.scm:136");
} else {
lval var_340;
if (var_328[1].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_340 = (var_328[1].v.pair.car ? *(var_328[1].v.pair.car) : LVI_NIL());
lval var_341;
var_341 = LVI_STRING("cadr");
lval var_342;
{
char* cp = strchr(var_341.v.str, 'r');
var_342 = var_328[1];
while (*(--cp) != 'c') {
if (var_342.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_342 = (var_342.v.pair.car ? *(var_342.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_342 = (var_342.v.pair.cdr ? *(var_342.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_341.v.str);
}
}
}
lval var_343;
lval var_344[8];
var_344[0] = var_328[0];
var_344[1] = var_342;
// bld-rtl-dir/wile-rtl2-000084.scm:135
var_343 = wile_eval(NULL, var_344, "bld-rtl-dir/wile-rtl2-000084.scm:135");
lval var_348[8];
var_348[0] = var_340;
var_348[1] = var_343;
var_328[0] = var_348[0];
var_328[1] = var_348[1];
// bld-rtl-dir/wile-rtl2-000084.scm:135
TAIL_CALL fn_1(NULL, var_328, "bld-rtl-dir/wile-rtl2-000084.scm:135");
}
return var_330;
}
// end of function fn_12

// @@@ (eval-define macro env expr) @@@ bld-rtl-dir/wile-rtl2-000084.scm:140 @@@ wile_eval_define @@@
lval wile_eval_define(lptr* var_349, lptr var_350, const char* cloc)
{
lval var_352;
lval var_353;
do {
lval var_354;
if (var_350[2].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_354 = (var_350[2].v.pair.car ? *(var_350[2].v.pair.car) : LVI_NIL());
lval var_355;
var_355 = LVI_BOOL(var_354.vt == LV_SYMBOL);
if (!LV_IS_FALSE(var_355)) {
lval var_356;
lval var_357[8];
var_357[0] = var_350[1];
var_357[1] = var_350[2];
// bld-rtl-dir/wile-rtl2-000084.scm:142
var_356 = fn_12(NULL, var_357, "bld-rtl-dir/wile-rtl2-000084.scm:142");
var_353 = var_356;
break;
}
lval var_359;
var_359 = LVI_BOOL(true);
do {
lval var_360;
if (var_350[2].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_360 = (var_350[2].v.pair.car ? *(var_350[2].v.pair.car) : LVI_NIL());
lval var_361;
var_361 = LVI_BOOL(var_360.vt == LV_PAIR);
var_359 = var_361;
if (LV_IS_FALSE(var_359)) { break; }
lval var_362;
var_362 = LVI_STRING("caar");
lval var_363;
{
char* cp = strchr(var_362.v.str, 'r');
var_363 = var_350[2];
while (*(--cp) != 'c') {
if (var_363.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_363 = (var_363.v.pair.car ? *(var_363.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_363 = (var_363.v.pair.cdr ? *(var_363.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_362.v.str);
}
}
}
lval var_364;
var_364 = LVI_BOOL(var_363.vt == LV_SYMBOL);
var_359 = var_364;
if (LV_IS_FALSE(var_359)) { break; }
} while (0);
if (!LV_IS_FALSE(var_359)) {
lval var_365;
var_365 = LVI_STRING("caar");
lval var_366;
{
char* cp = strchr(var_365.v.str, 'r');
var_366 = var_350[2];
while (*(--cp) != 'c') {
if (var_366.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_366 = (var_366.v.pair.car ? *(var_366.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_366 = (var_366.v.pair.cdr ? *(var_366.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_365.v.str);
}
}
}
lval var_367;
var_367 = LVI_SYMBOL("lambda");
lval var_368;
var_368 = LVI_STRING("cdar");
lval var_369;
{
char* cp = strchr(var_368.v.str, 'r');
var_369 = var_350[2];
while (*(--cp) != 'c') {
if (var_369.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_369 = (var_369.v.pair.car ? *(var_369.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_369 = (var_369.v.pair.cdr ? *(var_369.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_368.v.str);
}
}
}
lval var_370;
if (var_350[2].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_370 = (var_350[2].v.pair.cdr ? *(var_350[2].v.pair.cdr) : LVI_NIL());
lval var_371;
{
lptr p1 = NULL, p2 = NULL;
if (var_369.vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_369;
}
if (var_370.vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = var_370;
}
var_371 = LVI_PAIR(p1, p2);
}
lval var_372;
{
lptr p1 = NULL, p2 = NULL;
if (var_367.vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_367;
}
if (var_371.vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = var_371;
}
var_372 = LVI_PAIR(p1, p2);
}
lval var_373;
{
lval var_374[2];
var_374[0] = var_366;
var_374[1] = var_372;
var_373 = wile_gen_list(2, var_374, NULL);
}
lval var_375;
lval var_376[8];
var_376[0] = var_350[1];
var_376[1] = var_373;
// bld-rtl-dir/wile-rtl2-000084.scm:144
var_375 = fn_12(NULL, var_376, "bld-rtl-dir/wile-rtl2-000084.scm:144");
var_353 = var_375;
break;
}
lval var_378;
var_378 = LVI_STRING("malformed \'define\' expression \'%v\'");
lval var_379;
lval var_380[8];
var_380[0] = var_378;
lval var_382[8];
var_382[0] = var_350[2];
var_380[1] = wile_gen_list(1, var_382, NULL);
// bld-rtl-dir/wile-rtl2-000084.scm:149
var_379 = fn_7(NULL, var_380, "bld-rtl-dir/wile-rtl2-000084.scm:149");
var_353 = var_379;
} while (0);
var_352 = var_353;
lval var_383;
lval var_384;
lval var_385[8];
var_385[0] = var_352;
// bld-rtl-dir/wile-rtl2-000084.scm:150
var_384 = fn_4(NULL, var_385, "bld-rtl-dir/wile-rtl2-000084.scm:150");
var_383 = var_384;
lval var_387;
lval var_388;
{
lptr p1 = NULL, p2 = NULL;
if (var_352.vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_352;
}
if (var_350[1].vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = var_350[1];
}
var_388 = LVI_PAIR(p1, p2);
}
var_387 = var_388;
lval var_390;
var_390 = LVI_BOOL(var_383.vt == LV_ILAMBDA);
if (LV_IS_FALSE(var_390)) {
(void)
 LVI_BOOL(false);
} else {
if (var_383.vt == LV_ILAMBDA && var_350[0].vt == LV_BOOL) {
var_383.v.ilambda->macro = var_350[0].v.bv;
} else {
WILE_EX("set-interpreted-procedure-macro!", "expects an interpreted procedure and a boolean");
}
if (var_383.vt == LV_ILAMBDA && var_387.vt == LV_PAIR) {
var_383.v.ilambda->env = var_387;
} else {
WILE_EX("set-interpreted-procedure-environment!", "expects an interpreted procedure and an environment list");
}
}
return var_387;
}
// end of function wile_eval_define

// @@@ lambda (es) @@@ bld-rtl-dir/wile-rtl2-000084.scm:162 @@@ fn_399 @@@
static lval fn_399(lptr* var_400, lptr var_401, const char* cloc)
{
lbl_402:;
lval var_403;
lval var_404;
do {
lval var_405;
if (var_401[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_405 = (var_401[0].v.pair.car ? *(var_401[0].v.pair.car) : LVI_NIL());
lval var_406;
lval var_407[8];
var_407[0] = var_405;
// bld-rtl-dir/wile-rtl2-000084.scm:163
var_406 = wile_eval_define_form(NULL, var_407, "bld-rtl-dir/wile-rtl2-000084.scm:163");
if (!LV_IS_FALSE(var_406)) {
lval var_409;
var_409 = LVI_STRING("caar");
lval var_410;
{
char* cp = strchr(var_409.v.str, 'r');
var_410 = var_401[0];
while (*(--cp) != 'c') {
if (var_410.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_410 = (var_410.v.pair.car ? *(var_410.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_410 = (var_410.v.pair.cdr ? *(var_410.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_409.v.str);
}
}
}
lval var_411;
var_411 = LVI_SYMBOL("defmacro");
lval var_412;
var_412 = LVI_BOOL(strcmp(var_410.v.str, var_411.v.str) == 0);
lval var_413;
var_413 = LVI_STRING("cdar");
lval var_414;
{
char* cp = strchr(var_413.v.str, 'r');
var_414 = var_401[0];
while (*(--cp) != 'c') {
if (var_414.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_414 = (var_414.v.pair.car ? *(var_414.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_414 = (var_414.v.pair.cdr ? *(var_414.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_413.v.str);
}
}
}
lval var_415;
lval var_416[8];
var_416[0] = var_412;
var_416[1] = V_CLOS(var_400,0);
var_416[2] = var_414;
// bld-rtl-dir/wile-rtl2-000084.scm:164
var_415 = wile_eval_define(NULL, var_416, "bld-rtl-dir/wile-rtl2-000084.scm:164");
V_CLOS(var_400,0) = var_415;
if (LV_IS_FALSE(V_CLOS(var_400,1))) {
(void)
 LVI_BOOL(false);
} else {
lval var_421[8];
var_421[0] = V_CLOS(var_400,1);
var_421[1] = V_CLOS(var_400,0);
// bld-rtl-dir/wile-rtl2-000084.scm:166
(void)
 fn_6(NULL, var_421, "bld-rtl-dir/wile-rtl2-000084.scm:166");
}
lval var_423;
if (V_CLOS(var_400,0).vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_423 = (V_CLOS(var_400,0).v.pair.car ? *(V_CLOS(var_400,0).v.pair.car) : LVI_NIL());
lval var_424;
lval var_425[8];
var_425[0] = var_423;
// bld-rtl-dir/wile-rtl2-000084.scm:167
var_424 = fn_4(NULL, var_425, "bld-rtl-dir/wile-rtl2-000084.scm:167");
var_404 = var_424;
break;
}
lval var_427;
if (var_401[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_427 = (var_401[0].v.pair.car ? *(var_401[0].v.pair.car) : LVI_NIL());
lval var_428;
lval var_429[8];
var_429[0] = V_CLOS(var_400,0);
var_429[1] = var_427;
// bld-rtl-dir/wile-rtl2-000084.scm:169
var_428 = wile_eval(NULL, var_429, "bld-rtl-dir/wile-rtl2-000084.scm:169");
var_404 = var_428;
} while (0);
var_403 = var_404;
lval var_431;
lval var_432;
if (var_401[0].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_432 = (var_401[0].v.pair.cdr ? *(var_401[0].v.pair.cdr) : LVI_NIL());
lval var_433;
var_433 = LVI_BOOL(var_432.vt == LV_NIL);
if (LV_IS_FALSE(var_433)) {
lval var_434;
if (var_401[0].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_434 = (var_401[0].v.pair.cdr ? *(var_401[0].v.pair.cdr) : LVI_NIL());
lval var_437[8];
var_437[0] = var_434;
var_401[0] = var_437[0];
// bld-rtl-dir/wile-rtl2-000084.scm:173
goto lbl_402;	// selfie
} else {
var_431 = var_403;
}
return var_431;
}
// end of lambda fn_399

// @@@ (eval-begin ebox env expr) @@@ bld-rtl-dir/wile-rtl2-000084.scm:159 @@@ wile_eval_begin @@@
lval wile_eval_begin(lptr* var_394, lptr var_395, const char* cloc)
{
lval var_397;
lval var_398;
var_398 = LVI_BOOL(var_395[2].vt == LV_NIL);
if (LV_IS_FALSE(var_398)) {
MK_CLOS(var_400,2);
lptr var_438 = new_lv(VT_UNINIT);
var_438->v.pair.car = &(var_395[0]);
P_CLOS(var_400,1) = var_438;
lptr var_439 = new_lv(VT_UNINIT);
var_439->v.pair.car = &(var_395[1]);
P_CLOS(var_400,0) = var_439;
lval var_440;
lval var_441[8];
var_441[0] = var_395[2];
// bld-rtl-dir/wile-rtl2-000084.scm:162
var_440 = fn_399(var_400, var_441, "bld-rtl-dir/wile-rtl2-000084.scm:162");
*var_439 = var_395[1];
*var_438 = var_395[0];
var_397 = var_440;
} else {
lval var_443;
var_443 = LVI_NIL();
var_397 = var_443;
}
return var_397;
}
// end of function wile_eval_begin

// @@@ lambda (a1) @@@ bld-rtl-dir/wile-rtl2-000084.scm:178 @@@ fn_462 @@@
static lval fn_462(lptr* var_463, lptr var_464, const char* cloc)
{
lval var_466;
var_466 = LVI_STRING("caddr");
lval var_467;
{
char* cp = strchr(var_466.v.str, 'r');
var_467 = var_464[0];
while (*(--cp) != 'c') {
if (var_467.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_467 = (var_467.v.pair.car ? *(var_467.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_467 = (var_467.v.pair.cdr ? *(var_467.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_466.v.str);
}
}
}
return var_467;
}
// end of lambda fn_462

// @@@ lambda (a1) @@@ bld-rtl-dir/wile-rtl2-000084.scm:178 @@@ fn_468 @@@
static lval fn_468(lptr* var_469, lptr var_470, const char* cloc)
{
lval var_472;
var_472 = LVI_STRING("cadr");
lval var_473;
{
char* cp = strchr(var_472.v.str, 'r');
var_473 = var_470[0];
while (*(--cp) != 'c') {
if (var_473.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_473 = (var_473.v.pair.car ? *(var_473.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_473 = (var_473.v.pair.cdr ? *(var_473.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_472.v.str);
}
}
}
return var_473;
}
// end of lambda fn_468

// @@@ (eval-if env exprs) @@@ bld-rtl-dir/wile-rtl2-000084.scm:175 @@@ fn_13 @@@
static lval fn_13(lptr* var_444, lptr var_445, const char* cloc)
{
lval var_447;
lval var_448;
var_448 = LVI_INT(3);
lval var_449;
{
lval var_450[8];
var_450[0] = var_448;
var_450[1] = var_445[1];
// bld-rtl-dir/wile-rtl2-000084.scm:176
var_449 = wile_list_length_eq(NULL, var_450, "bld-rtl-dir/wile-rtl2-000084.scm:176");
}
if (LV_IS_FALSE(var_449)) {
lval var_451;
var_451 = LVI_STRING("malformed \'if\' expression \'%v\'");
lval var_454[8];
var_454[0] = var_451;
lval var_455[8];
var_455[0] = var_445[1];
var_445[1] = wile_gen_list(1, var_455, NULL);
var_445[0] = var_454[0];
// bld-rtl-dir/wile-rtl2-000084.scm:179
TAIL_CALL fn_7(NULL, var_445, "bld-rtl-dir/wile-rtl2-000084.scm:179");
} else {
lval var_456;
lval var_457;
if (var_445[1].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_457 = (var_445[1].v.pair.car ? *(var_445[1].v.pair.car) : LVI_NIL());
lval var_458;
lval var_459[8];
var_459[0] = var_445[0];
var_459[1] = var_457;
// bld-rtl-dir/wile-rtl2-000084.scm:177
var_458 = wile_eval(NULL, var_459, "bld-rtl-dir/wile-rtl2-000084.scm:177");
var_456 = var_458;
lval var_461;
if (LV_IS_FALSE(var_456)) {
MK_CLOS(var_463,0);
var_461 = LVI_PROC(fn_462,var_463,1);
} else {
MK_CLOS(var_469,0);
var_461 = LVI_PROC(fn_468,var_469,1);
}
lval var_474;
{
lval var_475[1];
var_475[0] = var_445[1];
var_474 = wile_gen_list(1, var_475, NULL);
}
lval var_476;
{
lval var_477[2];
var_477[0] = var_461;
var_477[1] = var_474;
var_476 = wile_gen_list(2, var_477, NULL);
}
var_476 = wile_apply_function(&(var_476), LISP_WHENCE);
lval var_480[8];
var_480[0] = var_445[0];
var_480[1] = var_476;
var_445[0] = var_480[0];
var_445[1] = var_480[1];
// bld-rtl-dir/wile-rtl2-000084.scm:178
TAIL_CALL wile_eval(NULL, var_445, "bld-rtl-dir/wile-rtl2-000084.scm:178");
}
return var_447;
}
// end of function fn_13

// @@@ (eval-and init env exprs) @@@ bld-rtl-dir/wile-rtl2-000084.scm:181 @@@ fn_14 @@@
static lval fn_14(lptr* var_481, lptr var_482, const char* cloc)
{
lbl_483:;
lval var_484;
do {
lval var_485;
var_485 = LVI_BOOL(LV_IS_FALSE(var_482[0]));
if (!LV_IS_FALSE(var_485)) {
var_484 = var_482[0];
break;
}
lval var_486;
var_486 = LVI_BOOL(var_482[2].vt == LV_NIL);
if (!LV_IS_FALSE(var_486)) {
var_484 = var_482[0];
break;
}
lval var_487;
if (var_482[2].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_487 = (var_482[2].v.pair.car ? *(var_482[2].v.pair.car) : LVI_NIL());
lval var_488;
lval var_489[8];
var_489[0] = var_482[1];
var_489[1] = var_487;
// bld-rtl-dir/wile-rtl2-000084.scm:185
var_488 = wile_eval(NULL, var_489, "bld-rtl-dir/wile-rtl2-000084.scm:185");
lval var_491;
if (var_482[2].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_491 = (var_482[2].v.pair.cdr ? *(var_482[2].v.pair.cdr) : LVI_NIL());
lval var_494[8];
var_494[0] = var_488;
var_494[1] = var_482[1];
var_494[2] = var_491;
var_482[0] = var_494[0];
var_482[1] = var_494[1];
var_482[2] = var_494[2];
// bld-rtl-dir/wile-rtl2-000084.scm:185
goto lbl_483;	// selfie
} while (0);
return var_484;
}
// end of function fn_14

// @@@ (eval-or init env exprs) @@@ bld-rtl-dir/wile-rtl2-000084.scm:187 @@@ fn_15 @@@
static lval fn_15(lptr* var_495, lptr var_496, const char* cloc)
{
lbl_497:;
lval var_498;
do {
if (!LV_IS_FALSE(var_496[0])) {
var_498 = var_496[0];
break;
}
lval var_499;
var_499 = LVI_BOOL(var_496[2].vt == LV_NIL);
if (!LV_IS_FALSE(var_499)) {
var_498 = var_496[0];
break;
}
lval var_500;
if (var_496[2].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_500 = (var_496[2].v.pair.car ? *(var_496[2].v.pair.car) : LVI_NIL());
lval var_501;
lval var_502[8];
var_502[0] = var_496[1];
var_502[1] = var_500;
// bld-rtl-dir/wile-rtl2-000084.scm:191
var_501 = wile_eval(NULL, var_502, "bld-rtl-dir/wile-rtl2-000084.scm:191");
lval var_504;
if (var_496[2].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_504 = (var_496[2].v.pair.cdr ? *(var_496[2].v.pair.cdr) : LVI_NIL());
lval var_507[8];
var_507[0] = var_501;
var_507[1] = var_496[1];
var_507[2] = var_504;
var_496[0] = var_507[0];
var_496[1] = var_507[1];
var_496[2] = var_507[2];
// bld-rtl-dir/wile-rtl2-000084.scm:191
goto lbl_497;	// selfie
} while (0);
return var_498;
}
// end of function fn_15

// @@@ lambda (bv) @@@ bld-rtl-dir/wile-rtl2-000084.scm:198 @@@ fn_532 @@@
static lval fn_532(lptr* var_533, lptr var_534, const char* cloc)
{
lval var_536;
lval var_537;
{
var_537 = var_534[0];
while (var_537.vt == LV_PAIR) {
var_537 = (var_537.v.pair.cdr ? *(var_537.v.pair.cdr) : LVI_NIL());
}
var_537 = LVI_BOOL(var_537.vt == LV_NIL);
}
if (LV_IS_FALSE(var_537)) {
lval var_538;
var_538 = LVI_STRING("malformed \'%s\' binding \'%v\' is not a list");
lval var_541[8];
var_541[0] = var_538;
lval var_542[8];
var_542[0] = V_CLOS(var_533,0);
var_542[1] = var_534[0];
var_534[1] = wile_gen_list(2, var_542, NULL);
var_534[0] = var_541[0];
// bld-rtl-dir/wile-rtl2-000084.scm:200
TAIL_CALL fn_7(NULL, var_534, "bld-rtl-dir/wile-rtl2-000084.scm:200");
} else {
lval var_543;
var_543 = LVI_BOOL(false);
var_536 = var_543;
}
return var_536;
}
// end of lambda fn_532

// @@@ car @@@ bld-rtl-dir/wile-rtl2-000084.scm:203 @@@ fn_548 @@@
static lval fn_548(lptr* var_549, lptr var_550, const char* cloc)
{
lval var_552;
if (var_550[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_552 = (var_550[0].v.pair.car ? *(var_550[0].v.pair.car) : LVI_NIL());
return var_552;
}
// end of prim fn_548

// @@@ (check-let-bindings type llist) @@@ bld-rtl-dir/wile-rtl2-000084.scm:193 @@@ fn_16 @@@
static lval fn_16(lptr* var_508, lptr var_509, const char* cloc)
{
lval var_511;
lval var_512;
var_512 = LVI_BOOL(true);
do {
lval var_513;
{
var_513 = var_509[1];
while (var_513.vt == LV_PAIR) {
var_513 = (var_513.v.pair.cdr ? *(var_513.v.pair.cdr) : LVI_NIL());
}
var_513 = LVI_BOOL(var_513.vt == LV_NIL);
}
var_512 = var_513;
if (LV_IS_FALSE(var_512)) { break; }
lval var_514;
var_514 = LVI_INT(2);
lval var_515;
{
lval var_516[8];
var_516[0] = var_514;
var_516[1] = var_509[1];
// bld-rtl-dir/wile-rtl2-000084.scm:194
var_515 = wile_list_length_ge(NULL, var_516, "bld-rtl-dir/wile-rtl2-000084.scm:194");
}
var_512 = var_515;
if (LV_IS_FALSE(var_512)) { break; }
} while (0);
if (LV_IS_FALSE(var_512)) {
lval var_517;
var_517 = LVI_STRING("malformed \'%s\' expression \'%v\'");
lval var_520[8];
var_520[0] = var_517;
lval var_521[8];
var_521[0] = var_509[0];
var_521[1] = var_509[1];
var_509[1] = wile_gen_list(2, var_521, NULL);
var_509[0] = var_520[0];
// bld-rtl-dir/wile-rtl2-000084.scm:206
TAIL_CALL fn_7(NULL, var_509, "bld-rtl-dir/wile-rtl2-000084.scm:206");
} else {
lval var_522;
lval var_523;
if (var_509[1].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_523 = (var_509[1].v.pair.car ? *(var_509[1].v.pair.car) : LVI_NIL());
var_522 = var_523;
lval var_525;
{
var_525 = var_522;
while (var_525.vt == LV_PAIR) {
var_525 = (var_525.v.pair.cdr ? *(var_525.v.pair.cdr) : LVI_NIL());
}
var_525 = LVI_BOOL(var_525.vt == LV_NIL);
}
if (LV_IS_FALSE(var_525)) {
lval var_526;
var_526 = LVI_STRING("malformed \'%s\' bindings \'%v\' are not a list");
lval var_528[8];
var_528[0] = var_526;
lval var_530[8];
var_530[0] = var_509[0];
var_530[1] = var_522;
var_528[1] = wile_gen_list(2, var_530, NULL);
// bld-rtl-dir/wile-rtl2-000084.scm:197
(void)
 fn_7(NULL, var_528, "bld-rtl-dir/wile-rtl2-000084.scm:197");
} else {
(void)
 LVI_BOOL(false);
}
MK_CLOS(var_533,1);
lptr var_544 = new_lv(VT_UNINIT);
var_544->v.pair.car = &(var_509[0]);
P_CLOS(var_533,0) = var_544;
lval var_545;
var_545 = LVI_NIL();
{
lval var_546[8];
var_546[0] = LVI_PROC(fn_532,var_533,1);
var_546[1] = var_522;
var_546[2] = var_545;
// bld-rtl-dir/wile-rtl2-000084.scm:198
var_545 = wile_for_each(NULL, var_546, "bld-rtl-dir/wile-rtl2-000084.scm:198");
}
lval var_547;
lval var_553;
var_553 = LVI_NIL();
{
lval var_554[8];
var_554[0] = LVI_PROC(fn_548,NULL,1);
var_554[1] = var_522;
var_554[2] = var_553;
// bld-rtl-dir/wile-rtl2-000084.scm:203
var_553 = wile_map(NULL, var_554, "bld-rtl-dir/wile-rtl2-000084.scm:203");
}
var_547 = var_553;
lval var_555;
lval var_556;
lval var_557[8];
var_557[0] = var_547;
// bld-rtl-dir/wile-rtl2-000084.scm:204
var_556 = fn_10(NULL, var_557, "bld-rtl-dir/wile-rtl2-000084.scm:204");
if (LV_IS_FALSE(var_556)) {
lval var_559;
var_559 = LVI_STRING("malformed \'%s\' bindings list \'%v\'");
lval var_562[8];
var_562[0] = var_559;
lval var_563[8];
var_563[0] = var_509[0];
var_563[1] = var_547;
var_509[1] = wile_gen_list(2, var_563, NULL);
var_509[0] = var_562[0];
// bld-rtl-dir/wile-rtl2-000084.scm:205
TAIL_CALL fn_7(NULL, var_509, "bld-rtl-dir/wile-rtl2-000084.scm:205");
} else {
lval var_564;
var_564 = LVI_BOOL(false);
var_555 = var_564;
}
*var_544 = var_509[0];
var_511 = var_555;
}
return var_511;
}
// end of function fn_16

// @@@ lambda (v) @@@ bld-rtl-dir/wile-rtl2-000084.scm:214 @@@ fn_590 @@@
static lval fn_590(lptr* var_591, lptr var_592, const char* cloc)
{
lval var_594;
var_594 = LVI_STRING("cadr");
lval var_595;
{
char* cp = strchr(var_594.v.str, 'r');
var_595 = var_592[0];
while (*(--cp) != 'c') {
if (var_595.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_595 = (var_595.v.pair.car ? *(var_595.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_595 = (var_595.v.pair.cdr ? *(var_595.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_594.v.str);
}
}
}
lval var_598[8];
var_598[0] = V_CLOS(var_591,0);
var_598[1] = var_595;
var_592[0] = var_598[0];
var_592[1] = var_598[1];
// bld-rtl-dir/wile-rtl2-000084.scm:214
TAIL_CALL wile_eval(NULL, var_592, "bld-rtl-dir/wile-rtl2-000084.scm:214");
}
// end of lambda fn_590

// @@@ lambda (iex) @@@ bld-rtl-dir/wile-rtl2-000084.scm:223 @@@ fn_637 @@@
static lval fn_637(lptr* var_638, lptr var_639, const char* cloc)
{
lval var_641;
lval var_642;
lval var_643[8];
var_643[0] = V_CLOS(var_638,0);
var_643[1] = var_639[0];
// bld-rtl-dir/wile-rtl2-000084.scm:224
var_642 = fn_12(NULL, var_643, "bld-rtl-dir/wile-rtl2-000084.scm:224");
var_641 = var_642;
if (LV_IS_FALSE(V_CLOS(var_638,1))) {
(void)
 LVI_BOOL(false);
} else {
lval var_647;
{
lptr p1 = NULL, p2 = NULL;
if (var_641.vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_641;
}
if (V_CLOS(var_638,0).vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = V_CLOS(var_638,0);
}
var_647 = LVI_PAIR(p1, p2);
}
V_CLOS(var_638,0) = var_647;
(void)
 V_CLOS(var_638,0);
}
return var_641;
}
// end of lambda fn_637

// @@@ lambda (box) @@@ bld-rtl-dir/wile-rtl2-000084.scm:231 @@@ fn_662 @@@
static lval fn_662(lptr* var_663, lptr var_664, const char* cloc)
{
lval var_666;
lval var_667;
lval var_668[8];
var_668[0] = var_664[0];
// bld-rtl-dir/wile-rtl2-000084.scm:232
var_667 = fn_4(NULL, var_668, "bld-rtl-dir/wile-rtl2-000084.scm:232");
var_666 = var_667;
lval var_670;
lval var_671;
var_671 = LVI_BOOL(var_666.vt == LV_ILAMBDA);
if (LV_IS_FALSE(var_671)) {
lval var_672;
var_672 = LVI_BOOL(false);
var_670 = var_672;
} else {
lval var_673;
if (var_666.vt == LV_ILAMBDA && V_CLOS(var_663,0).vt == LV_PAIR) {
var_666.v.ilambda->env = V_CLOS(var_663,0);
var_673 = var_666;
} else {
WILE_EX("set-interpreted-procedure-environment!", "expects an interpreted procedure and an environment list");
}
var_670 = var_673;
}
return var_670;
}
// end of lambda fn_662

// @@@ (eval-let rec? star? env exprs) @@@ bld-rtl-dir/wile-rtl2-000084.scm:208 @@@ fn_17 @@@
static lval fn_17(lptr* var_565, lptr var_566, const char* cloc)
{
lval var_568;
do {
lval var_569;
var_569 = LVI_BOOL(var_566[3].vt == LV_NIL);
if (!LV_IS_FALSE(var_569)) {
lval var_570;
var_570 = LVI_STRING("malformed \'let\' expression \'%v\'");
lval var_573[8];
var_573[0] = var_570;
lval var_574[8];
var_574[0] = var_566[3];
var_566[1] = wile_gen_list(1, var_574, NULL);
var_566[0] = var_573[0];
// bld-rtl-dir/wile-rtl2-000084.scm:210
TAIL_CALL fn_7(NULL, var_566, "bld-rtl-dir/wile-rtl2-000084.scm:210");
}
lval var_575;
var_575 = LVI_BOOL(true);
do {
lval var_576;
{
var_576 = var_566[3];
while (var_576.vt == LV_PAIR) {
var_576 = (var_576.v.pair.cdr ? *(var_576.v.pair.cdr) : LVI_NIL());
}
var_576 = LVI_BOOL(var_576.vt == LV_NIL);
}
var_575 = var_576;
if (LV_IS_FALSE(var_575)) { break; }
lval var_577;
if (var_566[3].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_577 = (var_566[3].v.pair.car ? *(var_566[3].v.pair.car) : LVI_NIL());
lval var_578;
var_578 = LVI_BOOL(var_577.vt == LV_SYMBOL);
var_575 = var_578;
if (LV_IS_FALSE(var_575)) { break; }
} while (0);
if (!LV_IS_FALSE(var_575)) {
lval var_579;
var_579 = LVI_STRING("named-let");
lval var_580;
if (var_566[3].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_580 = (var_566[3].v.pair.cdr ? *(var_566[3].v.pair.cdr) : LVI_NIL());
lval var_582[8];
var_582[0] = var_579;
var_582[1] = var_580;
// bld-rtl-dir/wile-rtl2-000084.scm:212
(void)
 fn_16(NULL, var_582, "bld-rtl-dir/wile-rtl2-000084.scm:212");
lval var_584;
lval var_585;
var_585 = LVI_STRING("cadr");
lval var_586;
{
char* cp = strchr(var_585.v.str, 'r');
var_586 = var_566[3];
while (*(--cp) != 'c') {
if (var_586.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_586 = (var_586.v.pair.car ? *(var_586.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_586 = (var_586.v.pair.cdr ? *(var_586.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_585.v.str);
}
}
}
lval var_587;
var_587 = LVI_NIL();
{
lval var_588[8];
var_588[0] = LVI_PROC(fn_548,NULL,1);
var_588[1] = var_586;
var_588[2] = var_587;
// bld-rtl-dir/wile-rtl2-000084.scm:213
var_587 = wile_map(NULL, var_588, "bld-rtl-dir/wile-rtl2-000084.scm:213");
}
var_584 = var_587;
lval var_589;
MK_CLOS(var_591,1);
lptr var_599 = new_lv(VT_UNINIT);
var_599->v.pair.car = &(var_566[2]);
P_CLOS(var_591,0) = var_599;
lval var_600;
var_600 = LVI_STRING("cadr");
lval var_601;
{
char* cp = strchr(var_600.v.str, 'r');
var_601 = var_566[3];
while (*(--cp) != 'c') {
if (var_601.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_601 = (var_601.v.pair.car ? *(var_601.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_601 = (var_601.v.pair.cdr ? *(var_601.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_600.v.str);
}
}
}
lval var_602;
var_602 = LVI_NIL();
{
lval var_603[8];
var_603[0] = LVI_PROC(fn_590,var_591,1);
var_603[1] = var_601;
var_603[2] = var_602;
// bld-rtl-dir/wile-rtl2-000084.scm:214
var_602 = wile_map(NULL, var_603, "bld-rtl-dir/wile-rtl2-000084.scm:214");
}
var_589 = var_602;
lval var_604;
lval var_605;
{
lval var_606[8];
var_606[0] = var_584;
// bld-rtl-dir/wile-rtl2-000084.scm:215
var_605 = wile_list_length(NULL, var_606, "bld-rtl-dir/wile-rtl2-000084.scm:215");
}
lval var_607;
var_607 = LVI_STRING("cddr");
lval var_608;
{
char* cp = strchr(var_607.v.str, 'r');
var_608 = var_566[3];
while (*(--cp) != 'c') {
if (var_608.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_608 = (var_608.v.pair.car ? *(var_608.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_608 = (var_608.v.pair.cdr ? *(var_608.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_607.v.str);
}
}
}
lval var_609;
var_609 = LVI_NIL();
lval var_610;
var_610 = LVI_BOOL(false);
lval var_611;
if ((var_584.vt == LV_PAIR || var_584.vt == LV_NIL) && var_605.vt == LV_INT &&(var_608.vt == LV_PAIR || var_608.vt == LV_NIL) &&(var_609.vt == LV_PAIR || var_609.vt == LV_NIL) && var_610.vt == LV_BOOL) {
var_611.vt = LV_ILAMBDA;
var_611.v.ilambda = LISP_ALLOC(lisp_ifunc_t, 1);
if (var_611.v.ilambda == NULL) {
WILE_EX("make-interpreted-procedure", "memory allocation failed!");
}
var_611.v.ilambda->args = var_584;
var_611.v.ilambda->arity = var_605.v.iv;
var_611.v.ilambda->body = var_608;
var_611.v.ilambda->env = var_609;
var_611.v.ilambda->macro = var_610.v.bv;
} else {
WILE_EX("make-interpreted-procedure", "expects a list of arguments, an integer arity, a list of body expressions, an environment list, and a macro boolean");
}
var_604 = var_611;
lval var_612;
lval var_613;
if (var_566[3].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_613 = (var_566[3].v.pair.car ? *(var_566[3].v.pair.car) : LVI_NIL());
lval var_614;
lval var_615[8];
var_615[0] = var_613;
var_615[1] = var_604;
// bld-rtl-dir/wile-rtl2-000084.scm:216
var_614 = fn_1(NULL, var_615, "bld-rtl-dir/wile-rtl2-000084.scm:216");
lval var_617;
{
lptr p1 = NULL, p2 = NULL;
if (var_614.vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_614;
}
if (var_566[2].vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = var_566[2];
}
var_617 = LVI_PAIR(p1, p2);
}
var_612 = var_617;
if (var_604.vt == LV_ILAMBDA && var_612.vt == LV_PAIR) {
var_604.v.ilambda->env = var_612;
} else {
WILE_EX("set-interpreted-procedure-environment!", "expects an interpreted procedure and an environment list");
}
lval var_621[8];
var_621[0] = var_604;
var_621[1] = var_589;
*var_599 = var_566[2];
var_566[0] = var_621[0];
var_566[1] = var_621[1];
// bld-rtl-dir/wile-rtl2-000084.scm:218
TAIL_CALL wile_eval_apply_lambda(NULL, var_566, "bld-rtl-dir/wile-rtl2-000084.scm:218");
}
lval var_622;
var_622 = LVI_STRING("let");
lval var_623;
if (LV_IS_FALSE(var_566[0])) {
lval var_624;
var_624 = LVI_STRING("");
var_623 = var_624;
} else {
lval var_625;
var_625 = LVI_STRING("rec");
var_623 = var_625;
}
lval var_626;
if (LV_IS_FALSE(var_566[1])) {
lval var_627;
var_627 = LVI_STRING("");
var_626 = var_627;
} else {
lval var_628;
var_628 = LVI_STRING("*");
var_626 = var_628;
}
lval var_629;
{
lval var_631[3];
var_631[0] = var_622;
var_631[1] = var_623;
var_631[2] = var_626;
var_629 = wile_gen_list(3, var_631, NULL);
}
{
lval var_630[8];
var_630[0] = var_629;
// bld-rtl-dir/wile-rtl2-000084.scm:221
var_629 = wile_string_append(NULL, var_630, "bld-rtl-dir/wile-rtl2-000084.scm:221");
}
lval var_633[8];
var_633[0] = var_629;
var_633[1] = var_566[3];
// bld-rtl-dir/wile-rtl2-000084.scm:220
(void)
 fn_16(NULL, var_633, "bld-rtl-dir/wile-rtl2-000084.scm:220");
lval var_635;
var_635 = var_566[2];
lval var_636;
MK_CLOS(var_638,2);
lptr var_648 = new_lv(VT_UNINIT);
var_648->v.pair.car = &(var_566[1]);
P_CLOS(var_638,1) = var_648;
lptr var_649 = new_lv(VT_UNINIT);
var_649->v.pair.car = &(var_635);
P_CLOS(var_638,0) = var_649;
lval var_650;
if (var_566[3].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_650 = (var_566[3].v.pair.car ? *(var_566[3].v.pair.car) : LVI_NIL());
lval var_651;
var_651 = LVI_NIL();
{
lval var_652[8];
var_652[0] = LVI_PROC(fn_637,var_638,1);
var_652[1] = var_650;
var_652[2] = var_651;
// bld-rtl-dir/wile-rtl2-000084.scm:223
var_651 = wile_map(NULL, var_652, "bld-rtl-dir/wile-rtl2-000084.scm:223");
}
var_636 = var_651;
if (LV_IS_FALSE(var_566[1])) {
lval var_654;
{
lval var_655[8];
var_655[0] = var_636;
// bld-rtl-dir/wile-rtl2-000084.scm:229
var_654 = wile_list_reverse(NULL, var_655, "bld-rtl-dir/wile-rtl2-000084.scm:229");
}
lval var_656;
{
lval var_658[2];
var_658[0] = var_654;
var_658[1] = var_566[2];
var_656 = wile_gen_list(2, var_658, NULL);
}
{
lval var_657[8];
var_657[0] = var_656;
// bld-rtl-dir/wile-rtl2-000084.scm:229
var_656 = wile_list_append(NULL, var_657, "bld-rtl-dir/wile-rtl2-000084.scm:229");
}
var_635 = var_656;
} else {
(void)
 LVI_BOOL(false);
}
if (LV_IS_FALSE(var_566[0])) {
(void)
 LVI_BOOL(false);
} else {
MK_CLOS(var_663,1);
lptr var_674 = new_lv(VT_UNINIT);
var_674->v.pair.car = &(var_635);
P_CLOS(var_663,0) = var_674;
lval var_675;
var_675 = LVI_NIL();
{
lval var_676[8];
var_676[0] = LVI_PROC(fn_662,var_663,1);
var_676[1] = var_636;
var_676[2] = var_675;
// bld-rtl-dir/wile-rtl2-000084.scm:231
var_675 = wile_for_each(NULL, var_676, "bld-rtl-dir/wile-rtl2-000084.scm:231");
}
*var_674 = var_635;
}
lval var_677;
var_677 = LVI_BOOL(false);
lval var_678;
if (var_566[3].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_678 = (var_566[3].v.pair.cdr ? *(var_566[3].v.pair.cdr) : LVI_NIL());
lval var_681[8];
var_681[0] = var_677;
var_681[1] = var_635;
var_681[2] = var_678;
*var_649 = var_635;
*var_648 = var_566[1];
var_566[0] = var_681[0];
var_566[1] = var_681[1];
var_566[2] = var_681[2];
// bld-rtl-dir/wile-rtl2-000084.scm:236
TAIL_CALL wile_eval_begin(NULL, var_566, "bld-rtl-dir/wile-rtl2-000084.scm:236");
} while (0);
return var_568;
}
// end of function fn_17

// @@@ (eval-qq-olist level env expr) @@@ bld-rtl-dir/wile-rtl2-000084.scm:238 @@@ fn_18 @@@
static lval fn_18(lptr* var_682, lptr var_683, const char* cloc)
{
lval var_685;
lval var_686;
if (var_683[2].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_686 = (var_683[2].v.pair.car ? *(var_683[2].v.pair.car) : LVI_NIL());
lval var_687;
lval var_688[8];
var_688[0] = var_683[0];
var_688[1] = var_683[1];
var_688[2] = var_686;
// bld-rtl-dir/wile-rtl2-000084.scm:239
var_687 = fn_19(NULL, var_688, "bld-rtl-dir/wile-rtl2-000084.scm:239");
var_685 = var_687;
lval var_690;
lval var_691;
if (var_683[2].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_691 = (var_683[2].v.pair.cdr ? *(var_683[2].v.pair.cdr) : LVI_NIL());
lval var_692;
lval var_693[8];
var_693[0] = var_683[0];
var_693[1] = var_683[1];
var_693[2] = var_691;
// bld-rtl-dir/wile-rtl2-000084.scm:240
var_692 = fn_19(NULL, var_693, "bld-rtl-dir/wile-rtl2-000084.scm:240");
var_690 = var_692;
lval var_695;
lval var_696;
var_696 = LVI_BOOL(true);
do {
lval var_697;
if (var_683[2].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_697 = (var_683[2].v.pair.car ? *(var_683[2].v.pair.car) : LVI_NIL());
lval var_698;
var_698 = LVI_BOOL(var_697.vt == LV_PAIR);
var_696 = var_698;
if (LV_IS_FALSE(var_696)) { break; }
lval var_699;
var_699 = LVI_STRING("caar");
lval var_700;
{
char* cp = strchr(var_699.v.str, 'r');
var_700 = var_683[2];
while (*(--cp) != 'c') {
if (var_700.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_700 = (var_700.v.pair.car ? *(var_700.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_700 = (var_700.v.pair.cdr ? *(var_700.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_699.v.str);
}
}
}
lval var_701;
var_701 = LVI_BOOL(var_700.vt == LV_SYMBOL);
var_696 = var_701;
if (LV_IS_FALSE(var_696)) { break; }
lval var_702;
var_702 = LVI_STRING("caar");
lval var_703;
{
char* cp = strchr(var_702.v.str, 'r');
var_703 = var_683[2];
while (*(--cp) != 'c') {
if (var_703.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_703 = (var_703.v.pair.car ? *(var_703.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_703 = (var_703.v.pair.cdr ? *(var_703.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_702.v.str);
}
}
}
lval var_704;
var_704 = LVI_SYMBOL("unquote-splicing");
lval var_705;
var_705 = LVI_BOOL(strcmp(var_703.v.str, var_704.v.str) == 0);
var_696 = var_705;
if (LV_IS_FALSE(var_696)) { break; }
} while (0);
var_695 = var_696;
lval var_706;
if (LV_IS_FALSE(var_695)) {
lval var_707;
{
lptr p1 = NULL, p2 = NULL;
if (var_685.vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_685;
}
if (var_690.vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = var_690;
}
var_707 = LVI_PAIR(p1, p2);
}
var_706 = var_707;
} else {
lval var_708;
{
lval var_710[2];
var_710[0] = var_685;
var_710[1] = var_690;
var_708 = wile_gen_list(2, var_710, NULL);
}
{
lval var_709[8];
var_709[0] = var_708;
// bld-rtl-dir/wile-rtl2-000084.scm:244
var_708 = wile_list_append(NULL, var_709, "bld-rtl-dir/wile-rtl2-000084.scm:244");
}
var_706 = var_708;
}
return var_706;
}
// end of function fn_18

// @@@ (eval-qq level env expr) @@@ bld-rtl-dir/wile-rtl2-000084.scm:246 @@@ fn_19 @@@
static lval fn_19(lptr* var_711, lptr var_712, const char* cloc)
{
lval var_714;
do {
lval var_715;
lval var_716[8];
var_716[0] = var_712[2];
// bld-rtl-dir/wile-rtl2-000084.scm:247
var_715 = fn_8(NULL, var_716, "bld-rtl-dir/wile-rtl2-000084.scm:247");
if (!LV_IS_FALSE(var_715)) {
var_714 = var_712[2];
break;
}
lval var_718;
var_718 = LVI_BOOL(var_712[2].vt == LV_SYMBOL);
if (!LV_IS_FALSE(var_718)) {
lval var_719;
lval var_720;
switch (var_712[0].vt) {
case LV_REAL:
var_720 = LVI_BOOL(var_712[0].v.rv > 0.0);
break;
case LV_RAT:
var_720 = LVI_BOOL((var_712[0].v.irv.num > 0 && var_712[0].v.irv.den >= 0) || (var_712[0].v.irv.num < 0 && var_712[0].v.irv.den < 0));
break;
case LV_INT:
var_720 = LVI_BOOL(var_712[0].v.iv > 0);
break;
default:
WILE_EX("positive?", "expects a real-valued number");
}
if (LV_IS_FALSE(var_720)) {
lval var_721;
var_721 = LVI_BOOL(false);
lval var_724[8];
var_724[0] = var_721;
var_724[1] = var_712[1];
var_724[2] = var_712[2];
var_712[0] = var_724[0];
var_712[1] = var_724[1];
var_712[2] = var_724[2];
// bld-rtl-dir/wile-rtl2-000084.scm:249
TAIL_CALL fn_11(NULL, var_712, "bld-rtl-dir/wile-rtl2-000084.scm:249");
} else {
var_719 = var_712[2];
}
var_714 = var_719;
break;
}
lval var_725;
var_725 = LVI_BOOL(var_712[2].vt == LV_PAIR);
if (!LV_IS_FALSE(var_725)) {
lval var_726;
lval var_727;
if (var_712[2].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_727 = (var_712[2].v.pair.car ? *(var_712[2].v.pair.car) : LVI_NIL());
lval var_728;
var_728 = LVI_BOOL(var_727.vt == LV_SYMBOL);
if (LV_IS_FALSE(var_728)) {
lval var_731[8];
var_731[0] = var_712[0];
var_731[1] = var_712[1];
var_731[2] = var_712[2];
var_712[0] = var_731[0];
var_712[1] = var_731[1];
var_712[2] = var_731[2];
// bld-rtl-dir/wile-rtl2-000084.scm:261
TAIL_CALL fn_18(NULL, var_712, "bld-rtl-dir/wile-rtl2-000084.scm:261");
} else {
lval var_732;
do {
lval var_733;
var_733 = LVI_BOOL(false);
do {
lval var_734;
if (var_712[2].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_734 = (var_712[2].v.pair.car ? *(var_712[2].v.pair.car) : LVI_NIL());
lval var_735;
var_735 = LVI_SYMBOL("unquote");
lval var_736;
var_736 = LVI_BOOL(strcmp(var_734.v.str, var_735.v.str) == 0);
var_733 = var_736;
if (!LV_IS_FALSE(var_733)) { break; }
lval var_737;
if (var_712[2].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_737 = (var_712[2].v.pair.car ? *(var_712[2].v.pair.car) : LVI_NIL());
lval var_738;
var_738 = LVI_SYMBOL("unquote-splicing");
lval var_739;
var_739 = LVI_BOOL(strcmp(var_737.v.str, var_738.v.str) == 0);
var_733 = var_739;
if (!LV_IS_FALSE(var_733)) { break; }
} while (0);
if (!LV_IS_FALSE(var_733)) {
lval var_740;
lval var_741;
var_741 = LVI_INT(1);
lval var_742;
switch (TYPE_COMBO(var_712[0].vt,var_741.vt)) {
case TYPE_COMBO(LV_INT,LV_INT):
var_742 = LVI_BOOL(var_712[0].v.iv == var_741.v.iv);
break;
case TYPE_COMBO(LV_INT,LV_RAT):
var_742 = LVI_BOOL(var_712[0].v.iv * var_741.v.irv.den == var_741.v.irv.num);
break;
case TYPE_COMBO(LV_INT,LV_REAL):
var_742 = LVI_BOOL(var_712[0].v.iv == var_741.v.rv);
break;
case TYPE_COMBO(LV_RAT,LV_INT):
var_742 = LVI_BOOL(var_712[0].v.irv.num == var_741.v.iv * var_712[0].v.irv.den);
break;
case TYPE_COMBO(LV_RAT,LV_RAT):
var_742 = LVI_BOOL(var_712[0].v.irv.num * var_741.v.irv.den == var_741.v.irv.num * var_712[0].v.irv.den);
break;
case TYPE_COMBO(LV_RAT,LV_REAL):
var_742 = LVI_BOOL(var_712[0].v.irv.num == var_741.v.rv * var_712[0].v.irv.den);
break;
case TYPE_COMBO(LV_REAL,LV_INT):
var_742 = LVI_BOOL(var_712[0].v.rv == var_741.v.iv);
break;
case TYPE_COMBO(LV_REAL,LV_RAT):
var_742 = LVI_BOOL(var_712[0].v.rv * var_741.v.irv.den == var_741.v.irv.num);
break;
case TYPE_COMBO(LV_REAL,LV_REAL):
var_742 = LVI_BOOL(var_712[0].v.rv == var_741.v.rv);
break;
default:
WILE_EX("==", "inputs are not real-valued numbers");
break;
}
if (LV_IS_FALSE(var_742)) {
lval var_743;
var_743 = LVI_INT(1);
lval var_744;
{
lval var_746[2];
var_746[0] = var_712[0];
var_746[1] = var_743;
var_744 = wile_gen_list(2, var_746, NULL);
}
{
lval var_745[8];
var_745[0] = var_744;
// bld-rtl-dir/wile-rtl2-000084.scm:256
var_744 = wile_subtract(NULL, var_745, "bld-rtl-dir/wile-rtl2-000084.scm:256");
}
lval var_749[8];
var_749[0] = var_744;
var_749[1] = var_712[1];
var_749[2] = var_712[2];
var_712[0] = var_749[0];
var_712[1] = var_749[1];
var_712[2] = var_749[2];
// bld-rtl-dir/wile-rtl2-000084.scm:256
TAIL_CALL fn_18(NULL, var_712, "bld-rtl-dir/wile-rtl2-000084.scm:256");
} else {
lval var_750;
var_750 = LVI_STRING("cadr");
lval var_751;
{
char* cp = strchr(var_750.v.str, 'r');
var_751 = var_712[2];
while (*(--cp) != 'c') {
if (var_751.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_751 = (var_751.v.pair.car ? *(var_751.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_751 = (var_751.v.pair.cdr ? *(var_751.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_750.v.str);
}
}
}
lval var_754[8];
var_754[0] = var_712[1];
var_754[1] = var_751;
var_712[0] = var_754[0];
var_712[1] = var_754[1];
// bld-rtl-dir/wile-rtl2-000084.scm:255
TAIL_CALL wile_eval(NULL, var_712, "bld-rtl-dir/wile-rtl2-000084.scm:255");
}
var_732 = var_740;
break;
}
lval var_755;
if (var_712[2].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_755 = (var_712[2].v.pair.car ? *(var_712[2].v.pair.car) : LVI_NIL());
lval var_756;
var_756 = LVI_SYMBOL("quasiquote");
lval var_757;
var_757 = LVI_BOOL(strcmp(var_755.v.str, var_756.v.str) == 0);
if (!LV_IS_FALSE(var_757)) {
lval var_758;
var_758 = LVI_INT(1);
lval var_759;
{
lval var_761[2];
var_761[0] = var_712[0];
var_761[1] = var_758;
var_759 = wile_gen_list(2, var_761, NULL);
}
{
lval var_760[8];
var_760[0] = var_759;
// bld-rtl-dir/wile-rtl2-000084.scm:258
var_759 = wile_add(NULL, var_760, "bld-rtl-dir/wile-rtl2-000084.scm:258");
}
lval var_764[8];
var_764[0] = var_759;
var_764[1] = var_712[1];
var_764[2] = var_712[2];
var_712[0] = var_764[0];
var_712[1] = var_764[1];
var_712[2] = var_764[2];
// bld-rtl-dir/wile-rtl2-000084.scm:258
TAIL_CALL fn_18(NULL, var_712, "bld-rtl-dir/wile-rtl2-000084.scm:258");
}
lval var_767[8];
var_767[0] = var_712[0];
var_767[1] = var_712[1];
var_767[2] = var_712[2];
var_712[0] = var_767[0];
var_712[1] = var_767[1];
var_712[2] = var_767[2];
// bld-rtl-dir/wile-rtl2-000084.scm:260
TAIL_CALL fn_18(NULL, var_712, "bld-rtl-dir/wile-rtl2-000084.scm:260");
} while (0);
var_726 = var_732;
}
var_714 = var_726;
break;
}
lval var_768;
var_768 = LVI_BOOL(var_712[2].vt == LV_VECTOR);
if (!LV_IS_FALSE(var_768)) {
lval var_769;
{
lval var_770[8];
var_770[0] = var_712[2];
// bld-rtl-dir/wile-rtl2-000084.scm:263
var_769 = wile_vector2list(NULL, var_770, "bld-rtl-dir/wile-rtl2-000084.scm:263");
}
lval var_771;
lval var_772[8];
var_772[0] = var_712[0];
var_772[1] = var_712[1];
var_772[2] = var_769;
// bld-rtl-dir/wile-rtl2-000084.scm:263
var_771 = fn_18(NULL, var_772, "bld-rtl-dir/wile-rtl2-000084.scm:263");
lval var_774;
{
lval var_775[8];
var_775[0] = var_771;
// bld-rtl-dir/wile-rtl2-000084.scm:263
var_774 = wile_list2vector(NULL, var_775, "bld-rtl-dir/wile-rtl2-000084.scm:263");
}
var_714 = var_774;
break;
}
lval var_776;
var_776 = LVI_STRING("malformed \'quasiquote\' expression \'%v\'");
lval var_779[8];
var_779[0] = var_776;
lval var_780[8];
var_780[0] = var_712[2];
var_712[1] = wile_gen_list(1, var_780, NULL);
var_712[0] = var_779[0];
// bld-rtl-dir/wile-rtl2-000084.scm:276
TAIL_CALL fn_7(NULL, var_712, "bld-rtl-dir/wile-rtl2-000084.scm:276");
} while (0);
return var_714;
}
// end of function fn_19

// @@@ (eval-cond env expr) @@@ bld-rtl-dir/wile-rtl2-000084.scm:282 @@@ fn_20 @@@
static lval fn_20(lptr* var_781, lptr var_782, const char* cloc)
{
lbl_783:;
lval var_784;
do {
lval var_785;
var_785 = LVI_BOOL(var_782[1].vt == LV_NIL);
if (!LV_IS_FALSE(var_785)) {
lval var_786;
var_786 = LVI_BOOL(false);
var_784 = var_786;
break;
}
lval var_787;
if (var_782[1].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_787 = (var_782[1].v.pair.car ? *(var_782[1].v.pair.car) : LVI_NIL());
lval var_788;
var_788 = LVI_BOOL(var_787.vt == LV_PAIR);
if (!LV_IS_FALSE(var_788)) {
lval var_789;
lval var_790;
var_790 = LVI_STRING("caar");
lval var_791;
{
char* cp = strchr(var_790.v.str, 'r');
var_791 = var_782[1];
while (*(--cp) != 'c') {
if (var_791.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_791 = (var_791.v.pair.car ? *(var_791.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_791 = (var_791.v.pair.cdr ? *(var_791.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_790.v.str);
}
}
}
lval var_792;
lval var_793[8];
var_793[0] = var_782[0];
var_793[1] = var_791;
// bld-rtl-dir/wile-rtl2-000084.scm:285
var_792 = wile_eval(NULL, var_793, "bld-rtl-dir/wile-rtl2-000084.scm:285");
if (LV_IS_FALSE(var_792)) {
lval var_795;
if (var_782[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_795 = (var_782[1].v.pair.cdr ? *(var_782[1].v.pair.cdr) : LVI_NIL());
lval var_798[8];
var_798[0] = var_782[0];
var_798[1] = var_795;
var_782[0] = var_798[0];
var_782[1] = var_798[1];
// bld-rtl-dir/wile-rtl2-000084.scm:287
goto lbl_783;	// selfie
} else {
lval var_799;
var_799 = LVI_BOOL(false);
lval var_800;
var_800 = LVI_STRING("cdar");
lval var_801;
{
char* cp = strchr(var_800.v.str, 'r');
var_801 = var_782[1];
while (*(--cp) != 'c') {
if (var_801.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_801 = (var_801.v.pair.car ? *(var_801.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_801 = (var_801.v.pair.cdr ? *(var_801.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_800.v.str);
}
}
}
lval var_804[8];
var_804[0] = var_799;
var_804[1] = var_782[0];
var_804[2] = var_801;
var_782[0] = var_804[0];
var_782[1] = var_804[1];
var_782[2] = var_804[2];
// bld-rtl-dir/wile-rtl2-000084.scm:286
TAIL_CALL wile_eval_begin(NULL, var_782, "bld-rtl-dir/wile-rtl2-000084.scm:286");
}
var_784 = var_789;
break;
}
lval var_805;
var_805 = LVI_STRING("malformed \'cond\' expression \'%v\'");
lval var_808[8];
var_808[0] = var_805;
lval var_809[8];
var_809[0] = var_782[1];
var_782[1] = wile_gen_list(1, var_809, NULL);
var_782[0] = var_808[0];
// bld-rtl-dir/wile-rtl2-000084.scm:288
TAIL_CALL fn_7(NULL, var_782, "bld-rtl-dir/wile-rtl2-000084.scm:288");
} while (0);
return var_784;
}
// end of function fn_20

// @@@ (eval-set! env expr) @@@ bld-rtl-dir/wile-rtl2-000084.scm:290 @@@ fn_21 @@@
static lval fn_21(lptr* var_810, lptr var_811, const char* cloc)
{
lval var_813;
lval var_814;
var_814 = LVI_BOOL(true);
do {
lval var_815;
var_815 = LVI_BOOL(var_811[1].vt == LV_PAIR);
var_814 = var_815;
if (LV_IS_FALSE(var_814)) { break; }
lval var_816;
if (var_811[1].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_816 = (var_811[1].v.pair.car ? *(var_811[1].v.pair.car) : LVI_NIL());
lval var_817;
var_817 = LVI_BOOL(var_816.vt == LV_SYMBOL);
var_814 = var_817;
if (LV_IS_FALSE(var_814)) { break; }
lval var_818;
var_818 = LVI_INT(2);
lval var_819;
{
lval var_820[8];
var_820[0] = var_818;
var_820[1] = var_811[1];
// bld-rtl-dir/wile-rtl2-000084.scm:293
var_819 = wile_list_length_eq(NULL, var_820, "bld-rtl-dir/wile-rtl2-000084.scm:293");
}
var_814 = var_819;
if (LV_IS_FALSE(var_814)) { break; }
} while (0);
if (LV_IS_FALSE(var_814)) {
lval var_821;
var_821 = LVI_STRING("malformed \'set!\' expression \'%v\'");
lval var_824[8];
var_824[0] = var_821;
lval var_825[8];
var_825[0] = var_811[1];
var_811[1] = wile_gen_list(1, var_825, NULL);
var_811[0] = var_824[0];
// bld-rtl-dir/wile-rtl2-000084.scm:297
TAIL_CALL fn_7(NULL, var_811, "bld-rtl-dir/wile-rtl2-000084.scm:297");
} else {
lval var_826;
lval var_827;
var_827 = LVI_BOOL(true);
lval var_828;
if (var_811[1].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_828 = (var_811[1].v.pair.car ? *(var_811[1].v.pair.car) : LVI_NIL());
lval var_829;
lval var_830[8];
var_830[0] = var_827;
var_830[1] = var_811[0];
var_830[2] = var_828;
// bld-rtl-dir/wile-rtl2-000084.scm:294
var_829 = fn_11(NULL, var_830, "bld-rtl-dir/wile-rtl2-000084.scm:294");
var_826 = var_829;
lval var_832;
var_832 = LVI_STRING("cadr");
lval var_833;
{
char* cp = strchr(var_832.v.str, 'r');
var_833 = var_811[1];
while (*(--cp) != 'c') {
if (var_833.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_833 = (var_833.v.pair.car ? *(var_833.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_833 = (var_833.v.pair.cdr ? *(var_833.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_832.v.str);
}
}
}
lval var_834;
lval var_835[8];
var_835[0] = var_811[0];
var_835[1] = var_833;
// bld-rtl-dir/wile-rtl2-000084.scm:295
var_834 = wile_eval(NULL, var_835, "bld-rtl-dir/wile-rtl2-000084.scm:295");
lval var_838[8];
var_838[0] = var_826;
var_838[1] = var_834;
// bld-rtl-dir/wile-rtl2-000084.scm:295
(void)
 fn_6(NULL, var_838, "bld-rtl-dir/wile-rtl2-000084.scm:295");
lval var_842[8];
var_842[0] = var_826;
var_811[0] = var_842[0];
// bld-rtl-dir/wile-rtl2-000084.scm:296
TAIL_CALL fn_4(NULL, var_811, "bld-rtl-dir/wile-rtl2-000084.scm:296");
}
return var_813;
}
// end of function fn_21

// @@@ lambda (cs) @@@ bld-rtl-dir/wile-rtl2-000084.scm:305 @@@ fn_868 @@@
static lval fn_868(lptr* var_869, lptr var_870, const char* cloc)
{
lbl_871:;
lval var_872;
do {
lval var_873;
var_873 = LVI_BOOL(var_870[0].vt == LV_NIL);
if (!LV_IS_FALSE(var_873)) {
lval var_874;
var_874 = LVI_BOOL(true);
V_CLOS(var_869,0) = var_874;
V_CLOS(var_869,1) = V_CLOS(var_869,2);
var_872 = V_CLOS(var_869,1);
break;
}
lval var_875;
var_875 = LVI_STRING("caar");
lval var_876;
{
char* cp = strchr(var_875.v.str, 'r');
var_876 = var_870[0];
while (*(--cp) != 'c') {
if (var_876.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_876 = (var_876.v.pair.car ? *(var_876.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_876 = (var_876.v.pair.cdr ? *(var_876.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_875.v.str);
}
}
}
lval var_877;
lval var_878[8];
var_878[0] = V_CLOS(var_869,3);
var_878[1] = var_876;
// bld-rtl-dir/wile-rtl2-000084.scm:309
var_877 = wile_eval(NULL, var_878, "bld-rtl-dir/wile-rtl2-000084.scm:309");
if (!LV_IS_FALSE(var_877)) {
lval var_880;
var_880 = LVI_BOOL(false);
lval var_881;
var_881 = LVI_STRING("cdar");
lval var_882;
{
char* cp = strchr(var_881.v.str, 'r');
var_882 = var_870[0];
while (*(--cp) != 'c') {
if (var_882.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_882 = (var_882.v.pair.car ? *(var_882.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_882 = (var_882.v.pair.cdr ? *(var_882.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_881.v.str);
}
}
}
lval var_885[8];
var_885[0] = var_880;
var_885[1] = V_CLOS(var_869,3);
var_885[2] = var_882;
var_870[0] = var_885[0];
var_870[1] = var_885[1];
var_870[2] = var_885[2];
// bld-rtl-dir/wile-rtl2-000084.scm:310
TAIL_CALL wile_eval_begin(NULL, var_870, "bld-rtl-dir/wile-rtl2-000084.scm:310");
}
lval var_886;
if (var_870[0].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_886 = (var_870[0].v.pair.cdr ? *(var_870[0].v.pair.cdr) : LVI_NIL());
lval var_889[8];
var_889[0] = var_886;
var_870[0] = var_889[0];
// bld-rtl-dir/wile-rtl2-000084.scm:311
goto lbl_871;	// selfie
} while (0);
return var_872;
}
// end of lambda fn_868

// @@@ (eval-guard env expr) @@@ bld-rtl-dir/wile-rtl2-000084.scm:299 @@@ fn_22 @@@
static lval fn_22(lptr* var_843, lptr var_844, const char* cloc)
{
lval var_846;
lval var_847;
var_847 = LVI_BOOL(false);
var_846 = var_847;
lval var_848;
lval var_849;
var_849 = LVI_BOOL(false);
var_848 = var_849;
lval var_850;
lval var_851;
{
struct lisp_escape_info var_853;
var_853.errval = NULL;
var_853.next = cachalot;
cachalot = &var_853;
if (setjmp(var_853.cenv) == 0) {
lval var_854;
var_854 = LVI_BOOL(false);
lval var_855;
if (var_844[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_855 = (var_844[1].v.pair.cdr ? *(var_844[1].v.pair.cdr) : LVI_NIL());
lval var_856;
lval var_857[8];
var_857[0] = var_854;
var_857[1] = var_844[0];
var_857[2] = var_855;
// bld-rtl-dir/wile-rtl2-000084.scm:312
var_856 = wile_eval_begin(NULL, var_857, "bld-rtl-dir/wile-rtl2-000084.scm:312");
var_851 = var_856;
cachalot = var_853.next;
} else {
lval var_852;
var_852 = (var_853.errval ? *(var_853.errval) : LVI_NIL());
lval var_859;
do {
lval var_860;
var_860 = LVI_BOOL(true);
if (!LV_IS_FALSE(var_860)) {
lval var_861;
lval var_862;
var_862 = LVI_STRING("caar");
lval var_863;
{
char* cp = strchr(var_862.v.str, 'r');
var_863 = var_844[1];
while (*(--cp) != 'c') {
if (var_863.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_863 = (var_863.v.pair.car ? *(var_863.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_863 = (var_863.v.pair.cdr ? *(var_863.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_862.v.str);
}
}
}
lval var_864;
lval var_865[8];
var_865[0] = var_863;
var_865[1] = var_852;
// bld-rtl-dir/wile-rtl2-000084.scm:304
var_864 = fn_1(NULL, var_865, "bld-rtl-dir/wile-rtl2-000084.scm:304");
lval var_867;
{
lptr p1 = NULL, p2 = NULL;
if (var_864.vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_864;
}
if (var_844[0].vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = var_844[0];
}
var_867 = LVI_PAIR(p1, p2);
}
var_861 = var_867;
MK_CLOS(var_869,4);
lptr var_890 = new_lv(VT_UNINIT);
var_890->v.pair.car = &(var_861);
P_CLOS(var_869,3) = var_890;
lptr var_891 = new_lv(VT_UNINIT);
var_891->v.pair.car = &(var_852);
P_CLOS(var_869,2) = var_891;
lptr var_892 = new_lv(VT_UNINIT);
var_892->v.pair.car = &(var_848);
P_CLOS(var_869,1) = var_892;
lptr var_893 = new_lv(VT_UNINIT);
var_893->v.pair.car = &(var_846);
P_CLOS(var_869,0) = var_893;
lval var_894;
var_894 = LVI_STRING("cdar");
lval var_895;
{
char* cp = strchr(var_894.v.str, 'r');
var_895 = var_844[1];
while (*(--cp) != 'c') {
if (var_895.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_895 = (var_895.v.pair.car ? *(var_895.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_895 = (var_895.v.pair.cdr ? *(var_895.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_894.v.str);
}
}
}
lval var_896;
lval var_897[8];
var_897[0] = var_895;
// bld-rtl-dir/wile-rtl2-000084.scm:305
var_896 = fn_868(var_869, var_897, "bld-rtl-dir/wile-rtl2-000084.scm:305");
*var_893 = var_846;
*var_892 = var_848;
*var_891 = var_852;
*var_890 = var_861;
var_859 = var_896;
break;
}
cachalot = var_853.next;
cachalot->errval = var_853.errval;
cachalot->l_whence = 0;
cachalot->c_whence = LISP_WHENCE;
fflush(NULL);
longjmp(cachalot->cenv, 1);
} while (0);
cachalot = var_853.next;
var_851 = var_859;
}
}
var_850 = var_851;
lval var_899;
if (LV_IS_FALSE(var_846)) {
var_899 = var_850;
} else {
lval var_900;
{
lval var_901[1];
var_901[0] = var_848;
var_900 = wile_gen_list(1, var_901, NULL);
}
if (var_900.vt == LV_PAIR && (var_900.v.pair.cdr == NULL || var_900.v.pair.cdr->vt == LV_NIL)) {
var_900 = (var_900.v.pair.car ? *(var_900.v.pair.car) : LVI_NIL());
}
cachalot->errval = new_lv(LV_NIL);
*(cachalot->errval) = var_900;
cachalot->l_whence = 0;
cachalot->c_whence = LISP_WHENCE;
longjmp(cachalot->cenv, 1);
var_899 = var_900;
}
return var_899;
}
// end of function fn_22

// @@@ lambda (cs) @@@ bld-rtl-dir/wile-rtl2-000084.scm:322 @@@ fn_921 @@@
static lval fn_921(lptr* var_922, lptr var_923, const char* cloc)
{
lbl_924:;
lval var_925;
lval var_926;
var_926 = LVI_BOOL(var_923[0].vt == LV_NIL);
if (LV_IS_FALSE(var_926)) {
lval var_927;
lval var_928;
var_928 = LVI_BOOL(true);
do {
lval var_929;
if (var_923[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_929 = (var_923[0].v.pair.car ? *(var_923[0].v.pair.car) : LVI_NIL());
lval var_930;
{
var_930 = var_929;
while (var_930.vt == LV_PAIR) {
var_930 = (var_930.v.pair.cdr ? *(var_930.v.pair.cdr) : LVI_NIL());
}
var_930 = LVI_BOOL(var_930.vt == LV_NIL);
}
var_928 = var_930;
if (LV_IS_FALSE(var_928)) { break; }
lval var_931;
var_931 = LVI_BOOL(false);
do {
lval var_932;
var_932 = LVI_BOOL(true);
do {
lval var_933;
var_933 = LVI_STRING("caar");
lval var_934;
{
char* cp = strchr(var_933.v.str, 'r');
var_934 = var_923[0];
while (*(--cp) != 'c') {
if (var_934.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_934 = (var_934.v.pair.car ? *(var_934.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_934 = (var_934.v.pair.cdr ? *(var_934.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_933.v.str);
}
}
}
lval var_935;
{
var_935 = var_934;
while (var_935.vt == LV_PAIR) {
var_935 = (var_935.v.pair.cdr ? *(var_935.v.pair.cdr) : LVI_NIL());
}
var_935 = LVI_BOOL(var_935.vt == LV_NIL);
}
var_932 = var_935;
if (LV_IS_FALSE(var_932)) { break; }
lval var_936;
var_936 = LVI_STRING("caar");
lval var_937;
{
char* cp = strchr(var_936.v.str, 'r');
var_937 = var_923[0];
while (*(--cp) != 'c') {
if (var_937.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_937 = (var_937.v.pair.car ? *(var_937.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_937 = (var_937.v.pair.cdr ? *(var_937.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_936.v.str);
}
}
}
lval var_938;
var_938 = LVI_BOOL(var_937.vt == LV_NIL);
lval var_939;
var_939 = LVI_BOOL(LV_IS_FALSE(var_938));
var_932 = var_939;
if (LV_IS_FALSE(var_932)) { break; }
} while (0);
var_931 = var_932;
if (!LV_IS_FALSE(var_931)) { break; }
lval var_940;
var_940 = LVI_STRING("caar");
lval var_941;
{
char* cp = strchr(var_940.v.str, 'r');
var_941 = var_923[0];
while (*(--cp) != 'c') {
if (var_941.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_941 = (var_941.v.pair.car ? *(var_941.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_941 = (var_941.v.pair.cdr ? *(var_941.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_940.v.str);
}
}
}
lval var_942;
var_942 = LVI_SYMBOL("else");
lval var_943;
var_943 = LVI_BOOL(wile_do_eqv(&(var_941), &(var_942)));
var_931 = var_943;
if (!LV_IS_FALSE(var_931)) { break; }
} while (0);
var_928 = var_931;
if (LV_IS_FALSE(var_928)) { break; }
lval var_944;
var_944 = LVI_STRING("cdar");
lval var_945;
{
char* cp = strchr(var_944.v.str, 'r');
var_945 = var_923[0];
while (*(--cp) != 'c') {
if (var_945.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_945 = (var_945.v.pair.car ? *(var_945.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_945 = (var_945.v.pair.cdr ? *(var_945.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_944.v.str);
}
}
}
lval var_946;
var_946 = LVI_BOOL(var_945.vt == LV_NIL);
lval var_947;
var_947 = LVI_BOOL(LV_IS_FALSE(var_946));
var_928 = var_947;
if (LV_IS_FALSE(var_928)) { break; }
} while (0);
if (LV_IS_FALSE(var_928)) {
lval var_948;
var_948 = LVI_STRING("malformed \'case\' clause \'%v\'");
lval var_949;
if (var_923[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_949 = (var_923[0].v.pair.car ? *(var_923[0].v.pair.car) : LVI_NIL());
lval var_952[8];
var_952[0] = var_948;
lval var_953[8];
var_953[0] = var_949;
var_923[1] = wile_gen_list(1, var_953, NULL);
var_923[0] = var_952[0];
// bld-rtl-dir/wile-rtl2-000084.scm:334
TAIL_CALL fn_7(NULL, var_923, "bld-rtl-dir/wile-rtl2-000084.scm:334");
} else {
lval var_954;
lval var_955;
var_955 = LVI_BOOL(false);
do {
lval var_956;
var_956 = LVI_STRING("caar");
lval var_957;
{
char* cp = strchr(var_956.v.str, 'r');
var_957 = var_923[0];
while (*(--cp) != 'c') {
if (var_957.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_957 = (var_957.v.pair.car ? *(var_957.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_957 = (var_957.v.pair.cdr ? *(var_957.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_956.v.str);
}
}
}
lval var_958;
var_958 = LVI_SYMBOL("else");
lval var_959;
var_959 = LVI_BOOL(wile_do_eqv(&(var_957), &(var_958)));
var_955 = var_959;
if (!LV_IS_FALSE(var_955)) { break; }
lval var_960;
var_960 = LVI_STRING("caar");
lval var_961;
{
char* cp = strchr(var_960.v.str, 'r');
var_961 = var_923[0];
while (*(--cp) != 'c') {
if (var_961.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_961 = (var_961.v.pair.car ? *(var_961.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_961 = (var_961.v.pair.cdr ? *(var_961.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_960.v.str);
}
}
}
lval var_962;
{
lval var_963[8];
var_963[0] = V_CLOS(var_922,0);
var_963[1] = var_961;
// bld-rtl-dir/wile-rtl2-000084.scm:331
var_962 = wile_memv(NULL, var_963, "bld-rtl-dir/wile-rtl2-000084.scm:331");
}
var_955 = var_962;
if (!LV_IS_FALSE(var_955)) { break; }
} while (0);
if (LV_IS_FALSE(var_955)) {
lval var_964;
if (var_923[0].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_964 = (var_923[0].v.pair.cdr ? *(var_923[0].v.pair.cdr) : LVI_NIL());
lval var_967[8];
var_967[0] = var_964;
var_923[0] = var_967[0];
// bld-rtl-dir/wile-rtl2-000084.scm:333
goto lbl_924;	// selfie
} else {
lval var_968;
var_968 = LVI_BOOL(false);
lval var_969;
var_969 = LVI_STRING("cdar");
lval var_970;
{
char* cp = strchr(var_969.v.str, 'r');
var_970 = var_923[0];
while (*(--cp) != 'c') {
if (var_970.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_970 = (var_970.v.pair.car ? *(var_970.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_970 = (var_970.v.pair.cdr ? *(var_970.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_969.v.str);
}
}
}
lval var_973[8];
var_973[0] = var_968;
var_973[1] = V_CLOS(var_922,1);
var_973[2] = var_970;
var_923[0] = var_973[0];
var_923[1] = var_973[1];
var_923[2] = var_973[2];
// bld-rtl-dir/wile-rtl2-000084.scm:332
TAIL_CALL wile_eval_begin(NULL, var_923, "bld-rtl-dir/wile-rtl2-000084.scm:332");
}
var_927 = var_954;
}
var_925 = var_927;
} else {
lval var_974;
var_974 = LVI_BOOL(false);
var_925 = var_974;
}
return var_925;
}
// end of lambda fn_921

// @@@ (eval-case env expr) @@@ bld-rtl-dir/wile-rtl2-000084.scm:319 @@@ fn_23 @@@
static lval fn_23(lptr* var_902, lptr var_903, const char* cloc)
{
lval var_905;
lval var_906;
var_906 = LVI_BOOL(true);
do {
lval var_907;
{
var_907 = var_903[1];
while (var_907.vt == LV_PAIR) {
var_907 = (var_907.v.pair.cdr ? *(var_907.v.pair.cdr) : LVI_NIL());
}
var_907 = LVI_BOOL(var_907.vt == LV_NIL);
}
var_906 = var_907;
if (LV_IS_FALSE(var_906)) { break; }
lval var_908;
var_908 = LVI_INT(2);
lval var_909;
{
lval var_910[8];
var_910[0] = var_908;
var_910[1] = var_903[1];
// bld-rtl-dir/wile-rtl2-000084.scm:320
var_909 = wile_list_length_ge(NULL, var_910, "bld-rtl-dir/wile-rtl2-000084.scm:320");
}
var_906 = var_909;
if (LV_IS_FALSE(var_906)) { break; }
} while (0);
if (LV_IS_FALSE(var_906)) {
lval var_911;
var_911 = LVI_STRING("malformed \'case\' expression \'%v\'");
lval var_914[8];
var_914[0] = var_911;
lval var_915[8];
var_915[0] = var_903[1];
var_903[1] = wile_gen_list(1, var_915, NULL);
var_903[0] = var_914[0];
// bld-rtl-dir/wile-rtl2-000084.scm:335
TAIL_CALL fn_7(NULL, var_903, "bld-rtl-dir/wile-rtl2-000084.scm:335");
} else {
lval var_916;
lval var_917;
if (var_903[1].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_917 = (var_903[1].v.pair.car ? *(var_903[1].v.pair.car) : LVI_NIL());
lval var_918;
lval var_919[8];
var_919[0] = var_903[0];
var_919[1] = var_917;
// bld-rtl-dir/wile-rtl2-000084.scm:321
var_918 = wile_eval(NULL, var_919, "bld-rtl-dir/wile-rtl2-000084.scm:321");
var_916 = var_918;
MK_CLOS(var_922,2);
lptr var_975 = new_lv(VT_UNINIT);
var_975->v.pair.car = &(var_903[0]);
P_CLOS(var_922,1) = var_975;
lptr var_976 = new_lv(VT_UNINIT);
var_976->v.pair.car = &(var_916);
P_CLOS(var_922,0) = var_976;
lval var_977;
if (var_903[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_977 = (var_903[1].v.pair.cdr ? *(var_903[1].v.pair.cdr) : LVI_NIL());
lval var_978;
lval var_979[8];
var_979[0] = var_977;
// bld-rtl-dir/wile-rtl2-000084.scm:322
var_978 = fn_921(var_922, var_979, "bld-rtl-dir/wile-rtl2-000084.scm:322");
*var_976 = var_916;
*var_975 = var_903[0];
var_905 = var_978;
}
return var_905;
}
// end of function fn_23

// @@@ lambda (as pl na) @@@ bld-rtl-dir/wile-rtl2-000084.scm:348 @@@ fn_984 @@@
static lval fn_984(lptr* var_985, lptr var_986, const char* cloc)
{
lbl_987:;
lval var_988;
do {
lval var_989;
var_989 = LVI_BOOL(var_986[0].vt == LV_NIL);
if (!LV_IS_FALSE(var_989)) {
lval var_990;
{
lval var_991[8];
var_991[0] = var_986[1];
// bld-rtl-dir/wile-rtl2-000084.scm:351
var_990 = wile_list_reverse(NULL, var_991, "bld-rtl-dir/wile-rtl2-000084.scm:351");
}
lval var_992;
{
lval var_993[2];
var_993[0] = var_986[2];
var_993[1] = var_990;
var_992 = wile_gen_list(2, var_993, NULL);
}
var_988 = var_992;
break;
}
lval var_994;
var_994 = LVI_BOOL(var_986[0].vt == LV_PAIR);
if (!LV_IS_FALSE(var_994)) {
lval var_995;
if (var_986[0].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_995 = (var_986[0].v.pair.cdr ? *(var_986[0].v.pair.cdr) : LVI_NIL());
lval var_996;
if (var_986[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_996 = (var_986[0].v.pair.car ? *(var_986[0].v.pair.car) : LVI_NIL());
lval var_997;
{
lptr p1 = NULL, p2 = NULL;
if (var_996.vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_996;
}
if (var_986[1].vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = var_986[1];
}
var_997 = LVI_PAIR(p1, p2);
}
lval var_998;
var_998 = LVI_INT(1);
lval var_999;
{
lval var_1001[2];
var_1001[0] = var_986[2];
var_1001[1] = var_998;
var_999 = wile_gen_list(2, var_1001, NULL);
}
{
lval var_1000[8];
var_1000[0] = var_999;
// bld-rtl-dir/wile-rtl2-000084.scm:352
var_999 = wile_add(NULL, var_1000, "bld-rtl-dir/wile-rtl2-000084.scm:352");
}
lval var_1004[8];
var_1004[0] = var_995;
var_1004[1] = var_997;
var_1004[2] = var_999;
var_986[0] = var_1004[0];
var_986[1] = var_1004[1];
var_986[2] = var_1004[2];
// bld-rtl-dir/wile-rtl2-000084.scm:352
goto lbl_987;	// selfie
}
lval var_1005;
{
lval var_1007[1];
var_1007[0] = var_986[2];
var_1005 = wile_gen_list(1, var_1007, NULL);
}
{
lval var_1006[8];
var_1006[0] = var_1005;
// bld-rtl-dir/wile-rtl2-000084.scm:353
var_1005 = wile_subtract(NULL, var_1006, "bld-rtl-dir/wile-rtl2-000084.scm:353");
}
lval var_1008;
var_1008 = LVI_INT(1);
lval var_1009;
{
lval var_1011[2];
var_1011[0] = var_1005;
var_1011[1] = var_1008;
var_1009 = wile_gen_list(2, var_1011, NULL);
}
{
lval var_1010[8];
var_1010[0] = var_1009;
// bld-rtl-dir/wile-rtl2-000084.scm:353
var_1009 = wile_subtract(NULL, var_1010, "bld-rtl-dir/wile-rtl2-000084.scm:353");
}
lval var_1012;
{
lptr p1 = NULL, p2 = NULL;
if (var_986[0].vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_986[0];
}
if (var_986[1].vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = var_986[1];
}
var_1012 = LVI_PAIR(p1, p2);
}
lval var_1013;
{
lval var_1014[8];
var_1014[0] = var_1012;
// bld-rtl-dir/wile-rtl2-000084.scm:353
var_1013 = wile_list_reverse(NULL, var_1014, "bld-rtl-dir/wile-rtl2-000084.scm:353");
}
lval var_1015;
{
lval var_1016[2];
var_1016[0] = var_1009;
var_1016[1] = var_1013;
var_1015 = wile_gen_list(2, var_1016, NULL);
}
var_988 = var_1015;
} while (0);
return var_988;
}
// end of lambda fn_984

// @@@ (args-list dotted-list) @@@ bld-rtl-dir/wile-rtl2-000084.scm:347 @@@ fn_24 @@@
static lval fn_24(lptr* var_981, lptr var_982, const char* cloc)
{
MK_CLOS(var_985,0);
lval var_1017;
var_1017 = LVI_NIL();
lval var_1018;
var_1018 = LVI_INT(0);
lval var_1019;
lval var_1020[8];
var_1020[0] = var_982[0];
var_1020[1] = var_1017;
var_1020[2] = var_1018;
// bld-rtl-dir/wile-rtl2-000084.scm:348
var_1019 = fn_984(var_985, var_1020, "bld-rtl-dir/wile-rtl2-000084.scm:348");
return var_1019;
}
// end of function fn_24

// @@@ (eval-lambda env expr) @@@ bld-rtl-dir/wile-rtl2-000084.scm:355 @@@ fn_25 @@@
static lval fn_25(lptr* var_1022, lptr var_1023, const char* cloc)
{
lval var_1025;
lval var_1026;
if (var_1023[1].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_1026 = (var_1023[1].v.pair.car ? *(var_1023[1].v.pair.car) : LVI_NIL());
var_1025 = var_1026;
lval var_1027;
lval var_1028;
lval var_1029[8];
var_1029[0] = var_1025;
// bld-rtl-dir/wile-rtl2-000084.scm:357
var_1028 = fn_24(NULL, var_1029, "bld-rtl-dir/wile-rtl2-000084.scm:357");
var_1027 = var_1028;
lval var_1031;
lval var_1032;
if (var_1027.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_1032 = (var_1027.v.pair.car ? *(var_1027.v.pair.car) : LVI_NIL());
var_1031 = var_1032;
lval var_1033;
lval var_1034;
var_1034 = LVI_STRING("cadr");
lval var_1035;
{
char* cp = strchr(var_1034.v.str, 'r');
var_1035 = var_1027;
while (*(--cp) != 'c') {
if (var_1035.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_1035 = (var_1035.v.pair.car ? *(var_1035.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_1035 = (var_1035.v.pair.cdr ? *(var_1035.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_1034.v.str);
}
}
}
var_1033 = var_1035;
lval var_1037;
lval var_1038[8];
var_1038[0] = var_1033;
// bld-rtl-dir/wile-rtl2-000084.scm:360
var_1037 = fn_10(NULL, var_1038, "bld-rtl-dir/wile-rtl2-000084.scm:360");
if (LV_IS_FALSE(var_1037)) {
lval var_1040;
var_1040 = LVI_STRING("malformed \'lambda\' args list \'%v\'");
lval var_1042[8];
var_1042[0] = var_1040;
lval var_1044[8];
var_1044[0] = var_1025;
var_1042[1] = wile_gen_list(1, var_1044, NULL);
// bld-rtl-dir/wile-rtl2-000084.scm:361
(void)
 fn_7(NULL, var_1042, "bld-rtl-dir/wile-rtl2-000084.scm:361");
} else {
(void)
 LVI_BOOL(false);
}
lval var_1046;
if (var_1023[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1046 = (var_1023[1].v.pair.cdr ? *(var_1023[1].v.pair.cdr) : LVI_NIL());
lval var_1047;
var_1047 = LVI_BOOL(false);
lval var_1048;
if ((var_1033.vt == LV_PAIR || var_1033.vt == LV_NIL) && var_1031.vt == LV_INT &&(var_1046.vt == LV_PAIR || var_1046.vt == LV_NIL) &&(var_1023[0].vt == LV_PAIR || var_1023[0].vt == LV_NIL) && var_1047.vt == LV_BOOL) {
var_1048.vt = LV_ILAMBDA;
var_1048.v.ilambda = LISP_ALLOC(lisp_ifunc_t, 1);
if (var_1048.v.ilambda == NULL) {
WILE_EX("make-interpreted-procedure", "memory allocation failed!");
}
var_1048.v.ilambda->args = var_1033;
var_1048.v.ilambda->arity = var_1031.v.iv;
var_1048.v.ilambda->body = var_1046;
var_1048.v.ilambda->env = var_1023[0];
var_1048.v.ilambda->macro = var_1047.v.bv;
} else {
WILE_EX("make-interpreted-procedure", "expects a list of arguments, an integer arity, a list of body expressions, an environment list, and a macro boolean");
}
return var_1048;
}
// end of function fn_25

// @@@ (check-syntax-do expr) @@@ bld-rtl-dir/wile-rtl2-000084.scm:364 @@@ fn_26 @@@
static lval fn_26(lptr* var_1049, lptr var_1050, const char* cloc)
{
lval var_1052;
var_1052 = LVI_BOOL(true);
do {
lval var_1053;
{
var_1053 = var_1050[0];
while (var_1053.vt == LV_PAIR) {
var_1053 = (var_1053.v.pair.cdr ? *(var_1053.v.pair.cdr) : LVI_NIL());
}
var_1053 = LVI_BOOL(var_1053.vt == LV_NIL);
}
var_1052 = var_1053;
if (LV_IS_FALSE(var_1052)) { break; }
lval var_1054;
var_1054 = LVI_INT(2);
lval var_1055;
{
lval var_1056[8];
var_1056[0] = var_1054;
var_1056[1] = var_1050[0];
// bld-rtl-dir/wile-rtl2-000084.scm:366
var_1055 = wile_list_length_ge(NULL, var_1056, "bld-rtl-dir/wile-rtl2-000084.scm:366");
}
var_1052 = var_1055;
if (LV_IS_FALSE(var_1052)) { break; }
lval var_1057;
if (var_1050[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_1057 = (var_1050[0].v.pair.car ? *(var_1050[0].v.pair.car) : LVI_NIL());
lval var_1058;
{
var_1058 = var_1057;
while (var_1058.vt == LV_PAIR) {
var_1058 = (var_1058.v.pair.cdr ? *(var_1058.v.pair.cdr) : LVI_NIL());
}
var_1058 = LVI_BOOL(var_1058.vt == LV_NIL);
}
var_1052 = var_1058;
if (LV_IS_FALSE(var_1052)) { break; }
lval var_1059;
var_1059 = LVI_STRING("cadr");
lval var_1060;
{
char* cp = strchr(var_1059.v.str, 'r');
var_1060 = var_1050[0];
while (*(--cp) != 'c') {
if (var_1060.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_1060 = (var_1060.v.pair.car ? *(var_1060.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_1060 = (var_1060.v.pair.cdr ? *(var_1060.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_1059.v.str);
}
}
}
lval var_1061;
{
var_1061 = var_1060;
while (var_1061.vt == LV_PAIR) {
var_1061 = (var_1061.v.pair.cdr ? *(var_1061.v.pair.cdr) : LVI_NIL());
}
var_1061 = LVI_BOOL(var_1061.vt == LV_NIL);
}
var_1052 = var_1061;
if (LV_IS_FALSE(var_1052)) { break; }
lval var_1062;
var_1062 = LVI_INT(0);
lval var_1063;
var_1063 = LVI_STRING("cadr");
lval var_1064;
{
char* cp = strchr(var_1063.v.str, 'r');
var_1064 = var_1050[0];
while (*(--cp) != 'c') {
if (var_1064.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_1064 = (var_1064.v.pair.car ? *(var_1064.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_1064 = (var_1064.v.pair.cdr ? *(var_1064.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_1063.v.str);
}
}
}
lval var_1065;
{
lval var_1066[8];
var_1066[0] = var_1062;
var_1066[1] = var_1064;
// bld-rtl-dir/wile-rtl2-000084.scm:369
var_1065 = wile_list_length_gt(NULL, var_1066, "bld-rtl-dir/wile-rtl2-000084.scm:369");
}
var_1052 = var_1065;
if (LV_IS_FALSE(var_1052)) { break; }
} while (0);
return var_1052;
}
// end of function fn_26

// @@@ lambda (vdef) @@@ bld-rtl-dir/wile-rtl2-000084.scm:376 @@@ fn_1087 @@@
static lval fn_1087(lptr* var_1088, lptr var_1089, const char* cloc)
{
lval var_1091;
lval var_1092;
var_1092 = LVI_BOOL(true);
do {
lval var_1093;
{
var_1093 = var_1089[0];
while (var_1093.vt == LV_PAIR) {
var_1093 = (var_1093.v.pair.cdr ? *(var_1093.v.pair.cdr) : LVI_NIL());
}
var_1093 = LVI_BOOL(var_1093.vt == LV_NIL);
}
var_1092 = var_1093;
if (LV_IS_FALSE(var_1092)) { break; }
lval var_1094;
var_1094 = LVI_INT(2);
lval var_1095;
{
lval var_1096[8];
var_1096[0] = var_1094;
var_1096[1] = var_1089[0];
// bld-rtl-dir/wile-rtl2-000084.scm:378
var_1095 = wile_list_length_ge(NULL, var_1096, "bld-rtl-dir/wile-rtl2-000084.scm:378");
}
var_1092 = var_1095;
if (LV_IS_FALSE(var_1092)) { break; }
lval var_1097;
if (var_1089[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_1097 = (var_1089[0].v.pair.car ? *(var_1089[0].v.pair.car) : LVI_NIL());
lval var_1098;
var_1098 = LVI_BOOL(var_1097.vt == LV_SYMBOL);
var_1092 = var_1098;
if (LV_IS_FALSE(var_1092)) { break; }
} while (0);
if (LV_IS_FALSE(var_1092)) {
lval var_1099;
var_1099 = LVI_STRING("malformed \'do\' variable-expr \'%v\'");
lval var_1102[8];
var_1102[0] = var_1099;
lval var_1103[8];
var_1103[0] = var_1089[0];
var_1089[1] = wile_gen_list(1, var_1103, NULL);
var_1089[0] = var_1102[0];
// bld-rtl-dir/wile-rtl2-000084.scm:380
TAIL_CALL fn_7(NULL, var_1089, "bld-rtl-dir/wile-rtl2-000084.scm:380");
} else {
lval var_1104;
var_1104 = LVI_BOOL(false);
var_1091 = var_1104;
}
return var_1091;
}
// end of lambda fn_1087

// @@@ lambda (e) @@@ bld-rtl-dir/wile-rtl2-000084.scm:394 @@@ fn_1132 @@@
static lval fn_1132(lptr* var_1133, lptr var_1134, const char* cloc)
{
lval var_1138[8];
var_1138[0] = V_CLOS(var_1133,0);
var_1138[1] = var_1134[0];
var_1134[0] = var_1138[0];
var_1134[1] = var_1138[1];
// bld-rtl-dir/wile-rtl2-000084.scm:394
TAIL_CALL wile_eval(NULL, var_1134, "bld-rtl-dir/wile-rtl2-000084.scm:394");
}
// end of lambda fn_1132

// @@@ lambda (vdef) @@@ bld-rtl-dir/wile-rtl2-000084.scm:395 @@@ fn_1142 @@@
static lval fn_1142(lptr* var_1143, lptr var_1144, const char* cloc)
{
lval var_1146;
lval var_1147;
lval var_1148;
var_1148 = LVI_STRING("cddr");
lval var_1149;
{
char* cp = strchr(var_1148.v.str, 'r');
var_1149 = var_1144[0];
while (*(--cp) != 'c') {
if (var_1149.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_1149 = (var_1149.v.pair.car ? *(var_1149.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_1149 = (var_1149.v.pair.cdr ? *(var_1149.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_1148.v.str);
}
}
}
lval var_1150;
var_1150 = LVI_BOOL(var_1149.vt == LV_NIL);
if (LV_IS_FALSE(var_1150)) {
lval var_1151;
var_1151 = LVI_STRING("caddr");
lval var_1152;
{
char* cp = strchr(var_1151.v.str, 'r');
var_1152 = var_1144[0];
while (*(--cp) != 'c') {
if (var_1152.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_1152 = (var_1152.v.pair.car ? *(var_1152.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_1152 = (var_1152.v.pair.cdr ? *(var_1152.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_1151.v.str);
}
}
}
var_1147 = var_1152;
} else {
lval var_1153;
if (var_1144[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_1153 = (var_1144[0].v.pair.car ? *(var_1144[0].v.pair.car) : LVI_NIL());
var_1147 = var_1153;
}
var_1146 = var_1147;
lval var_1154;
if (var_1144[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_1154 = (var_1144[0].v.pair.car ? *(var_1144[0].v.pair.car) : LVI_NIL());
lval var_1155;
lval var_1156[8];
var_1156[0] = V_CLOS(var_1143,0);
var_1156[1] = var_1146;
// bld-rtl-dir/wile-rtl2-000084.scm:400
var_1155 = wile_eval(NULL, var_1156, "bld-rtl-dir/wile-rtl2-000084.scm:400");
lval var_1160[8];
var_1160[0] = var_1154;
var_1160[1] = var_1155;
var_1144[0] = var_1160[0];
var_1144[1] = var_1160[1];
// bld-rtl-dir/wile-rtl2-000084.scm:399
TAIL_CALL fn_1(NULL, var_1144, "bld-rtl-dir/wile-rtl2-000084.scm:399");
}
// end of lambda fn_1142

// @@@ lambda (new-bindings) @@@ bld-rtl-dir/wile-rtl2-000084.scm:386 @@@ fn_1119 @@@
static lval fn_1119(lptr* var_1120, lptr var_1121, const char* cloc)
{
lbl_1122:;
lval var_1123;
lval var_1124;
{
lval var_1126[2];
var_1126[0] = var_1121[0];
var_1126[1] = V_CLOS(var_1120,0);
var_1124 = wile_gen_list(2, var_1126, NULL);
}
{
lval var_1125[8];
var_1125[0] = var_1124;
// bld-rtl-dir/wile-rtl2-000084.scm:390
var_1124 = wile_list_append(NULL, var_1125, "bld-rtl-dir/wile-rtl2-000084.scm:390");
}
var_1123 = var_1124;
lval var_1127;
lval var_1128;
if (V_CLOS(var_1120,1).vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_1128 = (V_CLOS(var_1120,1).v.pair.car ? *(V_CLOS(var_1120,1).v.pair.car) : LVI_NIL());
lval var_1129;
lval var_1130[8];
var_1130[0] = var_1123;
var_1130[1] = var_1128;
// bld-rtl-dir/wile-rtl2-000084.scm:391
var_1129 = wile_eval(NULL, var_1130, "bld-rtl-dir/wile-rtl2-000084.scm:391");
if (LV_IS_FALSE(var_1129)) {
MK_CLOS(var_1133,1);
lptr var_1139 = new_lv(VT_UNINIT);
var_1139->v.pair.car = &(var_1123);
P_CLOS(var_1133,0) = var_1139;
lval var_1140;
var_1140 = LVI_NIL();
{
lval var_1141[8];
var_1141[0] = LVI_PROC(fn_1132,var_1133,1);
var_1141[1] = V_CLOS(var_1120,2);
var_1141[2] = var_1140;
// bld-rtl-dir/wile-rtl2-000084.scm:394
var_1140 = wile_for_each(NULL, var_1141, "bld-rtl-dir/wile-rtl2-000084.scm:394");
}
MK_CLOS(var_1143,1);
P_CLOS(var_1143,0) = var_1139;
lval var_1161;
var_1161 = LVI_NIL();
{
lval var_1162[8];
var_1162[0] = LVI_PROC(fn_1142,var_1143,1);
var_1162[1] = V_CLOS(var_1120,3);
var_1162[2] = var_1161;
// bld-rtl-dir/wile-rtl2-000084.scm:395
var_1161 = wile_map(NULL, var_1162, "bld-rtl-dir/wile-rtl2-000084.scm:395");
}
lval var_1165[8];
var_1165[0] = var_1161;
*var_1139 = var_1123;
var_1121[0] = var_1165[0];
// bld-rtl-dir/wile-rtl2-000084.scm:395
goto lbl_1122;	// selfie
} else {
lval var_1166;
var_1166 = LVI_BOOL(false);
lval var_1167;
if (V_CLOS(var_1120,1).vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1167 = (V_CLOS(var_1120,1).v.pair.cdr ? *(V_CLOS(var_1120,1).v.pair.cdr) : LVI_NIL());
lval var_1170[8];
var_1170[0] = var_1166;
var_1170[1] = var_1123;
var_1170[2] = var_1167;
var_1121[0] = var_1170[0];
var_1121[1] = var_1170[1];
var_1121[2] = var_1170[2];
// bld-rtl-dir/wile-rtl2-000084.scm:392
TAIL_CALL wile_eval_begin(NULL, var_1121, "bld-rtl-dir/wile-rtl2-000084.scm:392");
}
return var_1127;
}
// end of lambda fn_1119

// @@@ lambda (vdef) @@@ bld-rtl-dir/wile-rtl2-000084.scm:387 @@@ fn_1175 @@@
static lval fn_1175(lptr* var_1176, lptr var_1177, const char* cloc)
{
lval var_1179;
if (var_1177[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_1179 = (var_1177[0].v.pair.car ? *(var_1177[0].v.pair.car) : LVI_NIL());
lval var_1180;
var_1180 = LVI_STRING("cadr");
lval var_1181;
{
char* cp = strchr(var_1180.v.str, 'r');
var_1181 = var_1177[0];
while (*(--cp) != 'c') {
if (var_1181.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_1181 = (var_1181.v.pair.car ? *(var_1181.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_1181 = (var_1181.v.pair.cdr ? *(var_1181.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_1180.v.str);
}
}
}
lval var_1182;
lval var_1183[8];
var_1183[0] = V_CLOS(var_1176,0);
var_1183[1] = var_1181;
// bld-rtl-dir/wile-rtl2-000084.scm:388
var_1182 = wile_eval(NULL, var_1183, "bld-rtl-dir/wile-rtl2-000084.scm:388");
lval var_1187[8];
var_1187[0] = var_1179;
var_1187[1] = var_1182;
var_1177[0] = var_1187[0];
var_1177[1] = var_1187[1];
// bld-rtl-dir/wile-rtl2-000084.scm:388
TAIL_CALL fn_1(NULL, var_1177, "bld-rtl-dir/wile-rtl2-000084.scm:388");
}
// end of lambda fn_1175

// @@@ (eval-do env expr) @@@ bld-rtl-dir/wile-rtl2-000084.scm:371 @@@ fn_27 @@@
static lval fn_27(lptr* var_1067, lptr var_1068, const char* cloc)
{
lval var_1070;
lval var_1071;
lval var_1072[8];
var_1072[0] = var_1068[1];
// bld-rtl-dir/wile-rtl2-000084.scm:372
var_1071 = fn_26(NULL, var_1072, "bld-rtl-dir/wile-rtl2-000084.scm:372");
if (LV_IS_FALSE(var_1071)) {
lval var_1074;
var_1074 = LVI_STRING("malformed \'do\' expression \'%v\'");
lval var_1077[8];
var_1077[0] = var_1074;
lval var_1078[8];
var_1078[0] = var_1068[1];
var_1068[1] = wile_gen_list(1, var_1078, NULL);
var_1068[0] = var_1077[0];
// bld-rtl-dir/wile-rtl2-000084.scm:402
TAIL_CALL fn_7(NULL, var_1068, "bld-rtl-dir/wile-rtl2-000084.scm:402");
} else {
lval var_1079;
lval var_1080;
if (var_1068[1].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_1080 = (var_1068[1].v.pair.car ? *(var_1068[1].v.pair.car) : LVI_NIL());
var_1079 = var_1080;
lval var_1081;
lval var_1082;
var_1082 = LVI_STRING("cadr");
lval var_1083;
{
char* cp = strchr(var_1082.v.str, 'r');
var_1083 = var_1068[1];
while (*(--cp) != 'c') {
if (var_1083.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_1083 = (var_1083.v.pair.car ? *(var_1083.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_1083 = (var_1083.v.pair.cdr ? *(var_1083.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_1082.v.str);
}
}
}
var_1081 = var_1083;
lval var_1084;
lval var_1085;
var_1085 = LVI_STRING("cddr");
lval var_1086;
{
char* cp = strchr(var_1085.v.str, 'r');
var_1086 = var_1068[1];
while (*(--cp) != 'c') {
if (var_1086.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_1086 = (var_1086.v.pair.car ? *(var_1086.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_1086 = (var_1086.v.pair.cdr ? *(var_1086.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_1085.v.str);
}
}
}
var_1084 = var_1086;
MK_CLOS(var_1088,0);
lval var_1105;
var_1105 = LVI_NIL();
{
lval var_1106[8];
var_1106[0] = LVI_PROC(fn_1087,var_1088,1);
var_1106[1] = var_1079;
var_1106[2] = var_1105;
// bld-rtl-dir/wile-rtl2-000084.scm:376
var_1105 = wile_for_each(NULL, var_1106, "bld-rtl-dir/wile-rtl2-000084.scm:376");
}
lval var_1108;
var_1108 = LVI_BOOL(true);
do {
lval var_1109;
{
var_1109 = var_1081;
while (var_1109.vt == LV_PAIR) {
var_1109 = (var_1109.v.pair.cdr ? *(var_1109.v.pair.cdr) : LVI_NIL());
}
var_1109 = LVI_BOOL(var_1109.vt == LV_NIL);
}
var_1108 = var_1109;
if (LV_IS_FALSE(var_1108)) { break; }
lval var_1110;
var_1110 = LVI_INT(1);
lval var_1111;
{
lval var_1112[8];
var_1112[0] = var_1110;
var_1112[1] = var_1081;
// bld-rtl-dir/wile-rtl2-000084.scm:383
var_1111 = wile_list_length_ge(NULL, var_1112, "bld-rtl-dir/wile-rtl2-000084.scm:383");
}
var_1108 = var_1111;
if (LV_IS_FALSE(var_1108)) { break; }
} while (0);
if (LV_IS_FALSE(var_1108)) {
lval var_1113;
var_1113 = LVI_STRING("malformed \'do\' test-expr \'%v\'");
lval var_1115[8];
var_1115[0] = var_1113;
lval var_1117[8];
var_1117[0] = var_1081;
var_1115[1] = wile_gen_list(1, var_1117, NULL);
// bld-rtl-dir/wile-rtl2-000084.scm:384
(void)
 fn_7(NULL, var_1115, "bld-rtl-dir/wile-rtl2-000084.scm:384");
} else {
(void)
 LVI_BOOL(false);
}
MK_CLOS(var_1120,4);
lptr var_1171 = new_lv(VT_UNINIT);
var_1171->v.pair.car = &(var_1079);
P_CLOS(var_1120,3) = var_1171;
lptr var_1172 = new_lv(VT_UNINIT);
var_1172->v.pair.car = &(var_1084);
P_CLOS(var_1120,2) = var_1172;
lptr var_1173 = new_lv(VT_UNINIT);
var_1173->v.pair.car = &(var_1081);
P_CLOS(var_1120,1) = var_1173;
lptr var_1174 = new_lv(VT_UNINIT);
var_1174->v.pair.car = &(var_1068[0]);
P_CLOS(var_1120,0) = var_1174;
MK_CLOS(var_1176,1);
P_CLOS(var_1176,0) = var_1174;
lval var_1188;
var_1188 = LVI_NIL();
{
lval var_1189[8];
var_1189[0] = LVI_PROC(fn_1175,var_1176,1);
var_1189[1] = var_1079;
var_1189[2] = var_1188;
// bld-rtl-dir/wile-rtl2-000084.scm:387
var_1188 = wile_map(NULL, var_1189, "bld-rtl-dir/wile-rtl2-000084.scm:387");
}
lval var_1190;
lval var_1191[8];
var_1191[0] = var_1188;
// bld-rtl-dir/wile-rtl2-000084.scm:386
var_1190 = fn_1119(var_1120, var_1191, "bld-rtl-dir/wile-rtl2-000084.scm:386");
*var_1173 = var_1081;
*var_1171 = var_1079;
*var_1172 = var_1084;
*var_1174 = var_1068[0];
var_1070 = var_1190;
}
return var_1070;
}
// end of function fn_27

// @@@ lambda (fs as env) @@@ bld-rtl-dir/wile-rtl2-000084.scm:422 @@@ fn_1239 @@@
static lval fn_1239(lptr* var_1240, lptr var_1241, const char* cloc)
{
lbl_1242:;
lval var_1243;
lval var_1244;
var_1244 = LVI_BOOL(var_1241[0].vt == LV_NIL);
if (LV_IS_FALSE(var_1244)) {
lval var_1245;
if (var_1241[0].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1245 = (var_1241[0].v.pair.cdr ? *(var_1241[0].v.pair.cdr) : LVI_NIL());
lval var_1246;
if (var_1241[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1246 = (var_1241[1].v.pair.cdr ? *(var_1241[1].v.pair.cdr) : LVI_NIL());
lval var_1247;
if (var_1241[0].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_1247 = (var_1241[0].v.pair.car ? *(var_1241[0].v.pair.car) : LVI_NIL());
lval var_1248;
if (var_1241[1].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_1248 = (var_1241[1].v.pair.car ? *(var_1241[1].v.pair.car) : LVI_NIL());
lval var_1249;
lval var_1250[8];
var_1250[0] = var_1247;
var_1250[1] = var_1248;
// bld-rtl-dir/wile-rtl2-000084.scm:428
var_1249 = fn_1(NULL, var_1250, "bld-rtl-dir/wile-rtl2-000084.scm:428");
lval var_1252;
{
lptr p1 = NULL, p2 = NULL;
if (var_1249.vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_1249;
}
if (var_1241[2].vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = var_1241[2];
}
var_1252 = LVI_PAIR(p1, p2);
}
lval var_1255[8];
var_1255[0] = var_1245;
var_1255[1] = var_1246;
var_1255[2] = var_1252;
var_1241[0] = var_1255[0];
var_1241[1] = var_1255[1];
var_1241[2] = var_1255[2];
// bld-rtl-dir/wile-rtl2-000084.scm:427
goto lbl_1242;	// selfie
} else {
var_1243 = var_1241[2];
}
return var_1243;
}
// end of lambda fn_1239

// @@@ (apply-lambda fn args) @@@ bld-rtl-dir/wile-rtl2-000084.scm:406 @@@ wile_eval_apply_lambda @@@
lval wile_eval_apply_lambda(lptr* var_1193, lptr var_1194, const char* cloc)
{
lval var_1196;
lval var_1197;
if (var_1194[0].vt == LV_ILAMBDA) {
var_1197 = var_1194[0].v.ilambda->args;
} else {
WILE_EX("get-interpreted-procedure-arguments", "expects an interpreted procedure");
}
var_1196 = var_1197;
lval var_1198;
lval var_1199;
if (var_1194[0].vt == LV_ILAMBDA) {
var_1199 = LVI_INT(var_1194[0].v.ilambda->arity);
} else {
WILE_EX("get-interpreted-procedure-arity", "expects an interpreted procedure");
}
var_1198 = var_1199;
lval var_1200;
lval var_1201;
{
lval var_1202[8];
var_1202[0] = var_1194[1];
// bld-rtl-dir/wile-rtl2-000084.scm:409
var_1201 = wile_list_length(NULL, var_1202, "bld-rtl-dir/wile-rtl2-000084.scm:409");
}
var_1200 = var_1201;
lval var_1204;
switch (var_1198.vt) {
case LV_REAL:
var_1204 = LVI_BOOL(var_1198.v.rv < 0.0);
break;
case LV_RAT:
var_1204 = LVI_BOOL((var_1198.v.irv.num < 0 && var_1198.v.irv.den >= 0) || (var_1198.v.irv.num > 0 && var_1198.v.irv.den < 0));
break;
case LV_INT:
var_1204 = LVI_BOOL(var_1198.v.iv < 0);
break;
default:
WILE_EX("negative?", "expects a real-valued number");
}
if (LV_IS_FALSE(var_1204)) {
lval var_1206;
switch (TYPE_COMBO(var_1200.vt,var_1198.vt)) {
case TYPE_COMBO(LV_INT,LV_INT):
var_1206 = LVI_BOOL(var_1200.v.iv == var_1198.v.iv);
break;
case TYPE_COMBO(LV_INT,LV_RAT):
var_1206 = LVI_BOOL(var_1200.v.iv * var_1198.v.irv.den == var_1198.v.irv.num);
break;
case TYPE_COMBO(LV_INT,LV_REAL):
var_1206 = LVI_BOOL(var_1200.v.iv == var_1198.v.rv);
break;
case TYPE_COMBO(LV_RAT,LV_INT):
var_1206 = LVI_BOOL(var_1200.v.irv.num == var_1198.v.iv * var_1200.v.irv.den);
break;
case TYPE_COMBO(LV_RAT,LV_RAT):
var_1206 = LVI_BOOL(var_1200.v.irv.num * var_1198.v.irv.den == var_1198.v.irv.num * var_1200.v.irv.den);
break;
case TYPE_COMBO(LV_RAT,LV_REAL):
var_1206 = LVI_BOOL(var_1200.v.irv.num == var_1198.v.rv * var_1200.v.irv.den);
break;
case TYPE_COMBO(LV_REAL,LV_INT):
var_1206 = LVI_BOOL(var_1200.v.rv == var_1198.v.iv);
break;
case TYPE_COMBO(LV_REAL,LV_RAT):
var_1206 = LVI_BOOL(var_1200.v.rv * var_1198.v.irv.den == var_1198.v.irv.num);
break;
case TYPE_COMBO(LV_REAL,LV_REAL):
var_1206 = LVI_BOOL(var_1200.v.rv == var_1198.v.rv);
break;
default:
WILE_EX("==", "inputs are not real-valued numbers");
break;
}
if (LV_IS_FALSE(var_1206)) {
lval var_1207;
var_1207 = LVI_STRING("malformed \'lambda\' evaluation: %d formal vs %d actual args");
lval var_1209[8];
var_1209[0] = var_1207;
lval var_1211[8];
var_1211[0] = var_1198;
var_1211[1] = var_1200;
var_1209[1] = wile_gen_list(2, var_1211, NULL);
// bld-rtl-dir/wile-rtl2-000084.scm:418
(void)
 fn_7(NULL, var_1209, "bld-rtl-dir/wile-rtl2-000084.scm:418");
} else {
(void)
 LVI_BOOL(false);
}
} else {
lval var_1213;
lval var_1214;
{
lval var_1216[1];
var_1216[0] = var_1198;
var_1214 = wile_gen_list(1, var_1216, NULL);
}
{
lval var_1215[8];
var_1215[0] = var_1214;
// bld-rtl-dir/wile-rtl2-000084.scm:411
var_1214 = wile_subtract(NULL, var_1215, "bld-rtl-dir/wile-rtl2-000084.scm:411");
}
lval var_1217;
var_1217 = LVI_INT(1);
lval var_1218;
{
lval var_1220[2];
var_1220[0] = var_1214;
var_1220[1] = var_1217;
var_1218 = wile_gen_list(2, var_1220, NULL);
}
{
lval var_1219[8];
var_1219[0] = var_1218;
// bld-rtl-dir/wile-rtl2-000084.scm:411
var_1218 = wile_subtract(NULL, var_1219, "bld-rtl-dir/wile-rtl2-000084.scm:411");
}
var_1213 = var_1218;
lval var_1222;
switch (TYPE_COMBO(var_1200.vt,var_1213.vt)) {
case TYPE_COMBO(LV_INT,LV_INT):
var_1222 = LVI_BOOL(var_1200.v.iv >= var_1213.v.iv);
break;
case TYPE_COMBO(LV_INT,LV_RAT):
var_1222 = LVI_BOOL(var_1200.v.iv * var_1213.v.irv.den >= var_1213.v.irv.num);
break;
case TYPE_COMBO(LV_INT,LV_REAL):
var_1222 = LVI_BOOL(var_1200.v.iv >= var_1213.v.rv);
break;
case TYPE_COMBO(LV_RAT,LV_INT):
var_1222 = LVI_BOOL(var_1200.v.irv.num >= var_1213.v.iv * var_1200.v.irv.den);
break;
case TYPE_COMBO(LV_RAT,LV_RAT):
var_1222 = LVI_BOOL(var_1200.v.irv.num * var_1213.v.irv.den >= var_1213.v.irv.num * var_1200.v.irv.den);
break;
case TYPE_COMBO(LV_RAT,LV_REAL):
var_1222 = LVI_BOOL(var_1200.v.irv.num >= var_1213.v.rv * var_1200.v.irv.den);
break;
case TYPE_COMBO(LV_REAL,LV_INT):
var_1222 = LVI_BOOL(var_1200.v.rv >= var_1213.v.iv);
break;
case TYPE_COMBO(LV_REAL,LV_RAT):
var_1222 = LVI_BOOL(var_1200.v.rv * var_1213.v.irv.den >= var_1213.v.irv.num);
break;
case TYPE_COMBO(LV_REAL,LV_REAL):
var_1222 = LVI_BOOL(var_1200.v.rv >= var_1213.v.rv);
break;
default:
WILE_EX(">=", "inputs are not real-valued numbers");
break;
}
if (LV_IS_FALSE(var_1222)) {
lval var_1223;
var_1223 = LVI_STRING("malformed \'lambda\' evaluation: %d required vs %d given args");
lval var_1225[8];
var_1225[0] = var_1223;
lval var_1227[8];
var_1227[0] = var_1213;
var_1227[1] = var_1200;
var_1225[1] = wile_gen_list(2, var_1227, NULL);
// bld-rtl-dir/wile-rtl2-000084.scm:413
(void)
 fn_7(NULL, var_1225, "bld-rtl-dir/wile-rtl2-000084.scm:413");
} else {
(void)
 LVI_BOOL(false);
}
lval var_1229;
{
lval var_1230[8];
var_1230[0] = var_1194[1];
var_1230[1] = var_1213;
// bld-rtl-dir/wile-rtl2-000084.scm:415
var_1229 = wile_list_head(NULL, var_1230, "bld-rtl-dir/wile-rtl2-000084.scm:415");
}
lval var_1231;
{
lval var_1232[8];
var_1232[0] = var_1194[1];
var_1232[1] = var_1213;
// bld-rtl-dir/wile-rtl2-000084.scm:416
var_1231 = wile_list_tail(NULL, var_1232, "bld-rtl-dir/wile-rtl2-000084.scm:416");
}
lval var_1233;
{
lval var_1234[1];
var_1234[0] = var_1231;
var_1233 = wile_gen_list(1, var_1234, NULL);
}
lval var_1235;
{
lval var_1237[2];
var_1237[0] = var_1229;
var_1237[1] = var_1233;
var_1235 = wile_gen_list(2, var_1237, NULL);
}
{
lval var_1236[8];
var_1236[0] = var_1235;
// bld-rtl-dir/wile-rtl2-000084.scm:415
var_1235 = wile_list_append(NULL, var_1236, "bld-rtl-dir/wile-rtl2-000084.scm:415");
}
var_1194[1] = var_1235;
(void)
 var_1194[1];
}
lval var_1238;
var_1238 = LVI_BOOL(false);
MK_CLOS(var_1240,0);
lval var_1256;
if (var_1194[0].vt == LV_ILAMBDA) {
var_1256 = var_1194[0].v.ilambda->env;
} else {
WILE_EX("get-interpreted-procedure-environment", "expects an interpreted procedure");
}
lval var_1257;
lval var_1258[8];
var_1258[0] = var_1196;
var_1258[1] = var_1194[1];
var_1258[2] = var_1256;
// bld-rtl-dir/wile-rtl2-000084.scm:422
var_1257 = fn_1239(var_1240, var_1258, "bld-rtl-dir/wile-rtl2-000084.scm:422");
lval var_1260;
if (var_1194[0].vt == LV_ILAMBDA) {
var_1260 = var_1194[0].v.ilambda->body;
} else {
WILE_EX("get-interpreted-procedure-body", "expects an interpreted procedure");
}
lval var_1263[8];
var_1263[0] = var_1238;
var_1263[1] = var_1257;
var_1263[2] = var_1260;
var_1194[0] = var_1263[0];
var_1194[1] = var_1263[1];
var_1194[2] = var_1263[2];
// bld-rtl-dir/wile-rtl2-000084.scm:420
TAIL_CALL wile_eval_begin(NULL, var_1194, "bld-rtl-dir/wile-rtl2-000084.scm:420");
}
// end of function wile_eval_apply_lambda

// @@@ lambda (acc lst) @@@ bld-rtl-dir/wile-rtl2-000084.scm:435 @@@ fn_1271 @@@
static lval fn_1271(lptr* var_1272, lptr var_1273, const char* cloc)
{
lbl_1274:;
lval var_1275;
lval var_1276;
var_1276 = LVI_BOOL(var_1273[1].vt == LV_NIL);
if (LV_IS_FALSE(var_1276)) {
lval var_1277;
if (var_1273[1].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_1277 = (var_1273[1].v.pair.car ? *(var_1273[1].v.pair.car) : LVI_NIL());
lval var_1278;
{
lptr p1 = NULL, p2 = NULL;
if (var_1277.vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_1277;
}
if (var_1273[0].vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = var_1273[0];
}
var_1278 = LVI_PAIR(p1, p2);
}
lval var_1279;
if (var_1273[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1279 = (var_1273[1].v.pair.cdr ? *(var_1273[1].v.pair.cdr) : LVI_NIL());
lval var_1282[8];
var_1282[0] = var_1278;
var_1282[1] = var_1279;
var_1273[0] = var_1282[0];
var_1273[1] = var_1282[1];
// bld-rtl-dir/wile-rtl2-000084.scm:439
goto lbl_1274;	// selfie
} else {
var_1275 = var_1273[0];
}
return var_1275;
}
// end of lambda fn_1271

// @@@ (apply-interp fn . args) @@@ bld-rtl-dir/wile-rtl2-000084.scm:433 @@@ wile_eval_apply_interp @@@
lval wile_eval_apply_interp(lptr* var_1264, lptr var_1265, const char* cloc)
{
lval var_1267;
lval var_1268;
{
lval var_1269[8];
var_1269[0] = var_1265[1];
// bld-rtl-dir/wile-rtl2-000084.scm:434
var_1268 = wile_list_reverse(NULL, var_1269, "bld-rtl-dir/wile-rtl2-000084.scm:434");
}
var_1267 = var_1268;
lval var_1270;
MK_CLOS(var_1272,0);
lval var_1283;
if (var_1267.vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_1283 = (var_1267.v.pair.car ? *(var_1267.v.pair.car) : LVI_NIL());
lval var_1284;
if (var_1267.vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1284 = (var_1267.v.pair.cdr ? *(var_1267.v.pair.cdr) : LVI_NIL());
lval var_1285;
lval var_1286[8];
var_1286[0] = var_1283;
var_1286[1] = var_1284;
// bld-rtl-dir/wile-rtl2-000084.scm:435
var_1285 = fn_1271(var_1272, var_1286, "bld-rtl-dir/wile-rtl2-000084.scm:435");
var_1270 = var_1285;
lval var_1288;
lval var_1289;
var_1289 = LVI_BOOL(var_1265[0].vt == LV_ILAMBDA);
if (LV_IS_FALSE(var_1289)) {
lval var_1290;
{
lval var_1291[2];
var_1291[0] = var_1265[0];
var_1291[1] = var_1270;
var_1290 = wile_gen_list(2, var_1291, NULL);
}
var_1290 = wile_apply_function(&(var_1290), LISP_WHENCE);
var_1288 = var_1290;
} else {
lval var_1294[8];
var_1294[0] = var_1265[0];
var_1294[1] = var_1270;
var_1265[0] = var_1294[0];
var_1265[1] = var_1294[1];
// bld-rtl-dir/wile-rtl2-000084.scm:441
TAIL_CALL wile_eval_apply_lambda(NULL, var_1265, "bld-rtl-dir/wile-rtl2-000084.scm:441");
}
return var_1288;
}
// end of function wile_eval_apply_interp

// @@@ lambda (e) @@@ bld-rtl-dir/wile-rtl2-000084.scm:490 @@@ fn_1439 @@@
static lval fn_1439(lptr* var_1440, lptr var_1441, const char* cloc)
{
lval var_1445[8];
var_1445[0] = V_CLOS(var_1440,0);
var_1445[1] = var_1441[0];
var_1441[0] = var_1445[0];
var_1441[1] = var_1445[1];
// bld-rtl-dir/wile-rtl2-000084.scm:490
TAIL_CALL wile_eval(NULL, var_1441, "bld-rtl-dir/wile-rtl2-000084.scm:490");
}
// end of lambda fn_1439

// @@@ lambda (e) @@@ bld-rtl-dir/wile-rtl2-000084.scm:487 @@@ fn_1454 @@@
static lval fn_1454(lptr* var_1455, lptr var_1456, const char* cloc)
{
lval var_1460[8];
var_1460[0] = V_CLOS(var_1455,0);
var_1460[1] = var_1456[0];
var_1456[0] = var_1460[0];
var_1456[1] = var_1460[1];
// bld-rtl-dir/wile-rtl2-000084.scm:488
TAIL_CALL wile_eval(NULL, var_1456, "bld-rtl-dir/wile-rtl2-000084.scm:488");
}
// end of lambda fn_1454

// @@@ (eval env expr) @@@ bld-rtl-dir/wile-rtl2-000084.scm:446 @@@ wile_eval @@@
lval wile_eval(lptr* var_1295, lptr var_1296, const char* cloc)
{
lbl_1297:;
lval var_1298;
do {
lval var_1299;
var_1299 = LVI_BOOL(false);
do {
lval var_1300;
lval var_1301[8];
var_1301[0] = var_1296[1];
// bld-rtl-dir/wile-rtl2-000084.scm:447
var_1300 = fn_8(NULL, var_1301, "bld-rtl-dir/wile-rtl2-000084.scm:447");
var_1299 = var_1300;
if (!LV_IS_FALSE(var_1299)) { break; }
lval var_1303;
var_1303 = LVI_BOOL(var_1296[1].vt == LV_VECTOR);
var_1299 = var_1303;
if (!LV_IS_FALSE(var_1299)) { break; }
lval var_1304;
var_1304 = LVI_BOOL(var_1296[1].vt == LV_BVECTOR);
var_1299 = var_1304;
if (!LV_IS_FALSE(var_1299)) { break; }
} while (0);
if (!LV_IS_FALSE(var_1299)) {
var_1298 = var_1296[1];
break;
}
lval var_1305;
var_1305 = LVI_BOOL(var_1296[1].vt == LV_SYMBOL);
if (!LV_IS_FALSE(var_1305)) {
lval var_1306;
var_1306 = LVI_BOOL(false);
lval var_1309[8];
var_1309[0] = var_1306;
var_1309[1] = var_1296[0];
var_1309[2] = var_1296[1];
var_1296[0] = var_1309[0];
var_1296[1] = var_1309[1];
var_1296[2] = var_1309[2];
// bld-rtl-dir/wile-rtl2-000084.scm:449
TAIL_CALL fn_11(NULL, var_1296, "bld-rtl-dir/wile-rtl2-000084.scm:449");
}
lval var_1310;
var_1310 = LVI_BOOL(var_1296[1].vt == LV_PAIR);
if (!LV_IS_FALSE(var_1310)) {
lval var_1311;
do {
lval var_1312;
if (var_1296[1].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_1312 = (var_1296[1].v.pair.car ? *(var_1296[1].v.pair.car) : LVI_NIL());
lval var_1313;
lval var_1314[8];
var_1314[0] = var_1312;
// bld-rtl-dir/wile-rtl2-000084.scm:451
var_1313 = fn_9(NULL, var_1314, "bld-rtl-dir/wile-rtl2-000084.scm:451");
if (!LV_IS_FALSE(var_1313)) {
lval var_1316;
if (var_1296[1].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_1316 = (var_1296[1].v.pair.car ? *(var_1296[1].v.pair.car) : LVI_NIL());
lval var_1317;
if (var_1316.vt != LV_SYMBOL) {
wile_exception("case", LISP_WHENCE, "case-value type does not match case type");
}
do {
if ((strcmp(var_1316.v.str, "quote") == 0)) {
lval var_1318;
var_1318 = LVI_STRING("cadr");
lval var_1319;
{
char* cp = strchr(var_1318.v.str, 'r');
var_1319 = var_1296[1];
while (*(--cp) != 'c') {
if (var_1319.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_1319 = (var_1319.v.pair.car ? *(var_1319.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_1319 = (var_1319.v.pair.cdr ? *(var_1319.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_1318.v.str);
}
}
}
var_1317 = var_1319;
break;
}
if ((strcmp(var_1316.v.str, "begin") == 0)) {
lval var_1320;
var_1320 = LVI_BOOL(false);
lval var_1321;
if (var_1296[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1321 = (var_1296[1].v.pair.cdr ? *(var_1296[1].v.pair.cdr) : LVI_NIL());
lval var_1324[8];
var_1324[0] = var_1320;
var_1324[1] = var_1296[0];
var_1324[2] = var_1321;
var_1296[0] = var_1324[0];
var_1296[1] = var_1324[1];
var_1296[2] = var_1324[2];
// bld-rtl-dir/wile-rtl2-000084.scm:454
TAIL_CALL wile_eval_begin(NULL, var_1296, "bld-rtl-dir/wile-rtl2-000084.scm:454");
}
if ((strcmp(var_1316.v.str, "if") == 0)) {
lval var_1325;
if (var_1296[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1325 = (var_1296[1].v.pair.cdr ? *(var_1296[1].v.pair.cdr) : LVI_NIL());
lval var_1328[8];
var_1328[0] = var_1296[0];
var_1328[1] = var_1325;
var_1296[0] = var_1328[0];
var_1296[1] = var_1328[1];
// bld-rtl-dir/wile-rtl2-000084.scm:455
TAIL_CALL fn_13(NULL, var_1296, "bld-rtl-dir/wile-rtl2-000084.scm:455");
}
if ((strcmp(var_1316.v.str, "and") == 0)) {
lval var_1329;
var_1329 = LVI_BOOL(true);
lval var_1330;
if (var_1296[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1330 = (var_1296[1].v.pair.cdr ? *(var_1296[1].v.pair.cdr) : LVI_NIL());
lval var_1333[8];
var_1333[0] = var_1329;
var_1333[1] = var_1296[0];
var_1333[2] = var_1330;
var_1296[0] = var_1333[0];
var_1296[1] = var_1333[1];
var_1296[2] = var_1333[2];
// bld-rtl-dir/wile-rtl2-000084.scm:456
TAIL_CALL fn_14(NULL, var_1296, "bld-rtl-dir/wile-rtl2-000084.scm:456");
}
if ((strcmp(var_1316.v.str, "or") == 0)) {
lval var_1334;
var_1334 = LVI_BOOL(false);
lval var_1335;
if (var_1296[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1335 = (var_1296[1].v.pair.cdr ? *(var_1296[1].v.pair.cdr) : LVI_NIL());
lval var_1338[8];
var_1338[0] = var_1334;
var_1338[1] = var_1296[0];
var_1338[2] = var_1335;
var_1296[0] = var_1338[0];
var_1296[1] = var_1338[1];
var_1296[2] = var_1338[2];
// bld-rtl-dir/wile-rtl2-000084.scm:457
TAIL_CALL fn_15(NULL, var_1296, "bld-rtl-dir/wile-rtl2-000084.scm:457");
}
if ((strcmp(var_1316.v.str, "let") == 0)) {
lval var_1339;
var_1339 = LVI_BOOL(false);
lval var_1340;
var_1340 = LVI_BOOL(false);
lval var_1341;
if (var_1296[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1341 = (var_1296[1].v.pair.cdr ? *(var_1296[1].v.pair.cdr) : LVI_NIL());
lval var_1344[8];
var_1344[0] = var_1339;
var_1344[1] = var_1340;
var_1344[2] = var_1296[0];
var_1344[3] = var_1341;
var_1296[0] = var_1344[0];
var_1296[1] = var_1344[1];
var_1296[2] = var_1344[2];
var_1296[3] = var_1344[3];
// bld-rtl-dir/wile-rtl2-000084.scm:458
TAIL_CALL fn_17(NULL, var_1296, "bld-rtl-dir/wile-rtl2-000084.scm:458");
}
if ((strcmp(var_1316.v.str, "let*") == 0)) {
lval var_1345;
var_1345 = LVI_BOOL(false);
lval var_1346;
var_1346 = LVI_BOOL(true);
lval var_1347;
if (var_1296[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1347 = (var_1296[1].v.pair.cdr ? *(var_1296[1].v.pair.cdr) : LVI_NIL());
lval var_1350[8];
var_1350[0] = var_1345;
var_1350[1] = var_1346;
var_1350[2] = var_1296[0];
var_1350[3] = var_1347;
var_1296[0] = var_1350[0];
var_1296[1] = var_1350[1];
var_1296[2] = var_1350[2];
var_1296[3] = var_1350[3];
// bld-rtl-dir/wile-rtl2-000084.scm:459
TAIL_CALL fn_17(NULL, var_1296, "bld-rtl-dir/wile-rtl2-000084.scm:459");
}
if ((strcmp(var_1316.v.str, "letrec") == 0)) {
lval var_1351;
var_1351 = LVI_BOOL(true);
lval var_1352;
var_1352 = LVI_BOOL(false);
lval var_1353;
if (var_1296[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1353 = (var_1296[1].v.pair.cdr ? *(var_1296[1].v.pair.cdr) : LVI_NIL());
lval var_1356[8];
var_1356[0] = var_1351;
var_1356[1] = var_1352;
var_1356[2] = var_1296[0];
var_1356[3] = var_1353;
var_1296[0] = var_1356[0];
var_1296[1] = var_1356[1];
var_1296[2] = var_1356[2];
var_1296[3] = var_1356[3];
// bld-rtl-dir/wile-rtl2-000084.scm:460
TAIL_CALL fn_17(NULL, var_1296, "bld-rtl-dir/wile-rtl2-000084.scm:460");
}
if ((strcmp(var_1316.v.str, "letrec*") == 0)) {
lval var_1357;
var_1357 = LVI_BOOL(true);
lval var_1358;
var_1358 = LVI_BOOL(true);
lval var_1359;
if (var_1296[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1359 = (var_1296[1].v.pair.cdr ? *(var_1296[1].v.pair.cdr) : LVI_NIL());
lval var_1362[8];
var_1362[0] = var_1357;
var_1362[1] = var_1358;
var_1362[2] = var_1296[0];
var_1362[3] = var_1359;
var_1296[0] = var_1362[0];
var_1296[1] = var_1362[1];
var_1296[2] = var_1362[2];
var_1296[3] = var_1362[3];
// bld-rtl-dir/wile-rtl2-000084.scm:461
TAIL_CALL fn_17(NULL, var_1296, "bld-rtl-dir/wile-rtl2-000084.scm:461");
}
if ((strcmp(var_1316.v.str, "cond") == 0)) {
lval var_1363;
var_1363 = LVI_SYMBOL("else");
lval var_1364;
var_1364 = LVI_BOOL(true);
lval var_1365;
lval var_1366[8];
var_1366[0] = var_1363;
var_1366[1] = var_1364;
// bld-rtl-dir/wile-rtl2-000084.scm:463
var_1365 = fn_1(NULL, var_1366, "bld-rtl-dir/wile-rtl2-000084.scm:463");
lval var_1368;
{
lptr p1 = NULL, p2 = NULL;
if (var_1365.vt != LV_NIL) {
p1 = new_lv(LV_NIL);
*p1 = var_1365;
}
if (var_1296[0].vt != LV_NIL) {
p2 = new_lv(LV_NIL);
*p2 = var_1296[0];
}
var_1368 = LVI_PAIR(p1, p2);
}
lval var_1369;
if (var_1296[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1369 = (var_1296[1].v.pair.cdr ? *(var_1296[1].v.pair.cdr) : LVI_NIL());
lval var_1372[8];
var_1372[0] = var_1368;
var_1372[1] = var_1369;
var_1296[0] = var_1372[0];
var_1296[1] = var_1372[1];
// bld-rtl-dir/wile-rtl2-000084.scm:462
TAIL_CALL fn_20(NULL, var_1296, "bld-rtl-dir/wile-rtl2-000084.scm:462");
}
if ((strcmp(var_1316.v.str, "set!") == 0)) {
lval var_1373;
if (var_1296[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1373 = (var_1296[1].v.pair.cdr ? *(var_1296[1].v.pair.cdr) : LVI_NIL());
lval var_1376[8];
var_1376[0] = var_1296[0];
var_1376[1] = var_1373;
var_1296[0] = var_1376[0];
var_1296[1] = var_1376[1];
// bld-rtl-dir/wile-rtl2-000084.scm:464
TAIL_CALL fn_21(NULL, var_1296, "bld-rtl-dir/wile-rtl2-000084.scm:464");
}
if ((strcmp(var_1316.v.str, "guard") == 0)) {
lval var_1377;
if (var_1296[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1377 = (var_1296[1].v.pair.cdr ? *(var_1296[1].v.pair.cdr) : LVI_NIL());
lval var_1380[8];
var_1380[0] = var_1296[0];
var_1380[1] = var_1377;
var_1296[0] = var_1380[0];
var_1296[1] = var_1380[1];
// bld-rtl-dir/wile-rtl2-000084.scm:465
TAIL_CALL fn_22(NULL, var_1296, "bld-rtl-dir/wile-rtl2-000084.scm:465");
}
if ((strcmp(var_1316.v.str, "case") == 0)) {
lval var_1381;
if (var_1296[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1381 = (var_1296[1].v.pair.cdr ? *(var_1296[1].v.pair.cdr) : LVI_NIL());
lval var_1384[8];
var_1384[0] = var_1296[0];
var_1384[1] = var_1381;
var_1296[0] = var_1384[0];
var_1296[1] = var_1384[1];
// bld-rtl-dir/wile-rtl2-000084.scm:466
TAIL_CALL fn_23(NULL, var_1296, "bld-rtl-dir/wile-rtl2-000084.scm:466");
}
if ((strcmp(var_1316.v.str, "lambda") == 0)) {
lval var_1385;
if (var_1296[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1385 = (var_1296[1].v.pair.cdr ? *(var_1296[1].v.pair.cdr) : LVI_NIL());
lval var_1388[8];
var_1388[0] = var_1296[0];
var_1388[1] = var_1385;
var_1296[0] = var_1388[0];
var_1296[1] = var_1388[1];
// bld-rtl-dir/wile-rtl2-000084.scm:467
TAIL_CALL fn_25(NULL, var_1296, "bld-rtl-dir/wile-rtl2-000084.scm:467");
}
if ((strcmp(var_1316.v.str, "do") == 0)) {
lval var_1389;
if (var_1296[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1389 = (var_1296[1].v.pair.cdr ? *(var_1296[1].v.pair.cdr) : LVI_NIL());
lval var_1392[8];
var_1392[0] = var_1296[0];
var_1392[1] = var_1389;
var_1296[0] = var_1392[0];
var_1296[1] = var_1392[1];
// bld-rtl-dir/wile-rtl2-000084.scm:468
TAIL_CALL fn_27(NULL, var_1296, "bld-rtl-dir/wile-rtl2-000084.scm:468");
}
if ((strcmp(var_1316.v.str, "pragma") == 0)) {
lval var_1393;
var_1393 = LVI_STRING(";;; ignoring %v\n");
lval var_1394;
{
lval var_1396[1];
var_1396[0] = var_1296[1];
var_1394 = wile_gen_list(1, var_1396, NULL);
}
{
lval var_1395[8];
var_1395[0] = var_stderr;
var_1395[1] = var_1393;
var_1395[2] = var_1394;
// bld-rtl-dir/wile-rtl2-000084.scm:469
var_1394 = wile_fprintf(NULL, var_1395, "bld-rtl-dir/wile-rtl2-000084.scm:469");
}
var_1317 = var_1394;
break;
}
if ((strcmp(var_1316.v.str, "quasiquote") == 0)) {
lval var_1397;
lval var_1398;
var_1398 = LVI_INT(2);
lval var_1399;
{
lval var_1400[8];
var_1400[0] = var_1398;
var_1400[1] = var_1296[1];
// bld-rtl-dir/wile-rtl2-000084.scm:471
var_1399 = wile_list_length_eq(NULL, var_1400, "bld-rtl-dir/wile-rtl2-000084.scm:471");
}
if (LV_IS_FALSE(var_1399)) {
lval var_1401;
var_1401 = LVI_STRING("malformed \'quasiquote\' expression \'%v\'");
lval var_1402;
if (var_1296[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1402 = (var_1296[1].v.pair.cdr ? *(var_1296[1].v.pair.cdr) : LVI_NIL());
lval var_1405[8];
var_1405[0] = var_1401;
lval var_1406[8];
var_1406[0] = var_1402;
var_1296[1] = wile_gen_list(1, var_1406, NULL);
var_1296[0] = var_1405[0];
// bld-rtl-dir/wile-rtl2-000084.scm:473
TAIL_CALL fn_7(NULL, var_1296, "bld-rtl-dir/wile-rtl2-000084.scm:473");
} else {
lval var_1407;
var_1407 = LVI_INT(1);
lval var_1408;
var_1408 = LVI_STRING("cadr");
lval var_1409;
{
char* cp = strchr(var_1408.v.str, 'r');
var_1409 = var_1296[1];
while (*(--cp) != 'c') {
if (var_1409.vt != LV_PAIR) {
WILE_EX("cxr", "input does not have the right structure!");
}
if (*cp == 'a') {
var_1409 = (var_1409.v.pair.car ? *(var_1409.v.pair.car) : LVI_NIL());
} else if (*cp == 'd') {
var_1409 = (var_1409.v.pair.cdr ? *(var_1409.v.pair.cdr) : LVI_NIL());
} else {
WILE_EX("cxr", "got malformed control string '%s'", var_1408.v.str);
}
}
}
lval var_1412[8];
var_1412[0] = var_1407;
var_1412[1] = var_1296[0];
var_1412[2] = var_1409;
var_1296[0] = var_1412[0];
var_1296[1] = var_1412[1];
var_1296[2] = var_1412[2];
// bld-rtl-dir/wile-rtl2-000084.scm:472
TAIL_CALL fn_19(NULL, var_1296, "bld-rtl-dir/wile-rtl2-000084.scm:472");
}
var_1317 = var_1397;
break;
}
if ((strcmp(var_1316.v.str, "unquote") == 0)) {
lval var_1413;
var_1413 = LVI_STRING("naked \'unquote\' expression \'%v\'");
lval var_1416[8];
var_1416[0] = var_1413;
lval var_1417[8];
var_1417[0] = var_1296[1];
var_1296[1] = wile_gen_list(1, var_1417, NULL);
var_1296[0] = var_1416[0];
// bld-rtl-dir/wile-rtl2-000084.scm:476
TAIL_CALL fn_7(NULL, var_1296, "bld-rtl-dir/wile-rtl2-000084.scm:476");
}
if ((strcmp(var_1316.v.str, "unquote-splicing") == 0)) {
lval var_1418;
var_1418 = LVI_STRING("naked \'unquote-splicing\' expression \'%v\'");
lval var_1421[8];
var_1421[0] = var_1418;
lval var_1422[8];
var_1422[0] = var_1296[1];
var_1296[1] = wile_gen_list(1, var_1422, NULL);
var_1296[0] = var_1421[0];
// bld-rtl-dir/wile-rtl2-000084.scm:478
TAIL_CALL fn_7(NULL, var_1296, "bld-rtl-dir/wile-rtl2-000084.scm:478");
}
{
lval var_1423;
var_1423 = LVI_SYMBOL("unimplemented-special-form");
var_1317 = var_1423;
break;
}
} while (0);
var_1311 = var_1317;
break;
}
lval var_1424;
lval var_1425[8];
var_1425[0] = var_1296[1];
// bld-rtl-dir/wile-rtl2-000084.scm:480
var_1424 = wile_eval_define_form(NULL, var_1425, "bld-rtl-dir/wile-rtl2-000084.scm:480");
if (!LV_IS_FALSE(var_1424)) {
lval var_1427;
var_1427 = LVI_STRING("misplaced \'define\' expression \'%v\'");
lval var_1430[8];
var_1430[0] = var_1427;
lval var_1431[8];
var_1431[0] = var_1296[1];
var_1296[1] = wile_gen_list(1, var_1431, NULL);
var_1296[0] = var_1430[0];
// bld-rtl-dir/wile-rtl2-000084.scm:481
TAIL_CALL fn_7(NULL, var_1296, "bld-rtl-dir/wile-rtl2-000084.scm:481");
}
lval var_1432;
lval var_1433;
if (var_1296[1].vt != LV_PAIR) {
WILE_EX("car", "input is not a pair!");
}
var_1433 = (var_1296[1].v.pair.car ? *(var_1296[1].v.pair.car) : LVI_NIL());
lval var_1434;
lval var_1435[8];
var_1435[0] = var_1296[0];
var_1435[1] = var_1433;
// bld-rtl-dir/wile-rtl2-000084.scm:483
var_1434 = wile_eval(NULL, var_1435, "bld-rtl-dir/wile-rtl2-000084.scm:483");
var_1432 = var_1434;
lval var_1437;
lval var_1438;
var_1438 = LVI_BOOL(var_1432.vt == LV_ILAMBDA);
if (LV_IS_FALSE(var_1438)) {
MK_CLOS(var_1440,1);
lptr var_1446 = new_lv(VT_UNINIT);
var_1446->v.pair.car = &(var_1296[0]);
P_CLOS(var_1440,0) = var_1446;
lval var_1447;
if (var_1296[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1447 = (var_1296[1].v.pair.cdr ? *(var_1296[1].v.pair.cdr) : LVI_NIL());
lval var_1448;
var_1448 = LVI_NIL();
{
lval var_1449[8];
var_1449[0] = LVI_PROC(fn_1439,var_1440,1);
var_1449[1] = var_1447;
var_1449[2] = var_1448;
// bld-rtl-dir/wile-rtl2-000084.scm:490
var_1448 = wile_map(NULL, var_1449, "bld-rtl-dir/wile-rtl2-000084.scm:490");
}
lval var_1450;
{
lval var_1451[2];
var_1451[0] = var_1432;
var_1451[1] = var_1448;
var_1450 = wile_gen_list(2, var_1451, NULL);
}
var_1450 = wile_apply_function(&(var_1450), LISP_WHENCE);
*var_1446 = var_1296[0];
var_1437 = var_1450;
} else {
lval var_1452;
lval var_1453;
if (var_1432.vt == LV_ILAMBDA) {
var_1453 = LVI_BOOL(var_1432.v.ilambda->macro);
} else {
WILE_EX("get-interpreted-procedure-macro", "expects an interpreted procedure");
}
if (LV_IS_FALSE(var_1453)) {
MK_CLOS(var_1455,1);
lptr var_1461 = new_lv(VT_UNINIT);
var_1461->v.pair.car = &(var_1296[0]);
P_CLOS(var_1455,0) = var_1461;
lval var_1462;
if (var_1296[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1462 = (var_1296[1].v.pair.cdr ? *(var_1296[1].v.pair.cdr) : LVI_NIL());
lval var_1463;
var_1463 = LVI_NIL();
{
lval var_1464[8];
var_1464[0] = LVI_PROC(fn_1454,var_1455,1);
var_1464[1] = var_1462;
var_1464[2] = var_1463;
// bld-rtl-dir/wile-rtl2-000084.scm:487
var_1463 = wile_map(NULL, var_1464, "bld-rtl-dir/wile-rtl2-000084.scm:487");
}
lval var_1467[8];
var_1467[0] = var_1432;
var_1467[1] = var_1463;
*var_1461 = var_1296[0];
var_1296[0] = var_1467[0];
var_1296[1] = var_1467[1];
// bld-rtl-dir/wile-rtl2-000084.scm:487
TAIL_CALL wile_eval_apply_lambda(NULL, var_1296, "bld-rtl-dir/wile-rtl2-000084.scm:487");
} else {
lval var_1468;
if (var_1296[1].vt != LV_PAIR) {
WILE_EX("cdr", "input is not a pair!");
}
var_1468 = (var_1296[1].v.pair.cdr ? *(var_1296[1].v.pair.cdr) : LVI_NIL());
lval var_1469;
lval var_1470[8];
var_1470[0] = var_1432;
var_1470[1] = var_1468;
// bld-rtl-dir/wile-rtl2-000084.scm:486
var_1469 = wile_eval_apply_lambda(NULL, var_1470, "bld-rtl-dir/wile-rtl2-000084.scm:486");
lval var_1474[8];
var_1474[0] = var_1296[0];
var_1474[1] = var_1469;
var_1296[0] = var_1474[0];
var_1296[1] = var_1474[1];
// bld-rtl-dir/wile-rtl2-000084.scm:486
goto lbl_1297;	// selfie
}
var_1437 = var_1452;
}
var_1311 = var_1437;
} while (0);
var_1298 = var_1311;
break;
}
var_1298 = LVI_BOOL(false);
} while (0);
return var_1298;
}
// end of function wile_eval
